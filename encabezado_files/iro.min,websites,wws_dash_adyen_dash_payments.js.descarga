function website_scrollTop(e){if(0!=e.scrollTop())e.animate({scrollTop:0},1)}!function(t){function a(e,t){if(!(1<e.originalEvent.touches.length)){e.preventDefault();var a=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,e=t.ui.mouse.prototype,o=e._mouseInit,n=e._mouseDestroy;e._touchStart=function(e){!i&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(i=!0,this._touchMoved=!1,a(e,"mouseover"),a(e,"mousemove"),a(e,"mousedown"))},e._touchMove=function(e){i&&(this._touchMoved=!0,a(e,"mousemove"))},e._touchEnd=function(e){i&&(a(e,"mouseup"),a(e,"mouseout"),this._touchMoved||a(e,"click"),i=!1)},e._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)},e._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),n.call(e)}}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(_){function o(e){var t=e.parent();e.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),t.before(e).remove()}function n(e){var t=e.parent(),a=t.find(".minicolors-panel"),i=e.data("minicolors-settings");!e.data("minicolors-initialized")||e.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(s(),t.addClass("minicolors-focus"),a.stop(!0,!0).fadeIn(i.showSpeed,function(){i.show&&i.show.call(e.get(0))}))}function s(){_(".minicolors-focus").each(function(){var e=_(this),t=e.find(".minicolors-input"),a=e.find(".minicolors-panel"),i=t.data("minicolors-settings");a.fadeOut(i.hideSpeed,function(){i.hide&&i.hide.call(t.get(0)),e.removeClass("minicolors-focus")})})}function a(e,t,a){var i=e.parents(".minicolors").find(".minicolors-input"),o=i.data("minicolors-settings"),n=e.find("[class$=-picker]"),s=e.offset().left,r=e.offset().top,d=Math.round(t.pageX-s),u=Math.round(t.pageY-r),a=a?o.animationSpeed:0;t.originalEvent.changedTouches&&(d=t.originalEvent.changedTouches[0].pageX-s,u=t.originalEvent.changedTouches[0].pageY-r),u<0&&(u=0),(d=d<0?0:d)>e.width()&&(d=e.width()),u>e.height()&&(u=e.height()),e.parent().is(".minicolors-slider-wheel")&&n.parent().is(".minicolors-grid")&&(s=75-d,t=75-u,r=Math.sqrt(s*s+t*t),(t=Math.atan2(t,s))<0&&(t+=2*Math.PI),75<r&&(d=75-75*Math.cos(t),u=75-75*Math.sin(t)),d=Math.round(d),u=Math.round(u)),e.is(".minicolors-grid")?n.stop(!0).animate({top:u+"px",left:d+"px"},a,o.animationEasing,function(){l(i,e)}):n.stop(!0).animate({top:u+"px"},a,o.animationEasing,function(){l(i,e)})}function l(e,t){function a(e,t){var a,i;return e.length&&t?(a=e.offset().left,i=e.offset().top,{x:a-t.offset().left+e.outerWidth()/2,y:i-t.offset().top+e.outerHeight()/2}):null}var i,o,n,s=e.val(),r=e.attr("data-format"),d=(e.attr("data-keywords"),e.attr("data-opacity")),u=e.parent(),l=e.data("minicolors-settings"),c=u.find(".minicolors-swatch"),p=u.find(".minicolors-grid"),m=u.find(".minicolors-slider"),b=u.find(".minicolors-opacity-slider"),f=p.find("[class$=-picker]"),h=m.find("[class$=-picker]"),g=b.find("[class$=-picker]"),w=a(f,p),v=a(h,m),f=a(g,b);if(t.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(l.control){case"wheel":i=p.width()/2-w.x,n=p.height()/2-w.y,o=Math.sqrt(i*i+n*n),(n=Math.atan2(n,i))<0&&(n+=2*Math.PI),75<o&&(w.x=69-(o=75)*Math.cos(n),w.y=69-75*Math.sin(n)),i=A(o/.75,0,100),s=T({h:o=A(180*n/Math.PI,0,360),s:i,b:n=A(100-Math.floor(v.y*(100/m.height())),0,100)}),m.css("backgroundColor",T({h:o,s:i,b:100}));break;case"saturation":s=T({h:o=A(parseInt(w.x*(360/p.width()),10),0,360),s:i=A(100-Math.floor(v.y*(100/m.height())),0,100),b:n=A(100-Math.floor(w.y*(100/p.height())),0,100)}),m.css("backgroundColor",T({h:o,s:100,b:n})),u.find(".minicolors-grid-inner").css("opacity",i/100);break;case"brightness":s=T({h:o=A(parseInt(w.x*(360/p.width()),10),0,360),s:i=A(100-Math.floor(w.y*(100/p.height())),0,100),b:n=A(100-Math.floor(v.y*(100/m.height())),0,100)}),m.css("backgroundColor",T({h:o,s:i,b:100})),u.find(".minicolors-grid-inner").css("opacity",1-n/100);break;default:s=T({h:o=A(360-parseInt(v.y*(360/m.height()),10),0,360),s:i=A(Math.floor(w.x*(100/p.width())),0,100),b:n=A(100-Math.floor(w.y*(100/p.height())),0,100)}),p.css("backgroundColor",T({h:o,s:100,b:100}))}if(d=l.opacity?parseFloat(1-f.y/b.height()).toFixed(2):1,l.opacity&&e.attr("data-opacity",d),"rgb"===r){h=D(s),d=""===e.attr("data-opacity")?1:A(parseFloat(e.attr("data-opacity")).toFixed(2),0,1);!isNaN(d)&&l.opacity||(d=1),e.minicolors("rgbObject").a<=1&&h&&l.opacity?value="rgba("+h.r+", "+h.g+", "+h.b+", "+parseFloat(d)+")":value="rgb("+h.r+", "+h.g+", "+h.b+")"}else value=y(s,l.letterCase);e.val(value)}c.find("span").css({backgroundColor:s,opacity:d}),$(e,value,d)}function d(e,t){e.attr("data-format");var a,i,o,n,s,r,d,u,l=e.attr("data-keywords"),c=e.parent(),p=e.data("minicolors-settings"),m=c.find(".minicolors-swatch"),b=c.find(".minicolors-grid"),f=c.find(".minicolors-slider"),h=c.find(".minicolors-opacity-slider"),g=b.find("[class$=-picker]"),w=f.find("[class$=-picker]"),v=h.find("[class$=-picker]");switch(F(e.val())?(a=(u=(u=e.val()).match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===u.length?"#"+("0"+parseInt(u[1],10).toString(16)).slice(-2)+("0"+parseInt(u[2],10).toString(16)).slice(-2)+("0"+parseInt(u[3],10).toString(16)).slice(-2):"",(alpha=A(parseFloat((u=(u=e.val()).match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i))&&6===u.length?u[4]:"1").toFixed(2),0,1))&&e.attr("data-opacity",alpha)):a=y(C(e.val(),!0),p.letterCase),i=function(e){e=function(e){var t={h:0,s:0,b:0},a=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),a=i-a;return t.b=i,t.s=0!==i?255*a/i:0,0!==t.s?e.r===i?t.h=(e.g-e.b)/a:e.g===i?t.h=2+(e.b-e.r)/a:t.h=4+(e.r-e.g)/a:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}(D(e));return 0===e.s&&(e.h=360),e}(a=a||y(k(p.defaultValue,!0),p.letterCase)),l=l?_.map(l.split(","),function(e){return _.trim(e.toLowerCase())}):[],""!==e.val()&&-1<_.inArray(e.val().toLowerCase(),l)?value=y(e.val()):value=F(e.val())?E(e.val()):a,t||e.val(value),p.opacity&&(o=""===e.attr("data-opacity")?1:A(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),isNaN(o)&&(o=1),e.attr("data-opacity",o),m.find("span").css("opacity",o),s=A(h.height()-h.height()*o,0,h.height()),v.css("top",s+"px")),"transparent"===e.val().toLowerCase()&&m.find("span").css("opacity",0),m.find("span").css("backgroundColor",a),p.control){case"wheel":r=A(Math.ceil(.75*i.s),0,b.height()/2),d=i.h*Math.PI/180,n=A(75-Math.cos(d)*r,0,b.width()),s=A(75-Math.sin(d)*r,0,b.height()),g.css({top:s+"px",left:n+"px"}),s=150-i.b/(100/b.height()),w.css("top",(s=""===a?0:s)+"px"),f.css("backgroundColor",T({h:i.h,s:i.s,b:100}));break;case"saturation":n=A(5*i.h/12,0,150),s=A(b.height()-Math.ceil(i.b/(100/b.height())),0,b.height()),g.css({top:s+"px",left:n+"px"}),s=A(f.height()-i.s*(f.height()/100),0,f.height()),w.css("top",s+"px"),f.css("backgroundColor",T({h:i.h,s:100,b:i.b})),c.find(".minicolors-grid-inner").css("opacity",i.s/100);break;case"brightness":n=A(5*i.h/12,0,150),s=A(b.height()-Math.ceil(i.s/(100/b.height())),0,b.height()),g.css({top:s+"px",left:n+"px"}),s=A(f.height()-i.b*(f.height()/100),0,f.height()),w.css("top",s+"px"),f.css("backgroundColor",T({h:i.h,s:i.s,b:100})),c.find(".minicolors-grid-inner").css("opacity",1-i.b/100);break;default:n=A(Math.ceil(i.s/(100/b.width())),0,b.width()),s=A(b.height()-Math.ceil(i.b/(100/b.height())),0,b.height()),g.css({top:s+"px",left:n+"px"}),s=A(f.height()-i.h/(360/f.height()),0,f.height()),w.css("top",s+"px"),b.css("backgroundColor",T({h:i.h,s:100,b:100}))}e.data("minicolors-initialized")&&$(e,value,o)}function $(e,t,a){var i=e.data("minicolors-settings"),o=e.data("minicolors-lastChange");o&&o.value===t&&o.opacity===a||(e.data("minicolors-lastChange",{value:t,opacity:a}),i.change&&(i.changeDelay?(clearTimeout(e.data("minicolors-changeTimeout")),e.data("minicolors-changeTimeout",setTimeout(function(){i.change.call(e.get(0),t,a)},i.changeDelay))):i.change.call(e.get(0),t,a)),e.trigger("change").trigger("input"))}function y(e,t){return"uppercase"===t?e.toUpperCase():e.toLowerCase()}function C(e,t){return(e=e.replace(/^#/g,"")).match(/^[A-F0-9]{3,6}/gi)?3!==e.length&&6!==e.length?"":"#"+(e=3===e.length&&t?e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e):""}function E(e,t){e=e.replace(/[^\d,.]/g,"").split(",");return e[0]=A(parseInt(e[0],10),0,255),e[1]=A(parseInt(e[1],10),0,255),e[2]=A(parseInt(e[2],10),0,255),e[3]&&(e[3]=A(parseFloat(e[3],10),0,1)),t?{r:e[0],g:e[1],b:e[2],a:e[3]?e[3]:null}:void 0!==e[3]&&e[3]<=1?"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")":"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function k(e,t){return F(e)?E(e):C(e,t)}function A(e,t,a){return e=a<(e=e<t?t:e)?a:e}function F(e){return(rgb=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===rgb.length?1:0}function r(e){var a=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return _.each(a,function(e,t){1===t.length&&(a[e]="0"+t)}),"#"+a.join("")}function T(e){return r(function(e){var t={},a=Math.round(e.h),i=Math.round(255*e.s/100),e=Math.round(255*e.b/100);if(0===i)t.r=t.g=t.b=e;else{var o=e,i=(255-i)*e/255,e=a%60*(o-i)/60;(a=360===a?0:a)<60?(t.r=o,t.b=i,t.g=i+e):a<120?(t.g=o,t.b=i,t.r=o-e):a<180?(t.g=o,t.r=i,t.b=i+e):a<240?(t.b=o,t.r=i,t.g=o-e):a<300?(t.b=o,t.g=i,t.r=i+e):a<360?(t.r=o,t.g=i,t.b=o-e):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}(e))}function D(e){return{r:(e=parseInt(-1<e.indexOf("#")?e.substring(1):e,16))>>16,g:(65280&e)>>8,b:255&e}}_.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},_.extend(_.fn,{minicolors:function(e,r){switch(e){case"destroy":return _(this).each(function(){o(_(this))}),_(this);case"hide":return s(),_(this);case"opacity":return void 0===r?_(this).attr("data-opacity"):(_(this).each(function(){d(_(this).attr("data-opacity",r))}),_(this));case"rgbObject":return a=_(this),i=D(C(_(a).val(),!0)),a=_(a).attr("data-opacity"),i?(void 0!==a&&_.extend(i,{a:parseFloat(a)}),i):null;case"rgbString":case"rgbaString":return a=_(this),i="rgbaString"===e,t=D(C(_(a).val(),!0)),a=_(a).attr("data-opacity"),t?(void 0===a&&(a=1),i?"rgba("+t.r+", "+t.g+", "+t.b+", "+parseFloat(a)+")":"rgb("+t.r+", "+t.g+", "+t.b+")"):null;case"settings":return void 0===r?_(this).data("minicolors-settings"):(_(this).each(function(){var e=_(this).data("minicolors-settings")||{};o(_(this)),_(this).minicolors(_.extend(!0,e,r))}),_(this));case"show":return n(_(this).eq(0)),_(this);case"value":return void 0===r?_(this).val():(_(this).each(function(){"object"==typeof r?(r.opacity&&_(this).attr("data-opacity",A(r.opacity,0,1)),r.color&&_(this).val(r.color)):_(this).val(r),d(_(this))}),_(this));default:return"create"!==e&&(r=e),_(this).each(function(){var t,e,a,i,o,n,s;t=_(this),e=r,a=_('<div class="minicolors" />'),i=_.minicolors.defaults,o=t.attr("data-format"),n=t.attr("data-keywords"),s=t.attr("data-opacity"),t.data("minicolors-initialized")||(e=_.extend(!0,{},i,e),a.addClass("minicolors-theme-"+e.theme).toggleClass("minicolors-with-opacity",e.opacity).toggleClass("minicolors-no-data-uris",!0!==e.dataUris),void 0!==e.position&&_.each(e.position.split(" "),function(){a.addClass("minicolors-position-"+this)}),"rgb"===o?$input_size=s?"25":"20":$input_size=n?"11":"7",t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",e).prop("size",$input_size).wrap(a).after('<div class="minicolors-panel minicolors-slider-'+e.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),e.inline||(t.after('<span class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></span>'),t.next(".minicolors-swatch").on("click",function(e){e.preventDefault(),t.focus()})),t.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),e.inline&&t.parent().addClass("minicolors-inline"),d(t,!1),t.data("minicolors-initialized",!0))}),_(this)}var t,a,i}}),_(document).on("mousedown.minicolors touchstart.minicolors",function(e){_(e.target).parents().add(e.target).hasClass("minicolors")||s()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(e){var t=_(this);e.preventDefault(),_(document).data("minicolors-target",t),a(t,e,!0)}).on("mousemove.minicolors touchmove.minicolors",function(e){var t=_(document).data("minicolors-target");t&&a(t,e)}).on("mouseup.minicolors touchend.minicolors",function(){_(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(e){var t=_(this).parent().find(".minicolors-input");e.preventDefault(),n(t)}).on("focus.minicolors",".minicolors-input",function(){var e=_(this);e.data("minicolors-initialized")&&n(e)}).on("blur.minicolors",".minicolors-input",function(){var e,t=_(this),a=t.attr("data-keywords"),i=t.data("minicolors-settings");t.data("minicolors-initialized")&&(a=a?_.map(a.split(","),function(e){return _.trim(e.toLowerCase())}):[],""!==t.val()&&-1<_.inArray(t.val().toLowerCase(),a)?value=t.val():(F(t.val())?e=E(t.val(),!0):e=(a=C(t.val(),!0))?D(a):null,null===e?value=i.defaultValue:"rgb"===i.format?value=E(i.opacity?"rgba("+e.r+","+e.g+","+e.b+","+t.attr("data-opacity")+")":"rgb("+e.r+","+e.g+","+e.b+")"):value=r(e)),a=i.opacity?t.attr("data-opacity"):1,"transparent"===value.toLowerCase()&&(a=0),t.closest(".minicolors").find(".minicolors-swatch > span").css("opacity",a),t.val(value),""===t.val()&&t.val(k(i.defaultValue,!0)),t.val(y(t.val(),i.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(e){var t=_(this);if(t.data("minicolors-initialized"))switch(e.keyCode){case 9:s();break;case 13:case 27:s(),t.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var e=_(this);e.data("minicolors-initialized")&&d(e,!0)}).on("paste.minicolors",".minicolors-input",function(){var e=_(this);e.data("minicolors-initialized")&&setTimeout(function(){d(e,!0)},1)})}),function(i){"use strict";i.fn.emulateTransitionEnd=function(e){var t=!1,a=this;return i(this).one(i.support.transition.end,function(){t=!0}),setTimeout(function(){t||i(a).trigger(i.support.transition.end)},e),this},i(function(){i.support.transition=function(){var e,t=document.createElement("bootstrap"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in a)if(void 0!==t.style[e])return{end:a[e]}}()})}(jQuery);var TemplateManager=function(){var t=!0;function u(e){var t={idWebsite:$(document.body).data("id-website"),idPage:$(document.body).data("id-page"),ajax:!0,idTemplate:i().idTemplate,typeTemplate:i().typeTemplate},a=$.extend({},t,e||{});return window.history.pushState("loadPage","Website","?idWebsite="+a.idWebsite+"&idPage="+a.idPage),$.get("/website/index.php",a).then(function(e){$("#app-content-load").html(e).promise().done(function(){website_send_pageView(),website_render_hamburger()}),$(".app-contrast-color").contrastColor(),$(document.body).data("id-page",a.idPage),$(document.body).prop("class",$(".appBodyLoader").data("classes")),$(".app-website-stats-activity").removeClass("current"),website_admin_enableSorting(),website_navigationFixedOnScroll(),website_enableSliders(),website_admin_forceEditForMobileDevies(),website_admin_initBackgroundUploader(),website_admin_initHeaderUploader(),website_admin_initFooterUploader(),website_admin_redirectHomeIfPremium(),website_init_recaptcha($("1")),common_specificApplyIcheck();e=$(".app-website-event-registry-sidebar-tracking[data-track-a=a-show]");if(0<e.length)website_add_event_tracking(e);if(0<$(".app-card-promo-registry-website").length)website_registry_render_banner();if($(".app-website-show-verifying-layer").length)website_admin_showVerifyingPaymentLayer($(".app-website-show-verifying-layer").data("mode"));if($(".app-rsvp-tutorial-steps").length)loadRsvpTutorial.init()})}function i(){var e=$("body");return{idTemplate:e.data("id-current-template"),typeTemplate:e.data("type-current-template"),idLayout:e.data("id-current-layout")}}function l(e){var t=!0;if(!1===e)t=!1;var a=i();return $.post("/website/admin/website-AjaxPublishTemplate.php",$.extend({},a,{feedEntry:+t})).then(function(e){var t=$("body");return t.data("id-published-template",a.idTemplate),t.data("type-published-template",a.typeTemplate),$(".app-websites-current-template-wrapper").html(e.html),e})}function c(){t=!0}function p(){t=!1}return{selectTemplateOption:function(e,t){if($(".app-website-admin-themes .active").removeClass("active"),e.addClass("active"),website_admin_setCurrentTemplateInfo({option:e.data("option"),name:e.data("name"),family:e.data("family"),imgSrc:e.find("img").attr("src"),imgSrcSet:e.find("img").attr("srcset")}),"vintage"==e.data("family")||"exotic"==e.data("family"))$("#app-content-load").addClass("app-theme-background");else $("#app-content-load").removeClass("app-theme-background");if(t={reloadIframe:!0,isPremium:e.data("premium"),feedEntry:t,idLayout:e.data("idLayout")},t=TemplateManager.setTemplate(e.data("id"),"default",e.data("css-class"),t),0<e.parents(".no-tour").length)$(".app-select-template-layer").modal("hide");return t},setTemplate:function(e,t,a,i){var o=$(document.body),n=i||{};if(o.data("type-current-template",t),o.data("id-current-template",e),o.data("id-current-layout",i.idLayout),0<(o=$("#app-reset-theme")).length)if("custom"===t)o.removeAttr("disabled"),o.removeClass("hidden");else o.addClass("hidden"),o.attr("disabled","disabled");if($("head > style.app-custom-style").remove(),$("#app-premium-layer").hide(),o=$(".app-websites-switch-platform-wrapper"))o.children().removeClass("websitesButtonSwitchPlatform--bottom100");var s=$(".app-preview-spinner");if(!n.hideSpinner)s.removeClass("dnone");var r=$("#app-content-load");if($("head > link#app-template-css").attr("href",globals.subdomain_cdn_css+"/build/css/themes/"+a+"?v="+globals.Request_SiteVersion),n.reloadIframe){var d=$(".app-iframe-mobile").find("iframe");if(0<d.length)d.fadeOut().on("load",function(){d.fadeIn()})}return l(i.feedEntry).then(function(){if(n.reloadIframe&&d.length&&d[0].src)d[0].src=d[0].src;return function(){$.post("/website/admin/website-AjaxGetCurrentTemplate",{layoutId:$(this).data("layout")}).done(function(e){if(e.success&&e.html)$(".app-websites-current-template-wrapper").html(e.html);else website_error_toast("","Error loading designs")})}(),$.get("/website/admin/website-AjaxGetTemplateOptions.php",{idTemplate:e,typeTemplate:t}).then(function(e){if(p(),e.hasLegacyDesign)CustomTemplateOptions.setFont("title",e.titleFont),CustomTemplateOptions.setFont("paragraph",e.paragraphFont),CustomTemplateOptions.setFont("name",e.nameFont),CustomTemplateOptions.setFont("menu",e.menuFont),CustomTemplateOptions.setColor("text",e.colors.colorText.value,{selectorData:e.colors.colorText.selectors}),CustomTemplateOptions.setColor("background",e.colors.colorBackground.value,{selectorData:e.colors.colorBackground.selectors}),CustomTemplateOptions.setColor("links",e.colors.colorLinks.value,{selectorData:e.colors.colorLinks.selectors}),CustomTemplateOptions.setColor("details",e.colors.colorDetails.value,{selectorData:e.colors.colorDetails.selectors}),CustomTemplateOptions.setColor("title-header",e.colors.colorTitleHeader.value,{selectorData:e.colors.colorTitleHeader.selectors}),CustomTemplateOptions.setColor("titles",e.colors.colorTitles.value,{selectorData:e.colors.colorTitles.selectors}),CustomTemplateOptions.setColor("menu",e.colors.colorMenu.value,{selectorData:e.colors.colorMenu.selectors});else CustomTemplateOptions.setFont("headings",e.headingsFont),CustomTemplateOptions.setFont("content",e.contentFont),CustomTemplateOptions.setColor("primaryColor",e.colors.primaryColor.value,{selectorData:e.colors.primaryColor.selectors}),CustomTemplateOptions.setColor("secondaryColorNav",e.colors.secondaryColorNav.value,{selectorData:e.colors.secondaryColorNav.selectors}),CustomTemplateOptions.setColor("secondaryColorCta",e.colors.secondaryColorCta.value,{selectorData:e.colors.secondaryColorCta.selectors});return CustomTemplateOptions.setCustomBackground(e.currentBackground),CustomTemplateOptions.setCustomHeader(e.currentHeader),CustomTemplateOptions.setCustomFooter(e.currentFooter),$("body").data("current-family",e.family),c(),e})}).then(function(){return u({idTemplate:e,typeTemplate:t})}).then(function(){if(r.attr("style",""),!n.hideSpinner)s.addClass("dnone");if(r.removeClass("dnone"),n.isPremium&&1==n.isPremium&&$(document.body).data("user-premium-items").indexOf(","+KEY_ITEM_PREMIUM_DESIGN+",")<0&&"premium"!=$(document.body).data("type-page"))website_admin_showPremiumTemplateAlert()})},getCurrentTemplateData:i,showInstallBtn:function(){$("#app-publish-template").removeClass("disabled")},persistChanges:function(e){if(!t);else{var o=i(),e=$.extend(e||{},CustomTemplateOptions.getAll(),o);return $.post("/website/admin/website-AjaxChangeCustomTemplateRun.php",e).then(function(e){if("default"==o.typeTemplate)t=e.data.idTemplate,a="custom",(i=$("body")).data("id-current-template",t),i.data("type-current-template",a);var t,a,i;return e})}},publishCurrent:l,restoreTemplate:function(){var e={idCustomTemplate:i().idTemplate,layoutId:i().idLayout};return $.post("/website/admin/website-AjaxRestoreTemplate.php",e).then(function(e){$(document.body).trigger("Loader::add"),window.location.reload()})},loadPage:u,deleteTemplate:function(e,t){var a=e||i().idTemplate;if($("#app-custom-themes").find('[data-id-custom-template="'+a+'"]').remove(),$("#app-default-themes").find('[data-id="'+t+'"]').removeClass("disabled"),0==$(".app-websites-select-custom-template").length)$("#app-custom-themes").remove();if(e=$("#app-custom-template-counter"),0<=(t=parseInt(e.text())-1))e.text(t);return $.post("/website/admin/website-AjaxDelCustomTemplateRun.php",{idCustomTemplate:a}).then(function(){if(a==TemplateManager.getCurrentTemplateData().idTemplate)$(document.body).trigger("Loader::add"),window.location.reload()})},enablePersistMode:c,disablePersistMode:p}}(),CustomTemplateOptions=function(){var n,s,r,d,u,l,c={},p={},m={},b={},t=!1,f=!1;function h(){t=!0;var e=TemplateManager.persistChanges();if(e)e.then(function(e){return website_admin_reloadIframe(),e});return e}function a(e,t,a){t=1==t?1:0,a=1==a?1:0;var i=".app-theme-background",o="app-forced-style-background",n=$("#app-website-custom-backgrounds"),s=$("#app-enable-photo-move");if(t)i=".app-theme-header",o="app-forced-style-header",n=$("#app-website-custom-headers"),s=$('#app-enable-photo-move[data-header="1"]');else if(a)i=".app-theme-footer",o="app-forced-style-footer",n=$("#app-website-custom-footers"),s=$('#app-enable-photo-move[data-footer="1"]');if(n.find(".app-change-custom-background").removeClass("fa fa-check-circle app-current"),!e)if($(i).attr("style",""),t)p={};else if(a)m={};else c={};else{if(e.url){var r=document.head,d=document.getElementById(o),u=i+" { background-image: url("+e.url+") !important; } ";if(!d)(d=document.createElement("style")).id=o,d.type="text/css",d.className="app-custom-style",r.appendChild(d);if(d.styleSheet)d.styleSheet.cssText=u;else d.innerHTML=u;if(t&&$(i).hasClass("websiteHomeHeader--usesDefault"))$(i).removeClass("websiteHomeHeader--usesDefault");if(a&&$(i).hasClass("websiteFooterWelcome--usesDefault"))$(i).removeClass("websiteFooterWelcome--usesDefault")}if(n.find('[data-id-photo="'+e.id+'"][data-type="'+e.type+'"]').addClass("fa fa-check-circle app-current"),"custom"===e.type&&!website_admin_isMobileAgent()&&!website_admin_isIE())s.show();else s.hide();if(g(i,null,e.y||0),t)p=e;else if(a)m=e;else c=e;h()}}function g(e,t,a,i){i=i||{};var o=c;if(".app-theme-header"===e)o=p;else if(".app-theme-footer"===e)o=m;$.extend(o,{x:t,y:a});o=$(e).css("background-position");if(!o);else{t=o.split(" ")[0];if($(e).css("background-position",t+" "+(a||0)+"px"),i.forcePersist)return h()}}function e(){t=!1,$("#app-website-custom-persist").attr("disabled","disabled")}return{setColor:function(e,t,a,i){if(a=a||{},!(b[e]=t));else{var o,n=a.selectorData;for(o in n){var s=document.head||document.getElementsByTagName("head")[0],r=n[o].selector+" { "+n[o].option+": "+t+"; } ",d=document.getElementById("app-forced-style-"+e+"-"+o);if(!d)(d=document.createElement("style")).id="app-forced-style-"+e+"-"+o,d.type="text/css",d.className="app-custom-style",s.appendChild(d);if(d.styleSheet)d.styleSheet.cssText=r;else d.innerHTML=r}if(a.forcePersist)h().then(function(){"function"==typeof i&&i()});if(customStyle=document.getElementById("app-custom-style-"+e))customStyle.remove()}},setFont:function(e,t){if(!t);else{var a=$("#app-selected-font-"+e),i=a.find(".app-font-text");if(!t.idFont)switch(i.fadeOut(),$("#"+e).slideUp(),$(".app-current","#app-"+e).removeClass("fa fa-o-check-circle app-current"),$("#app-custom-font-css-"+e).remove(),e){case"title":s=null;break;case"paragraph":r=null;break;case"name":n=null;break;case"menu":d=null;break;case"headings":u=null;break;case"content":l=null}else{var o=$("#app-"+e+' [data-id-font="'+t.idFont+'"]');if(o.length)(o=o).siblings(".app-current").removeClass("fa fa-o-check-circle app-current"),o.addClass("fa fa-o-check-circle app-current");if(!i.length)website_admin_loadFont(t.fontClass,e);else i.fadeOut(function(){website_admin_loadFont(t.fontClass,e),a.removeClass(a.data("selected-font-class")).addClass(t.fontClass).data("selected-font",t.idFont).data("selected-font-class",t.fontClass),i.text(t.fontName),i.fadeIn()});switch(e){case"title":s=t.idFont;break;case"paragraph":r=t.idFont;break;case"name":n=t.idFont;break;case"menu":d=t.idFont;break;case"headings":u=t.idFont;break;case"content":l=t.idFont}h()}}},setCustomBackground:a,setCustomTitleColor:function(e){var t=$(".app-contrast-color");!0===e.isWhite?t.addClass("isBlack"):t.removeClass("isBlack")},setCustomHeader:function(e){a(e,1)},setCustomFooter:function(e){a(e,0,1)},setCurrentBackgroundPosition:g,reset:function(){l=u=d=n=r=s=null,c={},p={},m={},b={},e()},getColors:function(){return b},getAll:function(){var e={nameFont:n,titleFont:s,paragraphFont:r,menuFont:d,headingsFont:u,contentFont:l,currentBackground:c,currentHeader:p,currentFooter:m,changed:t};return $.extend(e,b),e},disableChanged:e,changed:function(){return t},isBackgroundMoveEnabled:function(){return f},enableBackgroundMove:function(e,t){e=1==e?1:0,t=1==t?1:0;var a=".app-theme-background",i=$(".app-change-mode"),o=$(".app-toggle-button"),n=$("#app-forced-style-background"),s=c;if(e)a=".app-theme-header",i=$('.app-change-mode[data-header="1"]'),o=$('.app-toggle-button[data-header="1"]'),n=$("#app-forced-style-header"),s=p;else if(t)a=".app-theme-footer",i=$('.app-change-mode[data-footer="1"]'),o=$('.app-toggle-button[data-footer="1"]'),n=$("#app-forced-style-footer"),s=m;if(i.removeClass("dnone"),o.addClass("dnone"),f=!0,website_admin_handleMoveBackground(a),e=$(a).css("background-image"),void 0!==s.url)e="url('"+s.url+"')";t=(t=e.replace(/_c([0-9])+/,"")).replace(/_footer/,""),n.remove(),$(a).attr("style","cursor: -webkit-grab;cursor: -moz-grab;cursor: grab;"),$(a).css("background-image",t),$(a).css("background-position-y",(s.y||0)+"px")},disableBackgroundMove:function(e){f=!1,website_admin_unBindEventsBackground(e),$(e).css("cursor",""),$(".app-change-mode").addClass("dnone"),$(".app-toggle-button").removeClass("dnone")},enableBackgroundRemove:function(e,t,a){var i=$(".app-background-delete");if(t=1==t?1:0,e=1==e?1:0)i=$('.app-toggle-button[data-header="1"] .app-background-delete');else if(t)i=$('.app-toggle-button[data-footer="1"] .app-background-delete');i.removeClass("dnone").data("id-photo",a)},addBackgroundLoader:function(){$(".app-theme-background").addClass("isloading isloading--overlay isloading--large isloading--white")},removeBackgroundLoader:function(){$(".app-theme-background").removeClass("isloading isloading--overlay isloading--large isloading--white")}}}();function website_admin_addPage(t,a){a=a||{};return a=$.extend({},{onSuccess:function(){},onError:function(){}},a),$.post("/website/admin/website-AjaxAddPageRun.php",$(t).serialize(),function(e){if(0==e.errCode)$("#app-common-layer").modal("hide"),TemplateManager.loadPage({idPage:e.message}),a.onSuccess(),website_admin_reloadIframe();else website_error_inline(t,e);return e})}function website_admin_deletePage(e){return $.post("/website/admin/website-AjaxDeletePageRun.php",$(e).serialize(),function(e){if(0==e.errCode)$("#app-common-layer").modal("hide"),TemplateManager.loadPage({idPage:e.idPage}).then(function(){$(document.body).trigger("AjaxPageRun::removed")});else alert(e.message)}),!1}function website_admin_updatePage(t,a){a=a||{};return a=$.extend({},{onSuccess:function(){},onError:function(){}},a),$.post("/website/admin/website-AjaxUpdatePageRun.php",$(t).serialize(),function(e){if(0==e.errCode)$("#app-common-layer").modal("hide"),TemplateManager.loadPage(),a.onSuccess(e),website_admin_reloadIframe();else website_error_inline(t,e),a.onError(e)}),!1}function website_admin_updateUrlWebsite(t,e){$("input[name=oldCustomUrl]",$(t)).val();return $.post("/website/admin/website-AjaxUpdateUrlWebsiteRun.php",$(t).serialize(),function(e){if(1==e.success){if($(".app-websites-settings-url").attr("href",e.newUrl).html(e.newUrl),website_admin_changeCustomUrl(e.newUrl,e.newUrl,e.isMobile),!e.isCustomDomain)$(document.body).trigger("AjaxUpdateUrlWebsiteRun::updated",{urlShare:e.newUrl,urlDisplay:e.newDisplayUrl})}else if(0==e.success)alert(e.errorMsg),$('input[name="customUrl"]',t).focus()}),!1}function website_admin_checkDomain(e){var t=$(e),a=t.find("#app-search-result"),i=a.find(".app-example"),o=a.find(".app-alert");common_button_loader({button:".app-website-button-check-domain",ajaxPromise:function(){return $.post("/website/admin/domains/website-AjaxCheckDomain.php",t.serialize()).done(function(e){if(i.hide(),o.hide(),e.success)if(t.find(".app-domain-btn").hide(),$(document.body).data("user-premium-items").indexOf(","+KEY_ITEM_DOMINIO_PROPIO+",")<0)t.find(".app-website-premium-domain").show(),t.find(".app-website-buy-pack").show(),a.find(".app-alert-success").html(e.secondMessage).show();else t.find(".app-website-create-domain").show(),a.find(".app-alert-success").html(e.message).show();else t.find(".app-domain-btn").attr("data-status","disabled"),a.find(".app-alert-error").html(e.message).show()})}})}function website_admin_createDomain(e){var t=$(e),i=t.find("#app-search-result");website_admin_ConfirmDialog().then(function(){common_button_loader({button:".app-website-create-domain",ajaxPromise:function(){return $.post("/website/admin/domains/website-AjaxCreateDomain.php",t.serialize()).done(function(e){if(e.success){$(".app-domain-back").show().siblings(".app-domain-btn").remove(),$("#app-search-domain-frm").find("input[name=domain]").attr("disabled","disabled"),i.find(".app-alert-success").html('¡Ya tienes tu dominio!').show();var t='<div class="premium-verifying-layer"><div class="premium-alert-header">',a=(t=(t=(t=t+'<span class="premium-alert-icon alert-icon-success"></span>'+"</div>")+("<p>"+'¡Felicidades! Ya tienes tu dominio.<br/>Aún no está visible porque lo estamos preparando, este proceso puede tardar varios minutos. Te enviaremos un email cuando esté listo. :)'+"</p>"))+('<button class="btn-outline outline-red premium-alert-dissmiss shape-square" data-dismiss="modal">'+'Entendido'+"</button></div>"),$("#app-website-layer"));a.append(t).modal(),a.on("hidden.bs.modal",function(){$(document.body).trigger("AjaxCreateDomain:created")})}else i.find(".app-alert-error").html(e.message).show()})}})})}function website_admin_actionsDomain(e){var t=$("#app-search-domain-frm input[name=domain]").val(),a=website_admin_Slugify(t),i=$("#app-search-domain-frm"),o=i.find(".app-domain-btn"),n=$("#app-search-result"),s=n.find(".app-alert"),n=n.find(".app-example");if(s.hide(),n.show(),i.find(".app-domain-btn").hide(),i.find(".app-website-button-check-domain").show(),0==t.length)o.attr("data-status","disabled");else if(t!==a)n.hide(),i.find(".app-alert-error").html('Para crear un dominio solo se pueden usar letras minúsculas y números.').show(),o.attr("data-status","disabled");else o.attr("data-status","ready")}function website_admin_setLogin(){if($('input[name=login][value="1"]').attr("checked"))$('input[name=login][value="1"]').removeAttr("checked"),$('input[name=login][value="0"]').attr("checked","checked"),$.post("/website/admin/website-AjaxUpdateWebsiteRun.php",{option:"setLogin",value:0});else $('input[name=login][value="0"]').removeAttr("checked"),$('input[name=login][value="1"]').attr("checked","checked"),$.post("/website/admin/website-AjaxUpdateWebsiteRun.php",{option:"setLogin",value:1})}function website_admin_setLogoBodas(){if($(document.body).data("user-premium-items").indexOf(","+KEY_ITEM_QUITAR_LOGO+",")<0)return $(".app-website-alert-logo").show(),$(".app-custom-radio").toggleClass("active"),!1;if($('input[name=logo-bodas][value="1"]').attr("checked"))$('input[name=logo-bodas][value="1"]').removeAttr("checked"),$('input[name=logo-bodas][value="0"]').attr("checked","checked"),$.post("/website/admin/website-AjaxUpdateWebsiteRun.php",{option:"setLogoBodas",value:0}).done(function(){website_admin_reloadContenido()});else $('input[name=logo-bodas][value="0"]').removeAttr("checked"),$('input[name=logo-bodas][value="1"]').attr("checked","checked"),$.post("/website/admin/website-AjaxUpdateWebsiteRun.php",{option:"setLogoBodas",value:1}).done(function(){website_admin_reloadContenido()})}function website_admin_init_wysiwyg(){var e=$(".app-website-wysiwyg-init");if(e.length)e.trumbowyg({btns:[["bold","italic","insertLinkSidebarBodas","unlink"]],hideButtonTexts:!0,svgPath:!1,semantic:!1,tagsToRemove:["script"]}).on("tbwblur",function(){$(this).val(e.siblings(".trumbowyg-editor").html())})}function website_admin_has_focus_wysiwyg(e){return $(e.originalEvent.target).hasClass("trumbowyg-editor")}function website_admin_has_open_trumbowyg(){return 0<$(".app-modal-sidebar-trumbowyg").length}function website_admin_onSubmitError(t){return function(e){$(".app-website-save-"+t).removeAttr("disabled")}}function website_admin_savePost(e){if(!website_admin_checkUploadedFiles());else website_admin_saveSection(e,"post","AjaxSavePostRun",{sectionName:"BLOG"});return!1}function website_admin_saveCustom(e){if(!website_admin_checkUploadedFiles());else website_admin_saveSection(e,"custom","AjaxSavePostRun",{sectionName:"CUSTOM"});return!1}function website_admin_saveAccommodations(e){if(!website_admin_checkUploadedFiles());else website_admin_saveSection(e,"accommodations","AjaxSaveAccommodationsRun",{sectionName:"ACCOMMODATIONS"});return!1}function website_admin_savePartyMember(e){if(!website_admin_checkUploadedFiles());else website_admin_saveSection(e,"party-member","AjaxSavePartyMemberRun",{sectionName:"PARTY"});return!1}function website_admin_saveVideo(e){return website_admin_saveSection(e,"video","AjaxSaveVideoRun",{sectionName:"VIDEOS"}),!1}function website_admin_saveRsvp(e){return website_admin_saveSection(e,"rsvp","AjaxSaveRsvpRun",{sectionName:"RSVP"}),!1}function website_admin_saveContactar(e){if(""!=(email=$(e).find("input[name='mail']").val()))for(var t=email.split(","),a=0;a<t.length;a++){var i=common_validateMail(t[a].replace(/^\s+/g,"").replace(/\s+$/g,""),!0,mail.name);if(0==i.estado){var o='El email introducido es incorrecto';if(i.suggestion)o+=i.suggestion;return alert(o),!1}}return website_admin_saveSection(e,"contactar","AjaxSaveContactarRun",{sectionName:"CONTACTAR"}),!1}function website_admin_saveDireccion(e){if(!website_admin_checkUploadedFiles());else website_admin_saveSection(e,"direccion","AjaxSaveDireccionRun",{sectionName:"DIRECCIONES"});return!1}function website_admin_saveLibro(e){return website_admin_saveSection(e,"libro","AjaxSaveLibroRun",{sectionName:"LIBROS"}),!1}function website_admin_saveEncuesta(e){return website_admin_saveSection(e,"encuesta","AjaxSaveEncuestaRun",{sectionName:"ENCUESTAS"}),!1}function website_admin_saveTest(e){return website_admin_saveSection(e,"test","AjaxSaveTestRun",{sectionName:"TESTS"}),!1}function website_admin_saveBienvenida(e){if(website_admin_checkUploadedFiles())return website_admin_saveSection(e,"bienvenida","AjaxSaveBienvenidaRun",{sectionName:"BIENVENIDA"});else return!1}function website_admin_saveLista(e){return $(".app-website-save-post").attr("disabled","disabled"),$.post("/website/admin/website-AjaxSaveListaRun.php",$(e).serialize()).then(function(e){if(0==e.errCode)TemplateManager.loadPage();else $(".app-website-save-post").removeAttr("disabled"),website_admin_showValidationErrors(e)},website_admin_onSubmitError("post")),!1}function website_admin_saveWedshoots(e){return website_admin_checkWebsiteChangesLayer().then(function(t){return $.post("/website/admin/website-AjaxSaveWedshootsRun.php",$(e).serialize()).then(function(e){if(0==e.errCode)TemplateManager.loadPage().then(function(){if(t.showLayer)website_admin_customToast(t.html)});else website_admin_showValidationErrors(e)})}),!1}function website_admin_loadAdminPage(e){var t=e.find(".app-website-render-page-action"),a=e.data("modal-url"),i=e.data("airbnb");if($(".app-rsvp-tutorial-steps").length)var o=new SectionModal(a,{showRsvpTutorial:1});else o=new SectionModal(a);if(!website_has_loader()){website_add_loader(t);var n=website_admin_getAdminPageInit(e);if($(".app-website-render").show(),0<$(".app-website-admin").length)$(".app-website-admin").find(".app-website-cancel, .app-website-cancel-page").trigger("click");$("#app-secciones-sortable").sortable("disable"),o.create().then(function(){if(i)website_admin_add_edit_airbnb_accommodation(e);n(o)})}return!1}function website_admin_getAdminPageInit(i){return function(e){var t=i.data("type"),a=i.parents(".app-website-render-wrapper");if("new"==t)(a=$(".app-website-section-template").clone()).removeClass("app-website-section-template").removeClass("dnone");website_admin_init_wysiwyg(),AnimatedTextfield.init(),e.modal.addClass("modal-sidebar"),website_admin_customActionEvents(e,a,t)}}function moveDatePickerToInline(){$(".app-common-datepicker .textfield__input").unbind("focus").bind("focus",function(){$(".datepicker.dropdown-menu").appendTo($(this).parents(".app-common-datepicker")).addClass("datepicker-inline")})}function isValidDateFormat(e){e=e.val();return!!/^\d{4}-((0\d)|(1[012]))-(([012]\d)|3[01])$/.test(e)}function website_admin_saveSection(a,e,i,o){var n=$(".app-website-modal-form"),s=$(".app-website-save-page");return $.ajax({method:"POST",url:e,data:n.serialize()}).fail(function(){website_error_toast(s),a.hide()}).always(function(e){if(0==e.errCode){if(website_success_toast(s,'Cambios guardados'),a.hide(),1==e.reload)window.location.reload();else"header"==o?i.replaceWith(e.html):i.html(e.html),website_enableSliders();if("header"==o){var t=n.find("input[name=idPage]").val();$('.app-menu-admin[data-id="'+t+'"]').find("span").html(e.title)}if("new"==o){$(".app-website-sections").prepend(i),$("html, body").animate({scrollTop:i.offset().top-200}),website_init_recaptcha($(e.html)),website_enableSliders(),website_admin_checkContentZero();t=i.closest("li");$(t).attr("data-id",e.id)}i.data("id",e.id),i.find(".app-contrast-color").contrastColor()}else website_error_inline(n,e),website_remove_loader(s)})}function website_admin_checkContentZero(){var e=$('.app-website-render-page[data-type="new"]');if(0<$(".app-website-sections .app-website-render-wrapper:not(.app-website-section-template)").length){if(e.hasClass("sectionRender--new"))e.removeClass("sectionRender--new").addClass("sectionRender--first")}else if(e.hasClass("sectionRender--first"))e.removeClass("sectionRender--first").addClass("sectionRender--new")}function website_admin_formWithChanges(e){return""!=e&&e!=$(".app-website-modal-form").serialize()}function website_admin_customActionEvents(i,o,n){var a="";$(document).on("mousedown",".modal-sidebar",function(e){window.clickStartedInModal=$(e.target).is(".modal-dialog *")}),$(document).on("mouseup",".modal-sidebar",function(e){if(!$(e.target).is(".modal-dialog *")&&window.clickStartedInModal)window.preventModalClose=!0}),i.modal.off("shown.bs.modal").on("shown.bs.modal",function(e){var t=navigator.userAgent.match(/Trident.*rv\:11\./);if($(document.body).css("margin-right",""),a=$(".app-website-modal-form").serialize(),!isIE()&&!t)website_pushStateByParam("modal"),window.onpopstate=function(e){if(!website_admin_formWithChanges(a))i.hide();window.onpopstate=function(){}};moveDatePickerToInline()}).off("hide.bs.modal").on("hide.bs.modal",function(e){if($(document.body).css("margin-right",""),window.preventModalClose)return window.preventModalClose=!1;else if(website_admin_formWithChanges(a)&&"bs.modal"==e.namespace)return 0<$(".app-website-section-leave-container").length||website_admin_ConfirmModal(i),!1}).off("hidden.bs.modal").on("hidden.bs.modal",function(e){i.modal.removeClass("modal-sidebar websiteModal websiteModalMsg"),website_popStateByParam("modal")}),window.onbeforeunload=function(){if(website_admin_formWithChanges(a)&&$("body").hasClass("modal-open"))return 'Si sales sin guardar perderás los cambios. ¿Quieres salir de todos modos?'},$(".app-website-save-page").on("click",function(e){if(!$(this).hasClass("isloading")){common_inputAlertRemoveErrorMessagesAnimated(),website_add_loader($(this));var t=$(this).data("submit-url"),a=$(".app-website-modal-form").find('input[type="date"]');if(0<a.length)if(isValidDateFormat(a))return website_admin_saveSection(i,t,o,n);else common_inputAlertwithMessageForAnimated(a,'Tienes que seleccionar una fecha.'),website_remove_loader($(this));else return website_admin_saveSection(i,t,o,n)}}).on("focus",function(){common_inputAlertRemoveErrorMessagesAnimated()}),$("#app-common-layer").one("click",".app-website-cancel-page",function(e){i.hide()}),$(document).on("keypress",function(e){if(13==e.which&&!website_admin_has_focus_wysiwyg(e)&&!website_admin_has_open_trumbowyg())e.preventDefault(),$(".app-website-save-page").trigger("click")}),$("#app-common-layer").off("click",".app-website-section-delete").on("click",".app-website-section-delete",function(e){e.stopPropagation(),e.preventDefault();e=$(this).data("section-delete-url");$.ajax({url:e}).done(function(e){$("#app-common-layer").append(e).modal()}).fail(function(){website_error_toast()})}),$("#app-common-layer").off("click",".app-website-section-delete-cancel").on("click",".app-website-section-delete-cancel",function(e){return $(".app-website-section-delete-container").remove(),!1}),$("#app-common-layer").off("click",".app-website-section-delete-confirm").on("click",".app-website-section-delete-confirm",function(e){e.preventDefault();var e=$(this).closest("form"),t=$(this);if(!t.hasClass("isloading"))$.ajax({url:"/website/admin/website-AjaxDeleteSeccionRun.php",data:$(e).serialize(),method:"POST",beforeSend:function(){website_add_loader(t)}}).done(function(e){if(0==e.errCode){if(a="",1==e.reload)window.location.reload();else $("#app-common-layer").modal("hide");o.slideToggle(function(){$(this).remove(),website_admin_checkContentZero(),website_success_toast(null,'Sección eliminada con éxito.')})}else website_error_toast();website_remove_loader(t)}).fail(function(){website_error_toast(t)})})}function website_admin_ConfirmModal(e){var t='<form class="app-website-section-leave-container modal-dialog modal-dialog--overlay">\n    <div class="modal-content">\n        <div class="modal-body modal-body--centered text-center">\n            <i class="svgIcon svgIcon__alert iconHero">                <svg viewBox="0 0 24 24">                    <path d="M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm0 1.5C6.201 1.5 1.5 6.201 1.5 12S6.201 22.5 12 22.5 22.5 17.799 22.5 12 17.799 1.5 12 1.5zm0 14.25l.123.007a1.125 1.125 0 11-.246 0zM12 4.5a.75.75 0 01.743.648l.007.102v8.25a.75.75 0 01-1.493.102l-.007-.102V5.25A.75.75 0 0112 4.5z"></path>                </svg>            </i>\n            <h2>'+'Tienes cambios sin publicar'+"\n</h2>            <p>"+'¿Seguro que quieres cerrar?'+'\n</p>        </div>\n            <div class="modal-footer">\n                <button class="app-website-section-leave-discard btnOutline btnOutline--grey mr10">'+'Descartar cambios'+'</button>\n                <button class="app-website-section-leave-continue btnFlat btnFlat--primary">'+'Continuar editando'+"</button>\n            </div>\n    </div>\n</form>";return window.onbeforeunload=null,$("#app-common-layer").append(t).modal(),$(".app-website-section-leave-discard").on("click",function(){return $("body").removeAttr("style"),e.hide(),!1}),$(".app-website-section-leave-continue").on("click",function(){$(".app-website-section-leave-container").remove(),$("body").removeAttr("style")}),!1}function website_admin_addSeccion(t){if($(".app-website-cancel").is(":visible"))$(".app-website-cancel").click();else if($(".app-website-cancel-page").is(":visible"))$(".app-website-cancel-page").click();if($(".app-toast-btn-close").is(":visible"))Toastada.clearAll();if(t.data("ajax-loading"));else t.data("ajax-loading",!0),$.post("/website/admin/website-AjaxAddSeccion.php",{idPage:t.data("idpage"),subsection:t.data("subsection"),idWebsite:t.data("id-website")},function(e){$(e).insertBefore(t),t.hide(),t.data("ajax-loading",!1),website_admin_init_wysiwyg()}).then(function(){if("AIRBNB"===t.data("subsection"))website_admin_add_edit_airbnb_accommodation(t)});return!1}function website_admin_loadAdminSeccion(t){return $.post("/website/admin/website-AjaxShowAdminSeccion.php",{idSeccion:$(t).data("id"),idPage:$(t).data("idpage"),idSubsection:$(t).data("subsection")},function(e){$(e).insertBefore($(t));e=t.closest("li");if(e.length)$("html, body").animate({scrollTop:$(e).offset().top-100},400)}).then(function(){if("AIRBNB"===t.data("subsection"))website_admin_add_edit_airbnb_accommodation(t)}),!1}function website_admin_sortPages(e,t){var a=[],i=[],o=0;$("#app-menu-sortable li").each(function(e,t){if(e!=$(t).data("orden"))a[o]=e,i[o]=$(t).data("id"),o++}),$.post("/website/admin/website-AjaxSortPagesRun.php",{items:i,order:a,idWebsite:$("#app-menu-sortable").data("idwebsite")},function(e){if(0==e.errCode)$("#app-menu-sortable li").each(function(e,t){$(t).data("orden",e)}),TemplateManager.loadPage();else alert(e.message)})}function website_admin_sortSecciones(e,t){var a=[],i=[],o=0;$("#app-secciones-sortable > li:not('.app-website-section-template')").each(function(e,t){a[o]=e,i[o]=$(t).data("id"),o++}),$.post("/website/admin/website-AjaxSortSeccionesRun.php",{items:i,order:a,idPage:$("#app-secciones-sortable").data("idpage")},function(e){if(0==e.errCode)$("#app-secciones-sortable > li").each(function(e,t){$(t).data("orden",e)});else alert(e.message)})}function website_admin_reloadContenido(e,t,a){if("setTemplate"==e)$("link#app-template-css").attr("href",globals.subdomain_cdn_img+"/build/css/themes/"+t+"?v="+globals.Request_SiteVersion);e={idWebsite:$(document.body).data("id-website"),idPage:$(document.body).data("id-page"),ajax:!0};if(a)e.idCustomTemplate=a;$.extend(e,TemplateManager.getCurrentTemplateData());t="/website/index.php?"+$.param(e);$("#app-content-load").load(t,function(){website_admin_update_after_ajax(),$(document.body).trigger("AjaxReloadContent::loaded")})}function website_admin_update_after_ajax(){website_render_hamburger(),$(".app-contrast-color").contrastColor(),website_enableSliders(),website_admin_forceEditForMobileDevies(),website_admin_redirectHomeIfPremium()}function website_admin_updateOption(t,e){var a=$("div[data-option='setTemplate'].active").data("css-class");$.post("/website/admin/website-AjaxUpdateWebsiteRun.php",{option:t,value:e},function(e){if(0==e.errCode){if(website_admin_reloadContenido(t,a),website_admin_isMobileVersion())$("[data-layer=SelectTemplate]").trigger("click")}else alert(e.message)})}function website_admin_showValidationErrors(e){if(website_admin_isMobileVersion())website_admin_hideMobileKeyboard();website_admin_errorToast('<div class="text-center"><span class="website-act-message">'+e.message+"</span></div>")}function website_admin_enableSorting(){var e=$("#app-menu-sortable").data("axis"),e=($("#app-menu-sortable").sortable({update:website_admin_sortPages,axis:e,items:"li:not(.app-not-sorteable)",handle:".app-page-manager-move"}),$("#app-secciones-sortable"));e.sortable({update:website_admin_sortSecciones,axis:"y",handle:".websites-button-move"}),e.sortable("enable")}function website_admin_embedVideo(e){var t;if(website_admin_isYoutubeURL(e))t=website_admin_embedYoutubeURL(e);else if(website_admin_isVimeoURL(e))t=website_admin_embedVimeoURL(e);return t}function website_admin_embedYoutubeURL(e){e=e.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/);return"<iframe title='YouTube video player' width='420' height='280' src='"+window.location.protocol+"//www.youtube.com/embed/"+e[1]+"?rel=0' frameborder='0' allowfullscreen></iframe>"}function website_admin_embedVimeoURL(e){e=e.match(/^(?:https?:\/\/)?(?:www\.|m\.)?(youtube|vimeo)\.com\/(watch\?[^#]*v=(\w+)|(\d+))([^#\&\?]*).*/);return"<iframe title='Vimeo player' src='"+window.location.protocol+"//player.vimeo.com/video/"+e[2]+"?portrait=0&amp;color=ffffff' width='420' height='280' frameborder='0'></iframe>"}function website_admin_isCorrectVideoURL(e){if(website_admin_isYoutubeURL(e)||website_admin_isVimeoURL(e))return!0;else return!1}function website_admin_isYoutubeURL(e){var t=new RegExp('(?:youtube(?:-nocookie)?\\.com/(?:[^/]+/.+/|(?:v|e(?:mbed)?)/|.*[?&]v=)|youtu\\.be/)([^"&?/\\s]{11})');return e.match(t)}function website_admin_isVimeoURL(e){return e.match(/^(?:https?:\/\/)?(?:www\.|m\.)?(youtube|vimeo)\.com\/(watch\?[^#]*v=(\w+)|(\d+))(?:\S+)?$/)}function website_admin_showPreview(){var e=$("#app-youtube-vimeo-url"),t=$("#app-youtube-vimeo-preview"),a=e.val().trim(),i=($(t).show(),window.location.href),i=new URL(i);if(a.replace("http:",i.protocol),a.replace("https:",i.protocol),$(t).data("url")==a);else if(!website_admin_isCorrectVideoURL(a))common_inputAlertwithMessageForAnimated(e,'La URL del vídeo no es válida.'),$(t).data("url",""),$("input[name=url]").val("");else $(t).html(website_admin_embedVideo(a)),$(t).data("url",a),$("input[name=url]").val(a)}function website_admin_verificaGuests(){var t=[],e=$(".app-website-guest-checkbox:checked:enabled");if(e.length){var a=$('input[name="mails"]');if(0<a.val().length)t.push(a.val());e.each(function(){var e=$(this).data("mail");if(e)t.push(e)}),a.val(t.join(", ")),$("#app-website-layer").modal("hide")}else alert('No se ha seleccionado ningún invitado');return!1}function website_admin_verificaCompartir(e){var a=$(".alert-success"),i=$(".alert-error"),o=$(".alert-info"),n=(a.hide(),i.hide(),o.hide(),$(e)),e=n.find('input[name="mails"]'),t=n.find('input[name="asunto"]'),s=n.find('textarea[name="mensaje"]');if(0===e.val().replace(/[\s,]+/g,"").length)alert('Tienes que seleccionar los emails a los que enviar el mensaje.'),e.focus();else if(t.val().length<3)alert('El asunto tiene que tener como mínimo tres caracteres.'),t.focus();else if(s.val().length<10)alert('El mensaje tiene que tener como mínimo diez caracteres.'),s.focus();else $.post("/website/admin/website-AjaxShareWebsiteRun.php",n.serialize()).then(function(e){if(window.grecaptcha)window.grecaptcha.reset(n.find(".app-recaptcha").data("widgetid"));var t=null;if("success"===e.type)t=a;else if("error"===e.type)t=i;else t=o;if(a.hide(),i.hide(),o.hide(),t.html(e.message).show(),0===e.errCode){$("input[name=mails]").val(""),n.find('input[name="mails"]').focus();t={eventType:website_getTrackingTypes().type_share_mail,eventSource:n.find("input[name=eventSource]").val()};website_tracking(t)}});return!1}function website_admin_isMobileVersion(){return globals.isMobile}function website_admin_alertCannotDelete(){return alert('La web de boda no puede quedarse sin páginas. Si quireres borrar esta, primero debes crear otra.'),!1}function website_admin_forceEditForMobileDevies(){if(website_admin_isMobileAgent()){var e=$(".websites-mode-admin"),t=(e.find(".website-menu-admin"),e.find(".app-website-render-page .websites-admin-edit")),e=e.find(".app-website-render .websites-admin-edit");t.css("opacity","1").css("z-index","300"),e.css("opacity","1").css("z-index","300")}}function websites_tour_urlSize(){var e=$(".app-custom-url"),t=e.val()||"";$("html").attr("style","overflow:hidden;position:fixed;width:100%;"),e.attr("style","max-width:"+$(".theme-steps-url").width()+"px;"),e.val(website_admin_Slugify($("#nombre").val()+" "+'y'+" "+$("#nombrePrometido").val())),e.attr("size",t.length+2)}function websites_tour(){var e=$("#websites-tour-modal"),t=0<e.data("progress")?"/website/website-PersonalizeWeb.php":"/website/website-ThemeSelector.php";e.load(t,function(){var e=$("#websites-tour-modal");if(e.modal({backdrop:!0}),e.show(),1==e.data("progress"))setTimeout(function(){$("#websites-modal-step-2").attr("style","opacity:1;")},300)}).on("show.bs.modal",function(){if(0<e.data("progress"))websites_tour_urlSize()}).on("hide.bs.modal",function(){$("html").attr("style","")}),$(document.body).on("click",".modal-backdrop",function(){$("#websites-tour-modal").modal("hide")})}function websites_tour_continue(){$("#websites-modal-step-1").attr("style","opacity:0;"),$.ajax({url:"/website/website-PersonalizeWeb.php",success:function(e){$("#websites-modal-step-1").hide(),$("#websites-tour-modal").append(e)},complete:function(){setTimeout(function(){$("#websites-modal-step-2").attr("style","opacity:1;"),websites_tour_urlSize()},300)}})}function websites_tour_close(){$(".modal-backdrop").hide(),$("#websites-tour-modal").hide(),$("html").attr("style","")}function website_admin_switchSectionEditMode(e){$(document).on("keypress",function(e){if(13==e.which)e.preventDefault(),document.activeElement.blur()}),website_pushStateByParam("edit");e=$(e).closest(".app-website-render");if($(".app-website-render").show(),$(".app-website-render-page").show(),0<$(".app-website-admin").length)$(".app-website-admin").find(".app-website-cancel, .app-website-cancel-page").trigger("click");e.toggle(),website_admin_loadAdminSeccion(e),$("#app-secciones-sortable").sortable("disable")}function website_admin_setCurrentTemplateInfo(e){if(e.family){var t=e.family.charAt(0).toUpperCase()+e.family.slice(1);$(".websites-template-info p").text(t)}$(".websites-template-info span").text(e.name),$(".websites-settings-active").find("img").attr("src",e.imgSrc).attr("srcset",e.imgSrcSet)}function website_admin_resetHeaderActiveButtons(){$(".app-offset").removeAttr("data-active").removeClass("current"),$(".design").removeAttr("data-active").removeClass("current")}function website_admin_loadFont(e,t){var e=globals.subdomain_cdn_css+"/build/css/themes/fonts/font-"+t+"/"+e+".min.css?v="+globals.Request_SiteVersion,t="app-custom-font-css-"+t,a=$("#"+t);if(0==a.length)$("head").append('<link id="'+t+'" rel="stylesheet" href="'+e+'">');else a.attr("href",e)}function website_admin_reloadIframe(i){if(void 0===i)i=!1;var o=$(".app-iframe-mobile").find("iframe");return new Promise(function(e,t){if(o.length){var a=o[0].src;if(""===a||i)a=o.data("iframeSrc");o[0].src=a,o[0].onload=function(){e()},o[0].onerror=function(){t()}}})}function website_add_iframe_parameter_to_url(e){if(-1!==e.indexOf("?iframe=")||-1!==e.indexOf("&iframe="));else if(-1!==e.indexOf("?")){if("?"!==e.charAt(e.length-1))e+="&";e+="iframe=1"}else e+="?iframe=1";return e}function website_admin_setIframeUrl(e){var t=$(".app-iframe-mobile"),a=t.find("iframe");if(a.length){if(void 0===e)e=a.data("iframeSrc");e=website_add_iframe_parameter_to_url(e),a[0].src=e,a.data("iframeSrc",e)}t.data("url",e)}function website_admin_unbindMoveBackground(){$(this).unbind("mousemove")}function website_admin_onChangeColorInput(){var e=$(this);$("#"+e.attr("name")+"-text").val(this.value),CustomTemplateOptions.setColor(e.data("type"),this.value,{selectorData:e.data("selector-metadata")}),$(e.data("selector-metadata")).each(function(){$($(this).selector).contrastColor()})}function website_admin_onBlurColorInput(){var e=$(this);CustomTemplateOptions.setColor(e.data("type"),this.value,{selectorData:e.data("selector-metadata"),forcePersist:!0})}function common_AndroidVersion(){var e=(ua=navigator.userAgent.toLowerCase()).match(/android\s([0-9\.]*)/);return e?e[1]:!1}function website_admin_loadColorPickers(){var e=$(".colorpicker");if(4.3<parseFloat(common_AndroidVersion()))e.attr("type","color");else $.minicolors.defaults.theme="bodas",$.minicolors.defaults.position="top left";e.off("change",website_admin_onChangeColorInput).off("blur",website_admin_onBlurColorInput),e.minicolors().on("change",website_admin_onChangeColorInput).on("blur",website_admin_onBlurColorInput)}function website_admin_handleMoveBackground(l){$(document.body).on("mousedown",l,function(e){if(!CustomTemplateOptions.isBackgroundMoveEnabled());else{var t,a,i,o,n,s,r,d=$(this),u=new Image;u.src=d.css("background-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2").split(",")[0],$(u).load(function(){t=u.width,a=u.height,i=d.outerWidth(),o=d.outerHeight(),parseInt(d.css("background-position").split(" ")[0]),n=parseInt(d.css("background-position").split(" ")[1]),e.clientX,s=e.clientY,r=a/t*i-o}),d.on("mousemove",function(e){e=n+(e.clientY-s);if(e<=0&&-r<e)CustomTemplateOptions.setCurrentBackgroundPosition(l,null,e)})}}),$(document.body).on("mouseup",l,website_admin_unbindMoveBackground),$(document.body).on("mouseleave",l,website_admin_unbindMoveBackground)}function website_admin_unBindEventsBackground(e){$(document.body).off("mouseup",e).off("mouseleave",e).off("mousemove",e).off("mousedown",e)}function website_admin_initBackgroundUploader(){website_admin_initCustomUploader()}function website_admin_initHeaderUploader(){website_admin_initCustomUploader(1)}function website_admin_initFooterUploader(){website_admin_initCustomUploader(0,1)}function website_admin_initCustomUploader(i,o){o=1==o?1:0;var e="app-background-upload-container",t="app-background-upload-drop-element",a="app-background-fake-browse";if(i=1==i?1:0)e="app-header-upload-container",t="app-header-upload-drop-element",a="app-header-fake-browse";else if(o)e="app-footer-upload-container",t="app-footer-upload-drop-element",a="app-footer-fake-browse";if(0===$("#"+e).length||window.isNativeAndroidApp);else{e={container:e,drop_element:t,browse_button:a,url:"/uploaders/upload-CustomBackgroundPhotos.php?isHeader="+i+"&isFooter="+o,avoidHide:!0,onFileUploaded:function(e,t){var a={id:t.idFoto,url:t.urlFoto,type:"custom",isWhite:t.isWhiteMostPredominantColor};TemplateManager.disablePersistMode(),CustomTemplateOptions.setCustomBackground(a,i,o),CustomTemplateOptions.setCustomTitleColor(a),TemplateManager.enablePersistMode(),va_plupload_galleryDeleteFile(e.myId,i,o),CustomTemplateOptions.removeBackgroundLoader(),CustomTemplateOptions.enableBackgroundRemove(i,o,t.idFoto),CustomTemplateOptions.enableBackgroundMove(i,o),$(".app-toggle-button").find("ul").slideUp()},UploadProgress:function(){CustomTemplateOptions.addBackgroundLoader()}};window.uploaderFloat=va_plupload_initGalleryUploader(1,!1,e)}}function website_admin_redirectHomeIfPremium(){if(0<=window.location.href.indexOf("type=premium"))window.location.replace("/website/index.php")}function website_admin_loadDatepicker(e,t){if(website_admin_isMobileVersion()||website_admin_isMobileAgent());else $(e).find("input:first").datepicker("show").on("changeDate",function(e){var t=$(this);if("days"==e.viewMode){if(t.find("input:first").attr("tabindex"))$("*[tabindex="+(parseInt(t.find("input:first").attr("tabindex"))+1)+"]").focus();$(this).datepicker("hide"),$(this).trigger("change")}})}function website_admin_filterThemes(e){var t,a=$(".app-theme-item");if("all"==e)t=a;else a.hide(),t=a.find('div[data-family="'+e+'"]').closest(".app-theme-item");t.show()}function website_admin_showPremiumTemplateAlert(){$("#app-premium-layer").load("/website/admin/website-AjaxPremiumTemplateLayer.php",{},function(){$(this).show();var e=$(".app-websites-switch-platform-wrapper");if(e)e.children().addClass("websitesButtonSwitchPlatform--bottom100")})}function website_admin_dropPremiumTemplate(){$.get("/website/admin/website-AjaxDropPremiumTemplate.php",function(e){if(1==e.success)SidebarManagerReloadDesign(),TemplateManager.setTemplate(e.idTemplate,e.type,e.css,{reloadIframe:!0,idLayout:e.idLayout});else alert(e.message)})}function website_admin_loadSortable(e,t){t=$.extend({},{ghostClass:"hidden",forceFallback:!0,animation:150,handle:".app-sortable-button-gallery"},t);return Sortable.create(e,t)}function website_admin_isMobileAgent(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))return!0;else return!1}function website_admin_onCustomBackgrounUpload(e,t,a,i,o){i=1==i?1:0,o=1==o?1:0;var n='<div class="pure-u-1-2 website-custom-background-thumb app-change-custom-background fa fa-check-circle app-current" data-id-photo="'+e+'" data-type="custom" data-url="'+a.urlFoto+'">   <div class="relative">       <img src="'+a.urlThumb+'">       <button class="websites-settings-template-remove websites-settings-template-remove-bg app-background-delete fa fa-trash-o pointer" type="button"></button>   </div></div>',s=$("#app-website-custom-backgrounds"),r=$("#app-website-custom-headers"),d=$("#app-website-custom-footers"),e={id:e,url:a.urlFoto,type:"custom"};if(i||o){a=n.replace("fa fa-check-circle app-current","");if(i)r.prepend(n),d.prepend(a);else r.prepend(a),d.prepend(n)}else s.prepend(n);CustomTemplateOptions.setCustomBackground(e,i,o),va_plupload_galleryDeleteFile(t.myId,i,o)}function website_admin_isIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),a=e.indexOf("Trident/"),e=e.indexOf("Edge/");if(0<t||0<a||0<e)return!0;else return!1}function website_admin_checkUploadedFiles(){if(window.isNativeApp)return!0;if(window.uploader&&0<window.uploader.total.queued)return alert('Tienes que esperar a que se suban los ficheros.'),!1;else return!0}var defaultDiacriticsRemovalMap=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];function removeDiacritics(e){for(var t=defaultDiacriticsRemovalMap,a=0;a<t.length;a++)e=e.replace(t[a].letters,t[a].base);return e}function website_admin_Slugify(e){return removeDiacritics(e.toString().toLowerCase()).replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/_+/g,"").replace(/-+$/,"")}function website_admin_changeCustomUrl(e,t,a){var i=$("#app-website-guest-url");if(0<i.length)if(i.attr("href",e),!a)i.contents()[0].textContent=e;website_admin_setIframeUrl(t)}function website_admin_hideMobileKeyboard(){$(document.body).append('<textarea class="faker" style="position: absolute; left: -99999px"></textarea>');var e=$(".faker");$("html, body").css("overflow","hidden"),e.focus().blur().remove(),$("html, body").css("overflow","")}function website_admin_showVerifyingPaymentLayer(e){var t=$(".app-website-show-verifying-layer"),a="/website/admin/payments/website-VerifyingPaymentLayer.php?mode="+e;if(4==e){if(t.hasClass("verifyingPaymentExecuted"))return!0;var i=$(".app-website-navigation");t.addClass("verifyingPaymentExecuted"),$.get(a).then(function(e){if(i.length)t.addClass("verifyingPaymentAlert");t.append(e).show()})}else t.show(),common_openLayer(a,function(){$("#app-common-layer").addClass("websiteModal websiteModalMsg")})}function website_admin_showLimitReachedLayer(){$(".app-website-limit-reached-layer").show(),common_openLayer("/website/admin/payments/website-LimitReachedLayer.php",function(){$("#app-common-layer").addClass("websiteModal websiteModalMsg")})}function website_admin_ConfirmDialog(){var e='<div class="premium-verifying-layer"> <div class="premium-alert-header"><span class="premium-alert-icon alert-icon-verifying"></span> </div><p>'+'¿Estás seguro que quieres elegir este dominio? No podrás seleccionar otro.'+'</p><button id="app-premium-accept-btn" class="btn-outline outline-red premium-alert-dissmiss shape-square">'+'Entendido'+'</button><button id="app-premium-cancel-btn" class="btn-outline outline-red premium-alert-dissmiss shape-square">'+'Cancelar'+"</button></div>",t=jQuery.Deferred(),e=$(e);return $("#app-website-layer").html(e).modal(),e.find("#app-premium-accept-btn").click(function(){$("#app-website-layer").modal("hide"),t.resolve()}),e.find("#app-premium-cancel-btn").click(function(){$("#app-website-layer").modal("hide"),t.reject()}),t}function website_admin_checkWebsiteChangesLayer(e,t,a){return $.ajax({url:"/website/admin/website-AjaxSocialShareLayer.php",data:{type:t,idPage:$(document.body).data("id-page"),idSection:a,isChange:1},beforeSend:function(){$(".modal-content").append('<div class="isloading"></div>')}}).fail(function(){website_error_toast(),e.hide()})}function website_admin_socialShareLayer(e){var t={isChange:0,idPage:$(document.body).data("id-page")},t=$.extend({},t,e);return $.get("/website/admin/website-AjaxSocialShareLayer.php",t).then(function(e){return website_admin_customToast(e.html),e})}function website_admin_errorToast(e){Toastada.deleteAll(),Toastada.error(e).show()}function website_admin_customToast(e){Toastada.deleteAll(),Toastada.custom(e).show()}function website_admin_shareable_keydown(e){if(13==("number"==typeof e.which?e.which:e.keyCode))return e.preventDefault(),website_admin_shareable_change_location(),!1}function website_admin_shareable_change_location(){$(".app-wedsite-shareable-rates-not-found").hide();var e=0;if($(".app-website-shareable-visible").each(function(){e+=$(this).data("visible")}),0<e){ga_trackEventAll("Accommodations","Change SR Location Alert Impression","Wedding Website",0,!1);var t='<div class="modal-dialog modal-dialog--sm"><div class="modal-content">',t=(t=(t+='<p class="pb20">'+'Solo puedes añadir hoteles de una población. Actualizar la población borrará tu selección de hoteles actual.'+"</p>")+('<button class="btnOutline btnOutline--grey app-website-shareable-cancel mr15">'+'Cancelar'+"</button>"))+('<button class="btnFlat btnFlat--primary app-website-shareable-submit">'+'Continuar'+"</button>")+"</div></div>";$("#app-website-layer").addClass("websiteModal websiteModalMsg").append(t).modal()}else website_shareable_submit()}function website_admin_add_edit_airbnb_accommodation(e){map="";var t=$(".app-websites-sections-new-accommodation-airbnb-form");if(t.find(".app-website-accommodations-airbnb-map").length){var a=t.find(".app-website-accommodations-airbnb-map-latitude"),i=t.find(".app-website-accommodations-airbnb-map-longitude"),o=t.find("#app-form-seccion-airbnb")[0];if(null==o.Direccion)o=t.closest("form")[0];var n=o.Direccion;if(a&&a.val()&&i&&i.val())GShow(t.find("#Direccion").val(),a.val(),i.val(),16,$("#app-form-seccion-airbnb").attr("name"));else if(0<n.value.length)showDireccionSuggest(o);$(n).on("blur",function(){setTimeout(function(){showDireccionSuggest(o)},200)})}}function website_activity_item_load(t){var a=t.parents(".app-website-activity-item"),i=a.find(".app-website-activity-item-content"),e=a.data("url"),o=a.data("id");if(a.hasClass("open"))a.removeClass("open"),i.slideUp("fast",function(){$(this).html("")});else if(!t.hasClass("isloading"))$.ajax({method:"POST",url:e,data:{id:o},beforeSend:function(){t.addClass("isloading")}}).fail(function(){t.removeClass("isloading"),website_error_toast($(".app-website-save-page"))}).done(function(e){t.removeClass("isloading"),a.addClass("open"),i.html(e.html).slideDown("fast")})}var modalWhatsNextWWs=function(){var t="slw",a=!1;return{init:function(){if(null!==GetCookie(t))a=!0;if(a){var e=new SectionModal("/website/admin/website-AjaxWhatsNext");e.create().then(function(){$("#app-common-layer").addClass("modal-bottom")}),$(document.body).on("click",".app-close-whats-next",function(){SetCookieTime(t,"",-1),e.hide()})}}}}();function common_scrollElementIntoViewport(e,t){t=t||{};var a={top:0,center:.5,bottom:1},i=(t=$.extend({},{whatPartToScroll:.5,scrollWhereInViewport:.5,scrollContainer:"html, body",animationTime:200,scrollAction:function(e,t){return n.animate({scrollTop:e},t.animationTime).promise()}},t)).whatPartToScroll,o=t.scrollWhereInViewport;if(a.hasOwnProperty(i))i=a[i];if(a.hasOwnProperty(o))o=a[o];var n=$(t.scrollContainer),a=e.offset().top;if(!n.is($("html, body")))a=n.scrollTop()-n.offset().top+e.offset().top;o=-window.innerHeight*o,e=e.height()*i;return t.scrollAction(a+o+e,t)}function showRegistryActivatedMessage(){var e='Registry activated',t="PACK_REGISTRY_ACTIVE";if(!GetCookie(t))return!0;website_success_toast("",e),SetCookieTime(t,1,-1)}function website_send_pageView(){var e=$(".app-iframe-mobile").find("iframe");if(0<e.length){if(null===e.contents()[0].doctype)trackPageviewSegment(window.location.href,window.reduced)}else trackPageviewSegment(window.location.href,window.reduced)}var KEY_ITEM_DOMINIO_PROPIO=1,KEY_ITEM_DESCARGA_WEB=2,KEY_ITEM_PREMIUM_DESIGN=5,KEY_ITEM_QUITAR_LOGO=9,SectionModal=(window.adminMode=!0,$(document).ready(function(){website_admin_initBackgroundUploader(),website_admin_initHeaderUploader(),website_admin_initFooterUploader(),showRegistryActivatedMessage();var o=$("body"),e=o.data("paymentShow"),t=o.data("paymentPackId"),a=o.data("paymentReference"),i=o.data("paymentSessionId"),n=o.data("paymentRedirectResult");if(e&&t||t&&a&&i&&n){var s=new URLSearchParams(window.location.search),r={isNews:0,packId:t};if(!e)r.reference=a,r.sessionId=i,r.redirectResult=n;if(s.has("transactionToken"))r.transactionToken=s.get("transactionToken");$("#app-common-layer").load("/website/admin/payments/premiumPack/"+t,r,function(){if($(this).hasClass("websiteModalMsg"))$(this).removeClass("websiteModalMsg");else $(this).addClass("websiteModal");$(this).modal({backdrop:"static",keyboard:!1}),adyenSkinWWs.init()})}if($(".app-website-show-verifying-layer").length)website_admin_showVerifyingPaymentLayer($(".app-website-show-verifying-layer").data("mode")),$(document.body).on("click",".app-url-processing-pack",function(){website_admin_showVerifyingPaymentLayer(10)});else $(".app-premium-countdown").removeClass("dnone"),window.scrollTo(0,0);e=window.location.hash.split("-");if(e.length<2||"#opentab"!==e[0]);if(website_admin_isMobileAgent())if(window.location.hash.substring(1))$("html,body").animate({scrollTop:$(".websites-settings").outerHeight()});if(1==$(document.body).data("template-premium")&&$(document.body).data("user-premium-items").indexOf(","+KEY_ITEM_PREMIUM_DESIGN+",")<0&&"premium"!=$(document.body).data("type-page"))website_admin_showPremiumTemplateAlert();if($(document.body).data("user-premium-expires")){a=new Date($(document.body).data("user-premium-expires")),i=new Date,n=new Date;if(n.setMonth(n.getMonth()+1),n.setHours(0),n.setMinutes(0),i.setHours(0),i.setMinutes(0),a.setHours(0),a.setMinutes(0),a.setDate(a.getDate()),a<n&&i<a){s=Math.floor((a-i)/864e5)+1;$("#app-common-layer").load("/website/templates/admin/website-admin-premiumExpires.php",{days:s,expires:a},function(e,t,a){if(200===a.status&&""!==e)SetCookieTime("PACK_EXPIRED_MSG",1,2),$(this).modal("show"),$(this).addClass("websiteModal")})}}t=$(document.body).data("user-premium-expired");if(t){r=1==t?"/website/templates/admin/website-admin-premiumExpired.php":"/website/templates/admin/website-admin-premiumExpiredDomain.php";$("#app-common-layer").load(r,{},function(e,t,a){if(200===a.status)SetCookieTime("PACK_EXPIRED_MSG",1,2),$(this).modal("show"),$(this).addClass("websiteModal")})}if("IE"!==window.globals.Request_Country&&$(document.body).data("modal-domain")&&0<$(document.body).data("modal-domain")&&$(document.body).data("modal-domain")<4)$("#app-common-layer").load("/website/templates/admin/website-admin-domainModal.php",{repetition:$(document.body).data("modal-domain")},function(){$(this).modal("show")});if(0<$(".app-check-domain-premium").length)$(".app-check-domain-premium").load("/website/admin/website-AjaxCreateDomainLayer.php",{landing:1},function(){});if(0<$("#app-website-display-tour").length)websites_tour();function d(e){$.ajax({url:"https://www.googleadservices.com/pagead/conversion_async.js",dataType:"script",cache:!0}).then(function(){window.google_trackConversion(e)})}if($(document.body).on("click",".app-website-render-update",function(e){if(0<=e.target.className.indexOf("websites-admin-button")&&-1==e.target.className.indexOf("app-website-render-update"));else return website_admin_switchSectionEditMode(this),!1}),$(document.body).on("click",".app-website-render-page",function(e){website_admin_loadAdminPage($(this)),e.preventDefault()}),$(document.body).on("click",".app-website-cancel",function(){var e=$(this).closest(".app-website-admin");if(e.remove(),$(".app-website-button-add-seccion").show(),$("#app-secciones-sortable").sortable("enable"),$(".app-website-render[data-id='"+e.data("id")+"']").show(),website_admin_isMobileVersion())website_admin_hideMobileKeyboard()}),website_admin_enableSorting(),$(document.body).on("click",".app-website-save-post",function(e){return e.preventDefault(),e.stopPropagation(),website_admin_savePost($(this).closest("form"))}),$(document.body).on("click",".app-website-save-custom",function(e){return e.preventDefault(),e.stopPropagation(),website_admin_saveCustom($(this).closest("form"))}),$(document.body).on("click",".app-website-save-accommodations",function(e){return e.preventDefault(),e.stopPropagation(),website_admin_saveAccommodations($(this).closest("form"))}),$(document.body).on("click",".app-website-save-party-member",function(e){return e.preventDefault(),website_admin_savePartyMember($(this).closest("form"))}),$(document.body).on("click",".app-website-save-video",function(e){return e.preventDefault(),e.stopPropagation(),website_admin_saveVideo($(this).closest("form"))}),$(document.body).on("click",".app-website-save-rsvp",function(e){return e.preventDefault(),e.stopPropagation(),website_admin_saveRsvp($(this).closest("form"))}),$(document.body).on("click",".app-website-save-contactar",function(e){return e.preventDefault(),e.stopPropagation(),website_admin_saveContactar($(this).closest("form"))}),$(document.body).on("click",".app-website-save-direccion",function(e){return e.preventDefault(),e.stopPropagation(),website_admin_saveDireccion($(this).closest("form"))}),$(document.body).on("click",".app-website-save-libro",function(e){return e.preventDefault(),e.stopPropagation(),website_admin_saveLibro($(this).closest("form"))}),$(document.body).on("click",".app-website-save-encuesta",function(e){return e.preventDefault(),e.stopPropagation(),website_admin_saveEncuesta($(this).closest("form"))}),$(document.body).on("click",".app-website-save-test",function(e){return e.preventDefault(),e.stopPropagation(),website_admin_saveTest($(this).closest("form"))}),$(document.body).on("click",".app-website-save-bienvenida",function(e){return e.preventDefault(),e.stopPropagation(),website_admin_saveBienvenida($(this).closest("form"))}),$(document.body).on("click",".app-website-save-lista",function(e){return e.preventDefault(),e.stopPropagation(),website_admin_saveLista($(this).closest("form"))}),$(document.body).on("click",".app-website-save-registry",function(e){return e.preventDefault(),website_admin_saveRegistry($(this).closest("form"))}),$(document.body).on("click",".app-website-save-wedshoots",function(e){return e.preventDefault(),e.stopPropagation(),website_admin_saveWedshoots($(this).closest("form"))}),$(document.body).on("submit",".app-website-save-airbnb-accommodations",function(e){e.preventDefault();var a=$(this),e=a.find("input[name=arrive]");if(!e.val().length)return alert(''),e.click(),!1;e=a.find("input[name=depart]");if(!e.val().length)return alert(''),e.click(),!1;e=a.find("select[name=Pais]");if(-1==e.val())return alert('Debes seleccionar un país'),e.focus(),!1;e=a.find("input[name=Direccion]");if(!e.val().length)return alert('Debes especificar la ciudad'),e.focus(),!1;$.post(a.attr("action"),a.serialize(),function(e){if(e.success){var t=$(".app-website-button-airbnb-accommodation");if(t.length)t.after(e.view),t.remove(),a.closest(".app-websites-sections-new-accommodation-airbnb-form").remove();else{t=$(".airbnb-embed-frame");if(t.length){t=t.closest(".app-website-render");t.after(e.view),t.remove(),a.closest(".app-websites-sections-new-accommodation-airbnb-form").remove()}}}else alert("error saving acc")})}),$(document.body).on("click","#drop-design",function(e){e.preventDefault(),website_admin_dropPremiumTemplate()}),$(document.body).on("click",".app-download-premium",function(e){if(e.preventDefault(),$(document.body).data("user-premium-items").indexOf(","+KEY_ITEM_DESCARGA_WEB+",")<0)$(".app-website-alert-download-premium").show();else $("#app-common-layer").load("/website/website-Download.php",{},function(){$(this).modal("show")})}),$(document.body).on("click",".app-website-add-page",function(e){e.preventDefault();e=$(this).find("input[type=radio]").attr("checked",!0).val();if("WEDSHOOTS"==e)$.post("/website/admin/website-AjaxAddPageWedshoots.php",{tipo:e},function(e){document.location.href=e.redirect});else $("#app-website-add-page-content-step2").load("/website/admin/website-AjaxAddPageStep2.php?tipo="+e,function(){$("#app-website-add-page-content-step2").show(),$("#app-website-add-page-content").hide()})}),$(document.body).on("submit","#app-page-add-form",function(e){e.preventDefault(),e.stopPropagation();e=$(this);const t=e.find(".app-website-add-page-submit");var a=$(t).clone();$(t).prop("disabled",!0);return website_admin_addPage(e,{onSuccess:function(){if(void 0!==a&&void 0!==$(a).data("track-l")&&""!==$(a).data("track-l"))website_add_event_tracking(a)}}).then(function(e){if($(t).removeAttr("disabled"),0==e.errCode){if(website_admin_isMobileVersion())website_admin_hideMobileKeyboard();LayoutHandler.close(),$(document.body).trigger("AjaxPageRun::created",{elementHTML:e.elementHTML})}}),!1}),$(document.body).on("click",".app-website-page-manager-add",function(e){e.preventDefault();e=$(this).find("input[type=radio]").attr("checked",!0).val();if(void 0===e)e=$(this).data("tipo");if("WEDSHOOTS"==e)$.post("/website/admin/website-AjaxAddPageWedshoots.php",{tipo:e},function(e){document.location.href=e.redirect})}),$(document.body).on("click","#app-website-button-delete-page",function(e){return e.preventDefault(),website_admin_deletePage($(this).closest("form"))}),$(document.body).on("click","#app-website-button-update-page",function(e){var t=$(this),a=t.closest(".app-websites-admin-sidebar-page-edit-form");e.preventDefault();return website_admin_updatePage(t.closest("form"),{onSuccess:function(){var e=$(t).data("track-l");if(void 0!==e&&""!==e)website_add_event_tracking(t);$(document.body).trigger("AjaxPageRun::updated",{name:a.find(".app-websites-admin-sidebar-page-edit-input-name").val(),statusTag:a.find(".app-websites-admin-sidebar-page-edit-input-status").val()})}})}),$(document.body).on("click",".app-website-button-registry-tracking",function(e){var t=$(this);website_add_event_tracking(t)}),$(document.body).off("click",".app-registry-activate-button"),$(document.body).on("click",".app-registry-activate-button",website_registry_make_it_visible),$(document.body).on("click","#app-website-button-update-url-website",function(e){e.preventDefault();e=$(this);return website_admin_updateUrlWebsite(e.closest("form"),e)}),$(document.body).on("submit","#app-website-frm-change-url-website",function(e){e.preventDefault(),e.stopPropagation()}),$(document.body).on("submit","#app-search-domain-frm",function(e){e.preventDefault(),e.stopPropagation()}),$(document.body).on("click",".app-website-setting-login",function(){return website_admin_setLogin()}),$(document.body).on("click","#app-website-button-cancel-website",function(e){e.preventDefault(),$("#app-layer-website").hide().attr("data-layer","")}),$(document.body).on("click",".app-website-button-add-seccion",function(e){return e.preventDefault(),website_admin_addSeccion($(this))}),$(document.body).on("click",".app-website-design-logo-bodas",function(){return website_admin_setLogoBodas()}),$(document.body).on("click",".app-accordion-tab",function(){var e=$(this),t=$("#app-layer-website"),a=$(".app-accordion-tab-content"),i=e.next("div"),o=$(".app-form-select-template"),n="relative"===o.css("position"),s=i.filter(":visible").length;if(!n)o.css("position","relative");if(s)i.slideUp();else a.slideUp(),i.slideDown(400,function(){t.animate({scrollTop:e.position().top})})}),$(document.body).on("click","#app-custom-themes .app-websites-select-custom-template",function(){$("body");var e=$(this),t=(e.siblings(".active").removeClass("active"),e.addClass("active"),$("#app-default-themes").find(".active").removeClass("active"),website_admin_setCurrentTemplateInfo({name:e.data("name"),family:e.data("family"),imgSrc:e.find("img").attr("src"),imgSrcSet:e.find("img").attr("srcset")}),e.data("family"));if("vintage"===t||"exotic"===t)$("#app-content-load").addClass("app-theme-background");else $("#app-content-load").removeClass("app-theme-background");t={reloadIframe:!0,isPremium:e.data("premium"),idLayout:e.data("idLayout")};TemplateManager.setTemplate(e.data("id-custom-template"),"custom",e.data("base-css-class"),t)}),$(document.body).on("click",".app-websites-select-option",function(){TemplateManager.selectTemplateOption($(this))}),$(document.body).on("submit","#app-website-step2-form",function(e){if($("p.alert.alert-error").remove(),!website_admin_checkUploadedFiles());else $.post("/website/admin/website-PersonalizeWebRun.php",$(this).serialize()).done(function(e){if(!0!==e.success){for(var t in e.messages){var a='<p class="alert alert-error">'+e.messages[t].content+"</p>";$('input[name="'+e.messages[t].name+'"]').focus(),$('[data-error="'+e.messages[t].name+'"]').html(a)}website_admin_hideMobileKeyboard()}else{if(website_admin_changeCustomUrl(e.newCustomUrl,e.iframeUrl,e.isMobile),TemplateManager.loadPage().then(function(){websites_tour_close()}),e.Request_conversion_id)if(d({google_conversion_id:e.Request_conversion_id,google_custom_params:{WEBSITE_LEAD:1},google_remarketing_only:!0}),e.Request_conversion_alta_wedsite)d({google_conversion_id:e.Request_conversion_id,google_conversion_label:e.Request_conversion_alta_wedsite});if(e.Request_facebook_conversion_id)fbq("track","ViewContent",{WEBSITE_LEAD:1})}});return!1}),$(document.body).on("click",".app-custom-radio",function(e){e.preventDefault(),$(this).toggleClass("active")}),$(document.body).on("click",".app-add-active",function(){$(".app-add-active").removeClass("active"),$(this).addClass("active")}),!isIE())History.Adapter.bind(window,"statechange",function(){if($(".app-website-cancel").is(":visible"))$(".app-website-cancel").click();else if($(".app-website-cancel-page").is(":visible"))$(".app-website-cancel-page").click()});website_admin_forceEditForMobileDevies(),$(document.body).on("click",".app-websites-button-admin",function(){$(".app-website-render").show(),$(".app-website-render-page").show(),$(".app-website-admin").remove()}),$(document.body).on("click",".app-admin-menu-cannot-delete",function(e){e.preventDefault(),website_admin_alertCannotDelete()}),$(document.body).on("click",".app-websites-add-page-click",function(e){$(".app-website-render").show(),$(".app-website-render-page").show(),$(".app-website-admin").remove()}),$(document.body).on("click",".app-websites-tour-cancel",function(e){e.preventDefault(),websites_tour_close()}),$(document.body).on("click",".app-websites-tour-continue",function(e){e.preventDefault(),TemplateManager.selectTemplateOption($(this),!1).then(websites_tour_continue)}),$(document.body).on("click",".app-wedsite-tutorial-datepicker",function(){website_admin_loadDatepicker(this),$("#websites-tour-modal").scroll(function(){var e=$(".app-wedsite-tutorial-datepicker");e.find("input:first").datepicker("hide"),e.find("input:first").blur()})}),$(document.body).on("click","#app-changeThemeBtn",function(){$(".app-iframe-mobile").fadeOut(),$(".app-select-template-layer").load("/website/website-ThemeSelector.php?noTour=1",function(){$(".app-select-template-layer").modal(),$(".no-tour").addClass("active")})}),$(document.body).on("click",".app-template-custom-toggle",function(){var e=$(this).data("option");$(this).toggleClass("active"),$("#"+e).slideToggle()}),$(document.body).on("click",".app-menu-navigation",function(){var e=$(this),t=(e.data("tipo"),e.data("page")),t=(TemplateManager.loadPage({idPage:t}),$(".app-iframe-mobile").find("iframe"));if(t.length)t[0].src=e.data("publicUrl")}),$(document.body).on("click",".app-font-option",function(){var e=$(this),t={fontName:e.data("font-name"),idFont:e.data("id-font"),fontClass:e.data("font-class")};CustomTemplateOptions.setFont(e.data("font-type"),t)}),$(document.body).on("click","#app-website-custom-persist",function(){if("custom"==TemplateManager.getCurrentTemplateData().typeTemplate)TemplateManager.persistChanges().then(function(e){if(1==e.success){var t=$("body");if(t.data("id-current-template")!=t.data("id-published-template")||t.data("type-current-template")!=t.data("type-published-template"))$("#app-website-layer").load("/website/admin/website-AjaxPublishLayer.php",function(){$("#app-website-layer").modal()})}else alert(e.message)});else website_admin_openCustomTemplateTitleModal()}),$(document.body).on("submit","#templateNameForm",function(e){e.preventDefault();var a={},i=$(this);$.each(i.serializeArray(),function(e,t){a[t.name]=t.value}),TemplateManager.persistChanges(a).then(function(e){if(1==e.success){var t=$("#app-website-layer");if(t.modal("hide"),(o.data("id-current-template")!=o.data("id-published-template")||o.data("type-current-template")!=o.data("type-published-template"))&&1==i.data("publish-layer"))t.load("/website/admin/website-AjaxPublishLayer.php",function(){t.modal()})}else alert(e.message)})}),$(document.body).on("click",".app-delete-custom-template",function(e){if(e.stopPropagation(),confirm('¿Seguro que quieres restablecer el tema? Se perderán todos los cambios.')){var e=$(this).data("id-custom-template"),t=$(this).closest(".app-websites-select-custom-template").data("id-base-template");TemplateManager.deleteTemplate(e,t)}}),$(document.body).on("click",".app-change-custom-background",function(){var e=$(this),t={id:e.data("id-photo"),url:e.data("url"),type:e.data("type")},a=e.parent().data("header"),e=e.parent().data("footer");CustomTemplateOptions.setCustomBackground(t,a,e)}),$(document.body).on("click","#app-publish-template",function(){if(CustomTemplateOptions.changed()){if(confirm('Tienes cambios sin guardar, ¿quieres guardarlos antes de publicar el tema?')){if("custom"==TemplateManager.getCurrentTemplateData().typeTemplate)TemplateManager.publishCurrent().then(e);else website_admin_openCustomTemplateTitleModal({noPublishLayer:!0,onHiddenModal:function(){TemplateManager.publishCurrent().then(e)}});TemplateManager.persistChanges().then(function(e){if(1==e.success);else alert(e.message)})}}else TemplateManager.publishCurrent().then(e);function e(){$("#app-website-layer").modal("hide")}}),$(document.body).on("click","#app-reset-theme",function(){if(confirm('¿Seguro que quieres restablecer el tema? Se perderán todos los cambios.'))TemplateManager.restoreTemplate()}),$(document.body).on("click",".app-toggle-button",function(e){e.stopPropagation(),$(this).find("ul").slideToggle("fast")}),$(document.body).on("click","#app-enable-photo-move",function(){CustomTemplateOptions.enableBackgroundMove($(this).data("header"),$(this).data("footer"))}),$(document.body).on("mousedown","#app-back-move-save-changes",function(e){e.stopPropagation()}),$(document.body).on("click","#app-back-move-save-changes",function(e){e.stopPropagation();var e=1===$(this).data("header"),t=1===$(this).data("footer"),a=".app-theme-background",i=CustomTemplateOptions.getAll().currentBackground.id||$(document.body).data("current-id-photo");if(e)a=".app-theme-header",i=CustomTemplateOptions.getAll().currentHeader.id||$(document.body).data("current-id-header");else if(t)a=".app-theme-footer",i=CustomTemplateOptions.getAll().currentFooter.id||$(document.body).data("current-id-footer");var o=$(a).outerWidth(),n=$(a).outerHeight(),s=parseInt($(a).css("background-position").split(" ")[1]),r={forcePersist:!0};CustomTemplateOptions.setCurrentBackgroundPosition(a,null,s,r).then(function(){return $.post("/website/admin/website-CustomBackgroundCrop.php",{y:s,displayWidth:o,containerHeight:n,idCustomTemplate:TemplateManager.getCurrentTemplateData().idTemplate,idFoto:i,isFooter:t})}).then(function(e){if(!1===e.success)CustomTemplateOptions.setCurrentBackgroundPosition(a,null,null,r)}),CustomTemplateOptions.disableBackgroundMove(a)}),$(document.body).on("click","#app-cancel-back-changes",function(){window.location.reload()}),$(document.body).on("click","#app-configuration-datepicker",function(){if(website_admin_isMobileAgent());else website_admin_loadDatepicker(this),$("#app-layer-website").scroll(function(){$("#app-configuration-datepicker").find("input").datepicker("hide").blur()})}),$(document.body).on("click",".app-background-delete",function(e){e.stopPropagation();$(this).parents(".app-toggle-button");e=$(this).data("id-photo");$.post("/website/admin/website-AjaxDeleteCustomBackground.php",{idCustomBackground:e}).then(function(e){if(!0===e.success)window.location.reload()})}),$(document.body).on("click","#app-delete-page-btn",function(){$("#app-common-layer").load("/website/admin/website-AjaxDeletePage.php",{idPage:$(document.body).data("id-page")},function(){$(this).modal("show").addClass("modal-sidebar")})}),$(document.body).on("click",".app-filter",function(){var e=$(this),t=($(".app-filter").removeClass("active"),e.addClass("active"),e.data("family"));$(".app-form-select-template").attr("style","opacity:0;"),setTimeout(function(){website_admin_filterThemes(t,e)},300),setTimeout(function(){$(".app-form-select-template").attr("style","opacity:1;")},400)}),$(document.body).on("keyup","#nombre, #nombrePrometido",function(){var e=$(".app-custom-url");e.val(website_admin_Slugify($("#nombre").val()+" "+'y'+" "+$("#nombrePrometido").val())),e.attr("size",e.val().length+2)}),$(document.body).on("keyup",".app-custom-url",function(){$(this).attr("size",$(this).val().length)}),$(document.body).on("click",".app-website-activity-item-action",function(e){e.preventDefault(),website_activity_item_load($(this))}),$(document.body).on("click",".app-website-stats-ranking",function(e){e.stopPropagation()}),$(document.body).on("click",".app-website-button-check-domain",function(e){if(e.preventDefault(),"ready"==$(this).attr("data-status"))$(this).attr("data-status","loading"),website_admin_checkDomain($(this).closest("form"))}),$(document.body).on("click",".app-website-create-domain",function(e){e.preventDefault(),website_admin_createDomain($(this).closest("form"))}),$(document.body).on("keyup","#app-search-domain-frm input[name=domain]",function(){website_admin_actionsDomain($(this))}),$(document.body).on("keypress","#app-search-domain-frm input[name=domain]",function(){common_inputAlertRemoveErrorMessagesAnimated()}),$(document.body).on("change","#app-search-domain-frm select[name=tld]",function(){website_admin_actionsDomain($(this))}),$(document.body).on("click",".app-us-url-buy-pack",function(){$("#app-common-layer").load("/website/templates/admin/website-admin-premium.php",{},function(){$(this).addClass("websiteModal"),$(this).modal("show")})}),$(document.body).on("click",".app-switcher span",function(){var e=$(this),t=e.data("packid");e.closest(".modal-body").find(".app-url-buy-pack").attr("data-href","/website/admin/payments/website-BuyPremiumPack.php?idPack="+t)}),$(document.body).on("click",".app-premium-limit-reached",function(e){e.preventDefault(),website_admin_showLimitReachedLayer()}),$(document.body).on("click",".app-domain-back",function(e){e.preventDefault(),location.reload()}),$(document.body).on("click",".app-website-guest-set-mail",function(){var e=$(this).closest(".app-guest-info");e.find(".app-website-input-container").show(),e.find(".app-guest-mail-container").hide(),e.find(".app-website-guest-add-mail-input").focus().select()}),$(document.body).on("click",".app-website-guest-add-mail-btn",function(){var e=$(this),a=e.closest(".app-guest-info"),i=a.find(".app-website-guest-add-mail-input"),o=e.data("id");$.post("/website/admin/website-AjaxSetMailToContactRun.php",{idContact:o,email:i.val()}).then(function(e){if(e.success){var t=a.find(".app-guest-mail-container");if(!t.find(".app-website-guest-mail").length)t.html('<span class="app-website-guest-mail">'+i.val()+'</span><i data-mail="'+i.val()+'" data-id="'+o+'" class="app-website-guest-set-mail fa fa-pencil ml5"></i>');else t.find(".app-website-guest-mail").text(i.val());a.find(".app-email-error").hide(),a.find('input[name="guests[]"]').val(i.val()).data("mail",i.val()).iCheck("enable").iCheck("check"),a.find(".app-website-input-container").hide(),t.show()}else a.find(".app-email-error").html(e.message).show(),a.find('input[name="guests[]"]').iCheck("disable")})}),$(document.body).on("click.avisbudget",".app-change-visibility-avisbudget",function(){var t=$(this),e=t.data("visible"),a=t.data("id-page"),i=$(".app-change-visibility-avisbudget");if(t.hasClass("isloading"));else website_add_loader(t),$.post("/website/admin/changeVisibilityAvisBudget",{visible:e,idPage:a}).done(function(e){if(e.success)t.on("click.avisbudget"),website_remove_loader(t),i.toggleClass("dnone")})})}),$(document).ready(function(){if($(document.body).on("click",".app-more-visits-btn",function(){var t=$(this);t.attr("disabled","disabled"),page=$(this).data("page")+1,$.get("/website/admin/stats/website-GetPagedVisits.php",{page:page}).done(function(e){if($(".app-visit-list").append(e.html),!e.moreResults)t.remove();else t.removeAttr("disabled"),t.data("page",page)})}),$(document.body).on("click",".app-activity-nav a",function(){var e=$(".app-activity-nav").find("a"),t=$(this).data("section");e.removeClass("active"),$(this).addClass("active"),$("[data-section-content]").hide(),$("[data-section-content="+t+"]").show()}),$(document.body).on("click",".app-websites-activity-dropdown",function(){var i=$(".app-websites-admin-sidebar-activity-dropdown"),o=$(this),n=(i.show(),o.val());$(document.body).one("mousedown",function(e){e=$(e.target);if("SPAN"===e[0].nodeName)e=e.parent();var t=i.find('div[data-name="'+n+'"]'),a=e.data("section"),e=e.data("name");if(a&&0<t.length)$(".app-sidebar-dropdown-activity-content-"+t.data("section")).hide(),$(".app-sidebar-dropdown-activity-content-"+a).show(),o.val(e);i.hide()})}),$(document.body).on("click",".app-toggle-feed-visible",function(){var e=$(this),t=$(".app-websites-admin-delete-tooltip");if(t.hide(),e.hasClass("delactive"))t.hide(),e.removeClass("delactive");else if(website_admin_isMobileVersion()){t='<div class=" websites-admin-delete-modal app-websites-admin-delete-tooltip" data-id-entry="'+t.data("id-entry")+'"><div class="websites-admin-delete-modal-content"><p>'+'¿Estás seguro?'+'</p> <button class="btn btn-primary app-toogle-feed-action" data-action="confirm">'+'Sí'+'</button><button class="btn btn-secondary app-toogle-feed-action" data-action="cancel" data-dismiss="alert">'+'No'+"</button></div></div>";$("#app-website-layer").html(t).modal()}else e.next(".app-websites-admin-delete-tooltip").show(),$(".app-toggle-feed-visible").removeClass("delactive"),e.addClass("delactive")}),$(document.body).on("click",".app-toogle-feed-action",function(){var e=$(this),t=e.data("action"),a=e.closest(".app-websites-admin-delete-tooltip").data("id-entry"),e=e.parents(".app-toggle-feed-container");if("confirm"==t){var i={idEntry:a};website_add_loader(e.find(".app-toggle-feed-visible"),1,1),$.post("/website/admin/website-DeleteFeedEntry.php",i).done(function(){$(".app-websites-admin-delete-tooltip").hide(),$(".app-toggle-feed-container[data-id-entry="+i.idEntry+"]").slideUp(),$("#app-website-layer").modal("hide")})}else if("cancel"==t)$(".app-toggle-feed-visible").removeClass("delactive"),$(".app-websites-admin-delete-tooltip").hide(),$("#app-website-layer").modal("hide")}),0<$(".app-website-whats-next").length)modalWhatsNextWWs.init();$(document.body).on("click",".app-website-whats-next-template",function(){TemplateManager.selectTemplateOption($(this))})}),function(e,t){return this.url=e,this.data=t||"",this.modal=$("#app-common-layer"),this}),albumModal=(SectionModal.prototype.show=function(e){this.modal.html(e).modal()},SectionModal.prototype.hide=function(){this.modal.off("hide.bs.modal"),this.modal.modal("hide"),window.onbeforeunload=null,website_admin_enableSorting()},SectionModal.prototype.create=function(){var t=this,a=$(".app-website-render-page").find(".app-website-render-page-action");return $.ajax({url:t.url,data:t.data,error:function(){Toastada.error('Error').duration(2).show(),website_remove_loader(a)}}).then(function(e){t.show(e),t.init(),website_remove_loader(a)})},SectionModal.prototype.init=function(){if("undefined"!=typeof tinyMCE)tinyMCE.remove();if($(".app-website-cancel").is(":visible"))$(".app-website-cancel").click();else if($(".app-website-cancel-page").is(":visible"))$(".app-website-cancel-page").click();if($(".app-toast-btn-close").is(":visible"))Toastada.clearAll();if($(".app-website-show-description").on("click",function(e){var t=$(this);if(t.hide(),t.next().show(),"undefined"!=typeof tinyMCE)tinyMCE.remove();website_admin_initTiny(),$(document).off("focusin.modal")}),$(".app-album-form").on("submit",function(e){return e.preventDefault(),!1}),$(".app-date-form").length){var e=$('input[type="date"]');if(e.val())e.addClass("filled");e.change(function(){""===$(this).val()?e.removeClass("filled"):e.addClass("filled")})}$(this.modal).on("hide.bs.modal",function(){if($(document.body).off("bodas.inputSelect.change"),$(this.modal).off("hide.bs.modal"),"undefined"!=typeof tinyMCE)tinyMCE.remove()})},function(){function a(t){$(".app-website-section-save").on("click",function(e){e.preventDefault(),e.stopPropagation();e=$(this).closest("form");if(website_admin_checkUploadedFiles())return tinymce.triggerSave(),$.post("/website/admin/website-AjaxSaveAlbumRun.php",$(e).serialize()).then(function(e){if(0===e.errCode){if(TemplateManager.loadPage().then(function(){return website_admin_checkWebsiteChangesLayer("ALBUMS",e.id)}).then(function(e){if(e.showLayer)website_admin_customToast(e.html);t.hide()}),website_admin_isMobileVersion())website_admin_hideMobileKeyboard()}else website_admin_showValidationErrors(e)});else return!1})}return{init:function(){$(document.body).on("click",".app-website-section-new",function(){var e={idPage:$(this).data("idpage")},t=new SectionModal("/website/website-NewAlbum.php",e);t.create().then(function(){a(t)})}),$(document.body).on("click",".app-website-section-edit",function(e){e.stopPropagation(),e.preventDefault();var e=$(this).closest(".app-website-section-data").data(),t=new SectionModal("/website/website-EditAlbum.php",e);t.create().then(function(){a(t)})})}}}());function comMoveCursorToEnd(e){var t;if(document.createRange)(t=document.createRange()).selectNodeContents(e),t.collapse(!1),(e=window.getSelection()).removeAllRanges(),e.addRange(t)}function comSaveSelection(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)savedRange=e.getRangeAt(0)}else if(document.selection&&document.selection.createRange)savedRange=document.selection.createRange();return null}function comRestoreSelection(e,t){if(e){if(window.getSelection)(sel=window.getSelection()).removeAllRanges(),sel.addRange(e);else if(document.selection&&e.select)e.select()}else comMoveCursorToEnd(t.closest(".trumbowyg-editor-visible").find(".trumbowyg-editor")[0]),savedRange=comSaveSelection(),t.trumbowyg("html","<p><br></p>")}function comInsertHtmlAtCursor(e){var t;if(window.getSelection){if((t=window.getSelection()).getRangeAt&&t.rangeCount){(t=t.getRangeAt(0)).deleteContents();for(var a,i=document.createElement("span"),o=(i.innerHTML=e,document.createDocumentFragment());a=i.firstChild;)o.appendChild(a);t.insertNode(o)}}else if(document.selection&&document.selection.createRange)document.selection.createRange().innerHTML=e}function comInsertHtmlInContentEditable(e,t){var a=t.closest(".trumbowyg-editor-visible").find(".trumbowyg-editor")[0],i=$(a),e=(comRestoreSelection(savedRange,t),comInsertHtmlAtCursor(e),i.html());e=(e=(e=e.replace(/<br>/gi,"")).replace(/<p><\/p>/gi,"<p><br></p>")).replace(/<p><br><\/p><p/gi,"<p"),t.trumbowyg("html",e),setTimeout(function(){i.html(i.html().replace(/<p><\/p>/gi,"<p><br></p>").replace(/<p><br><\/p><p/gi,"<p"));var e=i.html();i.html(e+="<p><br></p>"),t.trumbowyg("html",e),comMoveCursorToEnd(a)},100)}function addModalSidebarTrumbowyg(e){$(".modal").removeAttr("tabindex"),$(document.body).append(e)}function removeModalSidebarTrumbowyg(){$(".app-modal-sidebar-trumbowyg").remove(),$(".modal").attr("tabindex","-1")}$(document).ready(function(){$(document.body).on("click",".app-website-section-remove",function(e){e.stopPropagation(),e.preventDefault();e=$(this).attr("href");new SectionModal(e).create()}),$(document.body).on("click",".app-website-section-share",function(e){e.stopPropagation(),e.preventDefault();e=$(this);website_admin_socialShareLayer({type:e.data("section-type"),idSection:e.data("section-id")})}),$(document.body).on("click",".app-website-section-move",function(e){return e.stopPropagation(),e.preventDefault(),!1}),albumModal.init()}),$(document).ready(function(){$(document.body).on("submit","#app-insert-link-form",function(e){e.preventDefault();var e=$(this),t=$(e.data("trumbo-selector")),a=e[0].link,i=a.value;if(!common_validateUrl(i))common_inputAlertwithMessageForAnimated($(a),a.dataset.msgerror);else{if(0!==i.indexOf("https://")&&0!==i.indexOf("http://"))i="https://"+i;if(comInsertHtmlInContentEditable(" <a href='"+i+"'>"+(e[0].linkName.value||i)+"</a> ",t),"sidebar"==e.data("trumbo-modal"))removeModalSidebarTrumbowyg();else $("#app-common-layer").modal("hide")}}),$(document.body).on("blur keyup click",'.trumbowyg-editor[contenteditable="true"]',function(){if(comSaveSelection(),""==$(this).html()&&""==$(this).attr("placeholder"))$(this).html("<p><br></p>")}),$(document.body).on("drop paste",'.trumbowyg-editor[contenteditable="true"]',function(){setTimeout(function(){comSaveSelection();var a=$('.trumbowyg-editor[contenteditable="true"]');a.find("img").removeAttr("style"),$.each(["div","a","p","span"],function(e,t){a.find(t).removeAttr("class"),a.find(t).removeAttr("style")}),$.each(["button","i","small"],function(e,t){$.each(a.find(t),function(){$(this).replaceWith($(this).html())})}),$.each(["pre","h1","h2","h3","h4","h5","table","td","tr","th"],function(e,t){$.each(a.find(t),function(){$(this).replaceWith($(this).html()).wrap("<p></p>")})}),$.each($(this).find("*"),function(e,t){t=$(t);if(0<t.length){var a={"font-weight":t.css("font-weight"),"font-style":t.css("font-style")};t.removeAttr("style").removeClass().css(a)}}),$(this).children("style").remove(),$(this).children("meta").remove(),$(this).children("link").remove()},0)}),$(document.body).on("click",".app-modal-sidebar-trumbowyg-close",function(e){removeModalSidebarTrumbowyg()})});/*! Sortable 1.9.0 - MIT | git://github.com/SortableJS/Sortable.git */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e()}(this,function(){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function N(i){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},e=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.forEach(function(t){var e,n,o;e=i,o=r[n=t],n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o})}return i}function a(t,e){if(null==t)return{};var n,o,i=function(t,e){if(null==t)return{};var n,o,i={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],0<=e.indexOf(n)||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function e(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function t(t){return!!navigator.userAgent.match(t)}var w=t(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),D=t(/Edge/i),c=t(/firefox/i),l=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),n=t(/iP(ad|od|hone)/i),i={capture:!1,passive:!1};function u(t,e,n){t.addEventListener(e,n,!w&&i)}function r(t,e,n){t.removeEventListener(e,n,!w&&i)}function d(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function I(t,e,n,o){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&d(t,e):d(t,e))||o&&t===n)return t;if(t===n)break}while(t=(i=t).host&&i!==document&&i.host.nodeType?i.host:i.parentNode)}var i;return null}var h,f=/\s+/g;function k(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(f," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(f," ")}}function P(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||-1!==e.indexOf("webkit")||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function b(t,e){var n="";do{var o=P(t,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix;return i&&new i(n)}function p(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function M(){return w?document.documentElement:document.scrollingElement}function R(t,e,n,o,i){if(t.getBoundingClientRect||t===window){var r,a,l,s,c,u,d;if(d=t!==window&&t!==M()?(a=(r=t.getBoundingClientRect()).top,l=r.left,s=r.bottom,c=r.right,u=r.height,r.width):(l=a=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!w))do{if(i&&i.getBoundingClientRect&&("none"!==P(i,"transform")||n&&"static"!==P(i,"position"))){var h=i.getBoundingClientRect();a-=h.top+parseInt(P(i,"border-top-width")),l-=h.left+parseInt(P(i,"border-left-width")),s=a+r.height,c=l+r.width;break}}while(i=i.parentNode);if(o&&t!==window){var f=b(i||t),p=f&&f.a,g=f&&f.d;f&&(s=(a/=g)+(u/=g),c=(l/=p)+(d/=p))}return{top:a,left:l,bottom:s,right:c,width:d,height:u}}}function X(t,e,n,o){for(var i=A(t,!0),r=(e||R(t))[n];i;){var a=R(i)[o];if(!("top"===o||"left"===o?a<=r:r<=a))return i;if(i===M())break;i=A(i,!1)}return!1}function g(t,e,n){for(var o=0,i=0,r=t.children;i<r.length;){if("none"!==r[i].style.display&&r[i]!==Mt.ghost&&r[i]!==Mt.dragged&&I(r[i],n.draggable,t,!1)){if(o===e)return r[i];o++}i++}return null}function Y(t,e){for(var n=t.lastElementChild;n&&(n===Mt.ghost||"none"===P(n,"display")||e&&!d(n,e));)n=n.previousElementSibling;return n||null}function B(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Mt.clone||e&&!d(t,e)||n++;return n}function v(t){var e=0,n=0,o=M();if(t)do{var i=b(t),r=i.a,a=i.d;e+=t.scrollLeft*r,n+=t.scrollTop*a}while(t!==o&&(t=t.parentNode));return[e,n]}function A(t,e){if(!t||!t.getBoundingClientRect)return M();var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=P(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return M();if(o||e)return n;o=!0}}}while(n=n.parentNode);return M()}function y(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function m(e,n){return function(){if(!h){var t=arguments;1===t.length?e.call(this,t[0]):e.apply(this,t),h=setTimeout(function(){h=void 0},n)}}}function F(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function E(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function S(t,e){P(t,"position","absolute"),P(t,"top",e.top),P(t,"left",e.left),P(t,"width",e.width),P(t,"height",e.height)}function _(t){P(t,"position",""),P(t,"top",""),P(t,"left",""),P(t,"width",""),P(t,"height","")}var H="Sortable"+(new Date).getTime();function C(){var v,m=[];return{captureAnimationState:function(){if(m=[],this.options.animation){var t=[].slice.call(this.el.children);for(var e in t)if("none"!==P(t[e],"display")&&t[e]!==Mt.ghost){m.push({target:t[e],rect:R(t[e])});var n=R(t[e]);if(t[e].thisAnimationDuration){var o=b(t[e],!0);o&&(n.top-=o.f,n.left-=o.e)}t[e].fromRect=n}}},addAnimationState:function(t){m.push(t)},removeAnimationState:function(t){m.splice(function(t,e){for(var n in t)for(var o in e)if(e[o]===t[n][o])return Number(n);return-1}(m,{target:t}),1)},animateAll:function(t){if(!this.options.animation)return clearTimeout(v),void("function"==typeof t&&t());var e,n,o,i,r=!1,a=0;for(var l in m){var s=0,c=m[l].target,u=c.fromRect,d=R(c),h=c.prevFromRect,f=c.prevToRect,p=m[l].rect,g=b(c,!0);g&&(d.top-=g.f,d.left-=g.e),c.toRect=d,(X(c,d,"bottom","top")||X(c,d,"top","bottom")||X(c,d,"right","left")||X(c,d,"left","right"))&&(X(c,p,"bottom","top")||X(c,p,"top","bottom")||X(c,p,"right","left")||X(c,p,"left","right"))&&(X(c,u,"bottom","top")||X(c,u,"top","bottom")||X(c,u,"right","left")||X(c,u,"left","right"))||(c.thisAnimationDuration&&y(h,d)&&!y(u,d)&&(p.top-d.top)/(p.left-d.left)==(u.top-d.top)/(u.left-d.left)&&(e=p,n=h,o=f,i=this.options,s=Math.sqrt(Math.pow(n.top-e.top,2)+Math.pow(n.left-e.left,2))/Math.sqrt(Math.pow(n.top-o.top,2)+Math.pow(n.left-o.left,2))*i.animation),y(d,u)||(c.prevFromRect=u,c.prevToRect=d,s||(s=this.options.animation),this.animate(c,p,s)),s&&(r=!0,a=Math.max(a,s),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){this.animationStates[this.i].target.animationTime=0,this.animationStates[this.i].target.prevFromRect=null,this.animationStates[this.i].target.fromRect=null,this.animationStates[this.i].target.prevToRect=null,this.animationStates[this.i].target.thisAnimationDuration=null}.bind({animationStates:m,i:Number(l)}),s),c.thisAnimationDuration=s))}clearTimeout(v),r?v=setTimeout(function(){"function"==typeof t&&t()},a):"function"==typeof t&&t(),m=[]},animate:function(t,e,n){if(n){P(t,"transition",""),P(t,"transform","");var o=R(t),i=b(this.el),r=i&&i.a,a=i&&i.d,l=(e.left-o.left)/(r||1),s=(e.top-o.top)/(a||1);t.animatingX=!!l,t.animatingY=!!s,P(t,"transform","translate3d("+l+"px,"+s+"px,0)"),function(t){t.offsetWidth}(t),P(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),P(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){P(t,"transition",""),P(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},n)}}}}var T=[],x={initializeByDefault:!0},O={mount:function(t){for(var e in x)e in t||(t[e]=x[e]);T.push(t)},pluginEvent:function(t,e,n){this.eventCanceled=!1;var o=t+"Global";for(var i in T)e[T[i].pluginName]&&(e[T[i].pluginName][o]&&(this.eventCanceled=!!e[T[i].pluginName][o](N({sortable:e},n))),e.options[T[i].pluginName]&&e[T[i].pluginName][t]&&(this.eventCanceled=this.eventCanceled||!!e[T[i].pluginName][t](N({sortable:e},n))))},initializePlugins:function(t,e,n){for(var o in T){var i=T[o].pluginName;if(t.options[i]||T[o].initializeByDefault){var r=new T[o](t,e);s(n,((r.sortable=t)[i]=r).options)}}for(var a in t.options){var l=this.modifyOption(t,a,t.options[a]);void 0!==l&&(t.options[a]=l)}},getEventOptions:function(t,e){var n={};for(var o in T)"function"==typeof T[o].eventOptions&&(n=N({},n,T[o].eventOptions(t,e)));return n},modifyOption:function(t,e,n){var o;for(var i in T)t[T[i].pluginName]&&T[i].optionListeners&&"function"==typeof T[i].optionListeners[e]&&(o=T[i].optionListeners[e].call(t[T[i].pluginName],n));return o}};function L(t){var e,n=t.sortable,o=t.rootEl,i=t.name,r=t.targetEl,a=t.cloneEl,l=t.toEl,s=t.fromEl,c=t.oldIndex,u=t.newIndex,d=t.oldDraggableIndex,h=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,g=t.eventOptions,v=(n=n||o[H]).options,m="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||w||D?(e=document.createEvent("Event")).initEvent(i,!0,!0):e=new CustomEvent(i,{bubbles:!0,cancelable:!0}),e.to=l||o,e.from=s||o,e.item=r||o,e.clone=a,e.oldIndex=c,e.newIndex=u,e.oldDraggableIndex=d,e.newDraggableIndex=h,e.originalEvent=f,e.pullMode=p?p.lastPutMode:void 0;var b=N({},g,O.getEventOptions(i,n));for(var y in b)e[y]=b[y];o&&o.dispatchEvent(e),v[m]&&v[m].call(n,e)}function j(t,e,n){var o=2<arguments.length&&void 0!==n?n:{},i=o.evt,r=a(o,["evt"]);O.pluginEvent.bind(Mt)(t,e,N({dragEl:W,parentEl:z,ghostEl:G,rootEl:U,nextEl:q,lastDownEl:V,cloneEl:Z,cloneHidden:Q,dragStarted:at,putSortable:ot,activeSortable:Mt.active,originalEvent:i,oldIndex:$,oldDraggableIndex:tt,newIndex:J,newDraggableIndex:et,hideGhostForTarget:Ct,unhideGhostForTarget:Tt,cloneNowHidden:function(){Q=!0},cloneNowShown:function(){Q=!1},dispatchSortableEvent:function(t){K({sortable:e,name:t,originalEvent:i})}},r))}function K(t){L(N({putSortable:ot,cloneEl:Z,targetEl:W,rootEl:U,oldIndex:$,oldDraggableIndex:tt,newIndex:J,newDraggableIndex:et},t))}if("undefined"==typeof window||!window.document)throw new Error("Sortable.js requires a window with a document");var W,z,G,U,q,V,Z,Q,$,J,tt,et,nt,ot,it,rt,at,lt,st,ct,ut,dt=!1,ht=!1,ft=[],pt=!1,gt=!1,vt=[],mt=!1,bt=[],yt=n,wt=D||w?"cssFloat":"float",Dt="draggable"in document.createElement("div"),Et=function(){if(w)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),St=function(t,e){var n=P(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=g(t,0,e),r=g(t,1,e),a=i&&P(i),l=r&&P(r),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+R(i).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+R(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&"none"!==a.float){var u="left"===a.float?"left":"right";return!r||"both"!==l.clear&&l.clear!==u?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||o<=s&&"none"===n[wt]||r&&"none"===n[wt]&&o<s+c)?"vertical":"horizontal"},_t=function(t){function s(a,l){return function(t,e,n,o){var i=t.options.group.name&&e.options.group.name&&t.options.group.name===e.options.group.name;if(null==a&&(l||i))return!0;if(null==a||!1===a)return!1;if(l&&"clone"===a)return a;if("function"==typeof a)return s(a(t,e,n,o),l)(t,e,n,o);var r=(l?t:e).options.group.name;return!0===a||"string"==typeof a&&a===r||a.join&&-1<a.indexOf(r)}}var e={},n=t.group;n&&"object"==o(n)||(n={name:n}),e.name=n.name,e.checkPull=s(n.pull,!0),e.checkPut=s(n.put),e.revertClone=n.revertClone,t.group=e},Ct=function(){!Et&&G&&P(G,"display","none")},Tt=function(){!Et&&G&&P(G,"display","")};document.addEventListener("click",function(t){if(ht)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),ht=!1},!0);function xt(t){if(W){var e=function(t,e){for(var n in ft)if(!Y(ft[n])){var o=R(ft[n]),i=ft[n][H].options.emptyInsertThreshold,r=t>=o.left-i&&t<=o.right+i,a=e>=o.top-i&&e<=o.bottom+i;if(i&&r&&a)return ft[n]}}((t=t.touches?t.touches[0]:t).clientX,t.clientY);if(e){var n={};for(var o in t)n[o]=t[o];n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[H]._onDragOver(n)}}}function Ot(t){W&&W.parentNode[H]._isOutsideThisEl(t.target)}function Mt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=s({},e),t[H]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return St(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Mt.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var o in O.initializePlugins(this,t,n),n)o in e||(e[o]=n[o]);for(var i in _t(e),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&Dt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?u(t,"pointerdown",this._onTapStart):(u(t,"mousedown",this._onTapStart),u(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(u(t,"dragover",this),u(t,"dragenter",this)),ft.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),s(this,C())}function At(t,e,n,o,i,r,a,l){var s,c,u=t[H],d=u.options.onMove;return!window.CustomEvent||w||D?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=e,s.from=t,s.dragged=n,s.draggedRect=o,s.related=i||e,s.relatedRect=r||R(e),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),d&&(c=d.call(u,s,a)),c}function Nt(t){t.draggable=!1}function It(){mt=!1}function kt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function Pt(t){return setTimeout(t,0)}function Rt(t){return clearTimeout(t)}Mt.prototype={constructor:Mt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(lt=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,W):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,t=this.options,i=t.preventOnFilter,r=e.type,a=e.touches&&e.touches[0],l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=t.filter;if(function(t){bt.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var o=e[n];o.checked&&bt.push(o)}}(o),!W&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||t.disabled||s.isContentEditable||(l=I(l,t.draggable,o,!1))&&l.animated||V===l)){if($=B(l),tt=B(l,t.draggable),"function"==typeof c){if(c.call(this,e,l,this))return K({sortable:n,rootEl:s,name:"filter",targetEl:l,toEl:o,fromEl:o}),j("filter",n,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some(function(t){if(t=I(s,t.trim(),o,!1))return K({sortable:n,rootEl:t,name:"filter",targetEl:l,fromEl:o,toEl:o}),j("filter",n,{evt:e}),!0})))return void(i&&e.cancelable&&e.preventDefault());t.handle&&!I(s,t.handle,o,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(t,e,n){var o,i=this,r=i.el,a=i.options,l=r.ownerDocument;if(n&&!W&&n.parentNode===r)if(U=r,z=(W=n).parentNode,q=W.nextSibling,V=n,nt=a.group,it={target:Mt.dragged=W,clientX:(e||t).clientX,clientY:(e||t).clientY},this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,W.style["will-change"]="all",o=function(){j("delayEnded",i,{evt:t}),Mt.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!c&&i.nativeDraggable&&(W.draggable=!0),i._triggerDragStart(t,e),K({sortable:i,name:"choose",originalEvent:t}),k(W,a.chosenClass,!0))},a.ignore.split(",").forEach(function(t){p(W,t.trim(),Nt)}),u(l,"dragover",xt),u(l,"mousemove",xt),u(l,"touchmove",xt),u(l,"mouseup",i._onDrop),u(l,"touchend",i._onDrop),u(l,"touchcancel",i._onDrop),c&&this.nativeDraggable&&(this.options.touchStartThreshold=4,W.draggable=!0),j("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(D||w))o();else{if(Mt.eventCanceled)return void this._onDrop();u(l,"mouseup",i._disableDelayedDrag),u(l,"touchend",i._disableDelayedDrag),u(l,"touchcancel",i._disableDelayedDrag),u(l,"mousemove",i._delayedDragTouchMoveHandler),u(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&u(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,a.delay)}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){W&&Nt(W),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;r(t,"mouseup",this._disableDelayedDrag),r(t,"touchend",this._disableDelayedDrag),r(t,"touchcancel",this._disableDelayedDrag),r(t,"mousemove",this._delayedDragTouchMoveHandler),r(t,"touchmove",this._delayedDragTouchMoveHandler),r(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||("touch"==t.pointerType?t:null),!this.nativeDraggable||e?this.options.supportPointer?u(document,"pointermove",this._onTouchMove):u(document,e?"touchmove":"mousemove",this._onTouchMove):(u(W,"dragend",this),u(U,"dragstart",this._onDragStart));try{document.selection?Pt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(dt=!1,U&&W){j("dragStarted",this,{evt:e}),this.nativeDraggable&&u(document,"dragover",Ot);var n=this.options;t||k(W,n.dragClass,!1),k(W,n.ghostClass,!0),Mt.active=this,t&&this._appendGhost(),K({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(rt){this._lastX=rt.clientX,this._lastY=rt.clientY,Ct();for(var t=document.elementFromPoint(rt.clientX,rt.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(rt.clientX,rt.clientY))!==e;)e=t;if(W.parentNode[H]._isOutsideThisEl(t),e)do{if(e[H]){if(e[H]._onDragOver({clientX:rt.clientX,clientY:rt.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Tt()}},_onTouchMove:function(t){if(it){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,i=t.touches?t.touches[0]:t,r=G&&b(G),a=G&&r&&r.a,l=G&&r&&r.d,s=yt&&ut&&v(ut),c=(i.clientX-it.clientX+o.x)/(a||1)+(s?s[0]-vt[0]:0)/(a||1),u=(i.clientY-it.clientY+o.y)/(l||1)+(s?s[1]-vt[1]:0)/(l||1),d=t.touches?"translate3d("+c+"px,"+u+"px,0)":"translate("+c+"px,"+u+"px)";if(!Mt.active&&!dt){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}rt=i,P(G,"webkitTransform",d),P(G,"mozTransform",d),P(G,"msTransform",d),P(G,"transform",d),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!G){var t=this.options.fallbackOnBody?document.body:U,e=R(W,!0,yt,!0,t),n=this.options;if(yt){for(ut=t;"static"===P(ut,"position")&&"none"===P(ut,"transform")&&ut!==document;)ut=ut.parentNode;ut!==document.body&&ut!==document.documentElement?(ut===document&&(ut=M()),e.top+=ut.scrollTop,e.left+=ut.scrollLeft):ut=M(),vt=v(ut)}k(G=W.cloneNode(!0),n.ghostClass,!1),k(G,n.fallbackClass,!0),k(G,n.dragClass,!0),P(G,"transition",""),P(G,"transform",""),P(G,"box-sizing","border-box"),P(G,"margin",0),P(G,"top",e.top),P(G,"left",e.left),P(G,"width",e.width),P(G,"height",e.height),P(G,"opacity","0.8"),P(G,"position",yt?"absolute":"fixed"),P(G,"zIndex","100000"),P(G,"pointerEvents","none"),Mt.ghost=G,t.appendChild(G)}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,i=n.options;j("dragStart",this,{evt:t}),Mt.eventCanceled?this._onDrop():(j("setupClone",this),Mt.eventCanceled||((Z=E(W)).draggable=!1,Z.style["will-change"]="",this._hideClone(),k(Z,this.options.chosenClass,!1),Mt.clone=Z),n.cloneId=Pt(function(){j("clone",n),Mt.eventCanceled||(n.options.removeCloneOnHide||U.insertBefore(Z,W),n._hideClone(),K({sortable:n,name:"clone"}))}),e||k(W,i.dragClass,!0),e?(ht=!0,n._loopId=setInterval(n._emulateDragOver,50)):(r(document,"mouseup",n._onDrop),r(document,"touchend",n._onDrop),r(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(n,o,W)),u(document,"drop",n),P(W,"transform","translateZ(0)")),dt=!0,n._dragStartId=Pt(n._dragStarted.bind(n,e,t)),u(document,"selectstart",n),at=!0,l&&P(document.body,"user-select","none"))},_onDragOver:function(n){var o,i,r,a,l=this.el,s=n.target,e=this.options,t=e.group,c=Mt.active,u=nt===t,d=e.sort,h=ot||c,f=this,p=!1;if(!mt){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),s=I(s,e.draggable,l,!0),x("dragOver"),Mt.eventCanceled)return p;if(W.contains(n.target)||s.animated&&s.animatingX&&s.animatingY||f._ignoreWhileAnimating===s)return M(!1);if(ht=!1,c&&!e.disabled&&(u?d||(r=!U.contains(W)):ot===this||(this.lastPutMode=nt.checkPull(this,c,W,n))&&t.checkPut(this,c,W,n))){if(a="vertical"===this._getDirection(n,s),o=R(W),x("dragOverValid"),Mt.eventCanceled)return p;if(r)return z=U,O(),this._hideClone(),x("revert"),Mt.eventCanceled||(q?U.insertBefore(W,q):U.appendChild(W)),M(!0);var g=Y(l,e.draggable);if(!g||function(t,e,n){var o=R(Y(n.el,n.options.draggable)),i=e?t.clientY:t.clientX,r=e?t.clientX:t.clientY,a=e?o.bottom:o.right,l=e?o.left:o.top,s=e?o.right:o.bottom;return a<i&&l<r&&r<s}(n,a,this)&&!g.animated){if(g===W)return M(!1);if(g&&l===n.target&&(s=g),s&&(i=R(s)),!1!==At(U,l,W,o,s,i,n,!!s))return O(),l.appendChild(W),z=l,A(),M(!0)}else if(s.parentNode===l){var v,m,b,y=W.parentNode!==l,w=a?"top":"left",D=X(s,null,"top","top")||X(W,null,"top","top"),E=D?D.scrollTop:void 0;if(lt!==s&&(m=R(s)[w],pt=!1,gt=e.invertSwap||y),0!==(v=function(t,e,n,o,i,r,a){var l=R(e),s=n?t.clientY:t.clientX,c=n?l.height:l.width,u=n?l.top:l.left,d=n?l.bottom:l.right,h=!1;if(!r)if(a&&ct<c*o){if(!pt&&(1===st?u+c*i/2<s:s<d-c*i/2)&&(pt=!0),pt)h=!0;else if(1===st?s<u+ct:d-ct<s)return-st}else if(u+c*(1-o)/2<s&&s<d-c*(1-o)/2)return function(t){return B(W)<B(t)?1:-1}(e);if((h=h||r)&&(s<u+c*i/2||d-c*i/2<s))return u+c/2<s?1:-1;return 0}(n,s,a,e.swapThreshold,null==e.invertedSwapThreshold?e.swapThreshold:e.invertedSwapThreshold,gt,lt===s)))for(var S=B(W);S-=v,(b=z.children[S])&&("none"===P(b,"display")||b===G););if(0===v||b===s)return M(!1);st=v,i=R(lt=s);var _=s.nextElementSibling,C=!1,T=At(U,l,W,o,s,i,n,C=1===v);if(!1!==T)return 1!==T&&-1!==T||(C=1===T),mt=!0,setTimeout(It,30),O(),C&&!_?l.appendChild(W):s.parentNode.insertBefore(W,C?_:s),D&&F(D,0,E-D.scrollTop),z=W.parentNode,void 0===m||gt||(ct=Math.abs(m-R(s)[w])),A(),M(!0)}if(l.contains(W))return M(!1)}return!1}function x(t,e){j(t,f,N({evt:n,isOwner:u,axis:a?"vertical":"horizontal",revert:r,dragRect:o,targetRect:i,canSort:d,fromSortable:h,target:s,completed:M,onMove:function(t,e){At(U,l,W,o,t,R(t),n,e)},changed:A},e))}function O(){x("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function M(t){return x("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(f),f!==h&&(k(W,ot?ot.options.ghostClass:c.options.ghostClass,!1),k(W,e.ghostClass,!0)),ot!==f&&f!==Mt.active?ot=f:f===Mt.active&&ot&&(ot=null),h===f&&(f._ignoreWhileAnimating=s),f.animateAll(function(){x("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===W&&!W.animated||s===l&&!s.animated)&&(lt=null),e.dragoverBubble||n.rootEl||s===document||(W.parentNode[H]._isOutsideThisEl(n.target),t||xt(n)),!e.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),p=!0}function A(){J=B(W),et=B(W,e.draggable),K({sortable:f,name:"change",toEl:l,newIndex:J,newDraggableIndex:et,originalEvent:n})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){r(document,"mousemove",this._onTouchMove),r(document,"touchmove",this._onTouchMove),r(document,"pointermove",this._onTouchMove),r(document,"dragover",xt),r(document,"mousemove",xt),r(document,"touchmove",xt)},_offUpEvents:function(){var t=this.el.ownerDocument;r(t,"mouseup",this._onDrop),r(t,"touchend",this._onDrop),r(t,"pointerup",this._onDrop),r(t,"touchcancel",this._onDrop),r(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;J=B(W),et=B(W,n.draggable),j("drop",this,{evt:t}),J=B(W),et=B(W,n.draggable),Mt.eventCanceled||(pt=gt=dt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Rt(this.cloneId),Rt(this._dragStartId),this.nativeDraggable&&(r(document,"drop",this),r(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),l&&P(document.body,"user-select",""),t&&(at&&(t.cancelable&&t.preventDefault(),n.dropBubble||t.stopPropagation()),G&&G.parentNode&&G.parentNode.removeChild(G),(U===z||ot&&"clone"!==ot.lastPutMode)&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),W&&(this.nativeDraggable&&r(W,"dragend",this),Nt(W),W.style["will-change"]="",at&&!dt&&k(W,ot?ot.options.ghostClass:this.options.ghostClass,!1),k(W,this.options.chosenClass,!1),K({sortable:this,name:"unchoose",toEl:z,newIndex:null,newDraggableIndex:null,originalEvent:t}),U!==z?(0<=J&&(K({rootEl:z,name:"add",toEl:z,fromEl:U,originalEvent:t}),K({sortable:this,name:"remove",toEl:z,originalEvent:t}),K({rootEl:z,name:"sort",toEl:z,fromEl:U,originalEvent:t}),K({sortable:this,name:"sort",toEl:z,originalEvent:t})),ot&&ot.save()):J!==$&&0<=J&&(K({sortable:this,name:"update",toEl:z,originalEvent:t}),K({sortable:this,name:"sort",toEl:z,originalEvent:t})),Mt.active&&(null!=J&&-1!==J||(J=$,et=tt),K({sortable:this,name:"end",toEl:z,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){j("nulling",this),U=W=z=G=q=Z=V=Q=it=rt=at=J=et=$=tt=lt=st=ot=nt=Mt.dragged=Mt.ghost=Mt.clone=Mt.active=null,bt.forEach(function(t){t.checked=!0}),bt.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":W&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)I(t=n[o],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||kt(t));return e},sort:function(t){var o={},i=this.el;this.toArray().forEach(function(t,e){var n=i.children[e];I(n,this.options.draggable,i,!1)&&(o[t]=n)},this),t.forEach(function(t){o[t]&&(i.removeChild(o[t]),i.appendChild(o[t]))})},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return I(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var o=O.modifyOption(this,t,e);n[t]=void 0!==o?o:e,"group"===t&&_t(n)},destroy:function(){j("destroy",this);var t=this.el;t[H]=null,r(t,"mousedown",this._onTapStart),r(t,"touchstart",this._onTapStart),r(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(r(t,"dragover",this),r(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),ft.splice(ft.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Q){if(j("hideClone",this),Mt.eventCanceled)return;P(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),Q=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(Q){if(j("showClone",this),Mt.eventCanceled)return;U.contains(W)&&!this.options.group.revertClone?U.insertBefore(Z,W):q?U.insertBefore(Z,q):U.appendChild(Z),this.options.group.revertClone&&this._animate(W,Z),P(Z,"display",""),Q=!1}}else this._hideClone()}},u(document,"touchmove",function(t){(Mt.active||dt)&&t.cancelable&&t.preventDefault()}),Mt.utils={on:u,off:r,css:P,find:p,is:function(t,e){return!!I(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:m,closest:I,toggleClass:k,clone:E,index:B,nextTick:Pt,cancelNextTick:Rt,detectDirection:St,getChild:g},Mt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var o in e[0].constructor===Array&&(e=e[0]),e){var i=e[o];if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(el));i.utils&&(Mt.utils=N({},Mt.utils,i.utils)),O.mount(i)}},Mt.create=function(t,e){return new Mt(t,e)};var Xt,Yt,Bt,Ft,Ht,Lt,jt=[],Kt=!(Mt.version="1.9.0");function Wt(){jt.forEach(function(t){clearInterval(t.pid)}),jt=[]}function zt(){clearInterval(Lt)}function Gt(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget,s=n||i;a();var c=document.elementFromPoint(e.clientX,e.clientY);l(),s&&!s.el.contains(c)&&(r("spill"),this.onSpill(o))}var Ut,qt=m(function(n,t,e,o){if(t.scroll){var i,r=t.scrollSensitivity,a=t.scrollSpeed,l=M(),s=!1;Yt!==e&&(Yt=e,Wt(),Xt=t.scroll,i=t.scrollFn,!0===Xt&&(Xt=A(e,!0)));var c=0,u=Xt;do{var d=u,h=R(d),f=h.top,p=h.bottom,g=h.left,v=h.right,m=h.width,b=h.height,y=void 0,w=void 0,D=d.scrollWidth,E=d.scrollHeight,S=P(d),_=d.scrollLeft,C=d.scrollTop;w=d===l?(y=m<D&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),b<E&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(y=m<D&&("auto"===S.overflowX||"scroll"===S.overflowX),b<E&&("auto"===S.overflowY||"scroll"===S.overflowY));var T=y&&(Math.abs(v-n.clientX)<=r&&_+m<D)-(Math.abs(g-n.clientX)<=r&&!!_),x=w&&(Math.abs(p-n.clientY)<=r&&C+b<E)-(Math.abs(f-n.clientY)<=r&&!!C);if(!jt[c])for(var O=0;O<=c;O++)jt[O]||(jt[O]={});jt[c].vx==T&&jt[c].vy==x&&jt[c].el===d||(jt[c].el=d,jt[c].vx=T,jt[c].vy=x,clearInterval(jt[c].pid),0==T&&0==x||(s=!0,jt[c].pid=setInterval(function(){o&&0===this.layer&&Sortable.active._onTouchMove(Ht);var t=jt[this.layer].vy?jt[this.layer].vy*a:0,e=jt[this.layer].vx?jt[this.layer].vx*a:0;"function"==typeof i&&"continue"!==i.call(Sortable.dragged.parentNode[H],e,t,n,Ht,jt[this.layer].el)||F(jt[this.layer].el,e,t)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&u!==l&&(u=A(u,!1)));Kt=s}},30);function Vt(){}function Zt(){}Vt.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){this.sortable.captureAnimationState();var e=g(this.sortable.el,this.startIndex,this.sortable.options);e?this.sortable.el.insertBefore(t,e):this.sortable.el.appendChild(t),this.sortable.animateAll()},drop:Gt},s(Vt,{pluginName:"revertOnSpill"}),Zt.prototype={onSpill:function(t){this.sortable.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),this.sortable.animateAll()},drop:Gt},s(Zt,{pluginName:"removeOnSpill"});var Qt,$t,Jt,te,ee,ne=[],oe=[],ie=!1,re=!1,ae=!1;function le(t,e){for(var n in oe){var o=e.children[oe[n].sortableIndex+(t?Number(n):0)];o?e.insertBefore(oe[n],o):e.appendChild(oe[n])}}function se(){for(var t in ne)ne[t]!==Jt&&ne[t].parentNode&&ne[t].parentNode.removeChild(ne[t])}return Mt.mount(new function(){function t(){for(var t in this.options={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?u(document,"dragover",this._handleAutoScroll):this.sortable.options.supportPointer?u(document,"pointermove",this._handleFallbackAutoScroll):e.touches?u(document,"touchmove",this._handleFallbackAutoScroll):u(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.sortable.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?r(document,"dragover",this._handleAutoScroll):(r(document,"pointermove",this._handleFallbackAutoScroll),r(document,"touchmove",this._handleFallbackAutoScroll),r(document,"mousemove",this._handleFallbackAutoScroll)),zt(),Wt(),clearTimeout(h),h=void 0},nulling:function(){Ht=Yt=Xt=Kt=Lt=Bt=Ft=null,jt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(e,n){var o=this,i=e.clientX,r=e.clientY,t=document.elementFromPoint(i,r);if(Ht=e,n||D||w||l){qt(e,this.options,t,n);var a=A(t,!0);!Kt||Lt&&i===Bt&&r===Ft||(Lt&&zt(),Lt=setInterval(function(){var t=A(document.elementFromPoint(i,r),!0);t!==a&&(a=t,Wt()),qt(e,o.options,t,n)},10),Bt=i,Ft=r)}else{if(!this.sortable.options.bubbleScroll||A(t,!0)===M())return void Wt();qt(e,this.options,A(t,!1),!1)}}},s(t,{pluginName:"scroll",initializeByDefault:!0})}),Mt.mount(Zt,Vt),Mt.mount(new function(){function t(){this.options={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;Ut=e},dragOverValid:function(t){var e=t.completed,n=t.target,o=t.onMove,i=t.activeSortable,r=t.changed;if(i.options.swap){var a=this.sortable.el,l=this.sortable.options;if(n&&n!==a){var s=Ut;Ut=!1!==o(n)?(k(n,l.swapClass,!0),n):null,s&&s!==Ut&&k(s,l.swapClass,!1)}return r(),e(!0)}},drop:function(t){var e=t.activeSortable,n=t.putSortable,o=t.dragEl,i=n||this.sortable,r=this.sortable.options;Ut&&k(Ut,r.swapClass,!1),Ut&&(r.swap||n&&n.options.swap)&&o!==Ut&&(i.captureAnimationState(),i!==e&&e.captureAnimationState(),function(t,e){var n,o,i=t.parentNode,r=e.parentNode;if(!i||!r||i.isEqualNode(e)||r.isEqualNode(t))return;n=B(t),o=B(e),i.isEqualNode(r)&&n<o&&o++;i.insertBefore(e,i.children[n]),r.insertBefore(t,r.children[o])}(o,Ut),i.animateAll(),i!==e&&e.animateAll())},nulling:function(){Ut=null}},s(t,{pluginName:"swap",eventOptions:function(){return{swapItem:Ut}}})}),Mt.mount(new function(){function t(i){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));i.options.supportPointer?u(document,"pointerup",this._deselectMultiDrag):(u(document,"mouseup",this._deselectMultiDrag),u(document,"touchend",this._deselectMultiDrag)),u(document,"keydown",this._checkKeyDown),u(document,"keyup",this._checkKeyUp),this.options={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,e){var n="";if(ne.length&&$t===i)for(var o in ne)n+=(o?", ":"")+ne[o].textContent;else n=e.textContent;t.setData("Text",n)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;Jt=e},delayEnded:function(){this.isMultiDrag=~ne.indexOf(Jt)},setupClone:function(t){var e=t.sortable;if(this.isMultiDrag){for(var n in ne)oe.push(E(ne[n])),oe[n].sortableIndex=ne[n].sortableIndex,oe[n].draggable=!1,oe[n].style["will-change"]="",k(oe[n],e.options.selectedClass,!1),ne[n]===Jt&&k(oe[n],e.options.chosenClass,!1);return e._hideClone(),!0}},clone:function(t){var e=t.sortable,n=t.rootEl,o=t.dispatchSortableEvent;if(this.isMultiDrag)return!e.options.removeCloneOnHide&&ne.length&&$t===e?(le(!0,n),o("clone"),!0):void 0},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl;if(this.isMultiDrag){for(var o in le(!1,n),oe)P(oe[o],"display","");return e(),!(ee=!1)}},hideClone:function(t){var e=t.sortable,n=t.cloneNowHidden;if(this.isMultiDrag){for(var o in oe)P(oe[o],"display","none"),e.options.removeCloneOnHide&&oe[o].parentNode&&oe[o].parentNode.removeChild(oe[o]);return n(),ee=!0}},dragStartGlobal:function(t){t.sortable;for(var e in!this.isMultiDrag&&$t&&$t.multiDrag._deselectMultiDrag(),ne)ne[e].sortableIndex=B(ne[e]);ne=ne.sort(function(t,e){return t.sortableIndex-e.sortableIndex}),ae=!0},dragStarted:function(t){var e=t.sortable;if(this.isMultiDrag){if(e.options.sort&&(e.captureAnimationState(),e.options.animation)){for(var n in ne)ne[n]!==Jt&&P(ne[n],"position","absolute");var o=R(Jt,!1,!0,!0);for(var i in ne)ne[i]!==Jt&&S(ne[i],o);ie=re=!0}e.animateAll(function(){if(ie=re=!1,e.options.animation)for(var t in ne)_(ne[t]);e.options.sort&&se()})}},dragOver:function(t){var e=t.target,n=t.completed;if(re&&~ne.indexOf(e))return n(!1)},revert:function(t){var e=t.fromSortable,n=t.rootEl,o=t.sortable,i=t.dragRect;if(1<ne.length){for(var r in ne)o.addAnimationState({target:ne[r],rect:re?R(ne[r]):i}),_(ne[r]),ne[r].fromRect=i,e.removeAnimationState(ne[r]);re=!1,function(t,e){for(var n in ne){var o=e.children[ne[n].sortableIndex+(t?Number(n):0)];o?e.insertBefore(ne[n],o):e.appendChild(ne[n])}}(!o.options.removeCloneOnHide,n)}},dragOverCompleted:function(t){var e=t.sortable,n=t.isOwner,o=t.insertion,i=t.activeSortable,r=t.parentEl,a=t.putSortable,l=e.options;if(o){if(n&&i._hideClone(),ie=!1,l.animation&&1<ne.length&&(re||!n&&!i.options.sort&&!a)){var s=R(Jt,!1,!0,!0);for(var c in ne)ne[c]!==Jt&&(S(ne[c],s),r.appendChild(ne[c]));re=!0}if(!n)if(re||se(),1<ne.length){var u=ee;if(i._showClone(e),i.options.animation&&!ee&&u)for(var d in oe)i.addAnimationState({target:oe[d],rect:te}),oe[d].fromRect=te,oe[d].thisAnimationDuration=null}else i._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,o=t.activeSortable;for(var i in ne)ne[i].thisAnimationDuration=null;if(o.options.animation&&!n&&o.multiDrag.isMultiDrag){te=s({},e);var r=b(Jt,!0);te.top-=r.f,te.left-=r.e}},dragOverAnimationComplete:function(){re&&(re=!1,se())},drop:function(t){var e=t.originalEvent,n=t.rootEl,o=t.parentEl,i=t.sortable,r=t.dispatchSortableEvent,a=t.oldIndex,l=t.putSortable,s=l||this.sortable;if(e){var c=i.options,u=o.children;if(!ae)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),k(Jt,c.selectedClass,!~ne.indexOf(Jt)),~ne.indexOf(Jt))ne.splice(ne.indexOf(Jt),1),Qt=null,L({sortable:i,rootEl:n,name:"deselect",targetEl:Jt,originalEvt:e});else{if(ne.push(Jt),L({sortable:i,rootEl:n,name:"select",targetEl:Jt,originalEvt:e}),(!c.multiDragKey||this.multiDragKeyDown)&&e.shiftKey&&Qt&&i.el.contains(Qt)){var d,h,f=B(Qt),p=B(Jt);if(~f&&~p&&f!==p)for(d=f<p?(h=f,p):(h=p,f+1);h<d;h++)~ne.indexOf(u[h])||(k(u[h],c.selectedClass,!0),ne.push(u[h]),L({sortable:i,rootEl:n,name:"select",targetEl:u[h],originalEvt:e}))}else Qt=Jt;$t=s}if(ae&&this.isMultiDrag){if((o[H].options.sort||o!==n)&&1<ne.length){var g=R(Jt),v=B(Jt,":not(."+Sortable.active.options.selectedClass+")");if(!ie&&c.animation&&(Jt.thisAnimationDuration=null),s.captureAnimationState(),!ie){if(c.animation)for(var m in Jt.fromRect=g,ne)if(ne[m].thisAnimationDuration=null,ne[m]!==Jt){var b=re?R(ne[m]):g;ne[m].fromRect=b,s.addAnimationState({target:ne[m],rect:b})}for(var y in se(),ne)u[v]?o.insertBefore(ne[y],u[v]):o.appendChild(ne[y]),v++;if(a===B(Jt)){var w=!1;for(var D in ne)if(ne[D].sortableIndex!==B(ne[D])){w=!0;break}w&&r("update")}}for(var E in ne)_(ne[E]);s.animateAll()}$t=s}if(n===o||l&&"clone"!==l.lastPutMode)for(var S in oe)oe[S].parentNode&&oe[S].parentNode.removeChild(oe[S])}},nullingGlobal:function(){this.isMultiDrag=ae=!1,oe.length=0},destroy:function(){this._deselectMultiDrag(),r(document,"pointerup",this._deselectMultiDrag),r(document,"mouseup",this._deselectMultiDrag),r(document,"touchend",this._deselectMultiDrag),r(document,"keydown",this._checkKeyDown),r(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!ae&&$t===this.sortable&&!(t&&I(t.target,this.sortable.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;ne.length;){var e=ne[0];k(e,this.sortable.options.selectedClass,!1),ne.shift(),L({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.sortable.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.sortable.options.multiDragKey&&(this.multiDragKeyDown=!1)}},s(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[H];e&&e.options.multiDrag&&!~ne.indexOf(t)&&($t&&$t!==e&&($t.multiDrag._deselectMultiDrag(),$t=e),k(t,e.options.selectedClass,!0),ne.push(t))},deselect:function(t){var e=t.parentNode[H],n=ne.indexOf(t);e&&e.options.multiDrag&&~n&&(k(t,e.options.selectedClass,!1),ne.splice(n,1))}},eventOptions:function(){return{items:e(ne),clones:[].concat(oe)}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}),Mt});/**
 * Created by dhernando on 14/4/16.
 */

 /**
 * @deprecated
 * @see module:js/Views/Components/_common/UI/Toastada
 */
var Toastada = (function ($) {

    var containerTemplate = function(customContainer) {
        var customContainer = customContainer || '';
        return '<div id="toast-container" class="toast-container ' + customContainer + '"></div>';
    }

    // holds the jquery object reference to avoid multiple querying, filled in _initContainer
    var $container;

    // hold the references for all the toasts
    var toasts = [];

    var defaultDuration = 0;

    function BdsToast(type, message) {
        var _this = this;
        this.id = guidGenerator();
        this.messageText = message;
        this.type = type;
        this.delaySecs = defaultDuration;

        this.build = function () {
            var template =
                '<div id="toast-' + _this.id + '"  class="toast toast-' + _this.type + '">' +
                    _this.messageText +
                '<span class="app-toast-btn-close toast-button-close">&times;</span>' +
                '</div>';


            return template;
        }
    }

    BdsToast.prototype.show = function () {
        var _this = this;

        var $item = $(_this.build());

        var $toast = $container.find('#toast-' + _this.id);

        if ($toast.length) {
            $toast.show();
            if (_this.timeoutId) {
                clearTimeout(_this.timeoutId);
            }
        } else {
            $container.prepend($item);
            $item.on('swipe', function () {
                _this.hide();
            })
                .find('.app-toast-btn-close')
                .on('click', function () {
                    _this.hide();
                });
        }

        if (_this.delaySecs > 0) {
            _this.timeoutId = setTimeout(function () {
                _this.hide();

            }, _this.delaySecs * 1000);
        }

        return this;
    };

    BdsToast.prototype.hide = function () {
        $('#toast-' + this.id).fadeOut();
        return this;
    };

    BdsToast.prototype.delete = function () {
        $('#toast-' + this.id).hide();
        return this;
    };

    BdsToast.prototype.duration = function (secs) {
        if(typeof secs !== 'number') {
            secs = 0;
        }

        this.delaySecs = secs;
        return this;
    };

    BdsToast.prototype.message = function (message) {
        this.messageText = message;
        return this;
    };

    function _initContainer(customContainer) {
        if(!$container || $container.length == 0) {
            $(document.body).append(containerTemplate(customContainer));
            $container = $('#toast-container');
        }
    }

    function guidGenerator() {
        var S4 = function() {
            return (((1+Math.random())*0x10000)|0).toString(16).substring(1);
        };
        return (S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4());
    }

    function _checkRepeatToast(message) {
        for (var i = 0; i < toasts.length; i++) {
            if (message == toasts[i].messageText) {
                return toasts[i];
            }
        }
    }

    function _generateToast(type, message, customContainer) {
        _initContainer(customContainer);
        var toast = _checkRepeatToast(message);
        if (toast) {
            return toast;
        }
        var toast = new BdsToast(type, message);
        toasts.push(toast);
        return toast;
    }

    return {

        success: function (message, customContainer) {
            return _generateToast('success', message, customContainer);
        },

        info: function (message, customContainer) {
            return _generateToast('info', message, customContainer);
        },

        warn: function (message, customContainer) {
            return _generateToast('warn', message, customContainer);
        },

        error: function (message, customContainer) {
            return _generateToast('error', message, customContainer);
        },

        custom: function (html, customContainer) {
            return _generateToast('custom', html, customContainer);
        },

        clearAll: function () {
            for(var i in toasts) {
                toasts[i].hide();
            }

            toasts = [];
        },

        deleteAll: function () {
            for(var i in toasts) {
                toasts[i].delete();
            }

            toasts = [];
        },

        defaultDuration: function (duration) {
            if (typeof duration === 'undefined') {
                return defaultDuration;
            }

            defaultDuration = duration;

        }

    };

})(jQuery);


/*1.5.7*/
(function(){var f=0,l=[],n={},j={},a={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},m=/[<>&\"\']/g,b,c=window.setTimeout,d={},e;function h(){this.returnValue=false}function k(){this.cancelBubble=true}(function(o){var p=o.split(/,/),q,s,r;for(q=0;q<p.length;q+=2){r=p[q+1].split(/ /);for(s=0;s<r.length;s++){j[r[s]]=p[q]}}})("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe");var g={VERSION:"1.5.7",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:j,ua:(function(){var s=navigator,r=s.userAgent,t=s.vendor,p,o,q;p=/WebKit/.test(r);q=p&&t.indexOf("Apple")!==-1;o=window.opera&&window.opera.buildNumber;return{windows:navigator.platform.indexOf("Win")!==-1,android:/Android/.test(r),ie:!p&&!o&&(/MSIE/gi).test(r)&&(/Explorer/gi).test(s.appName),webkit:p,gecko:!p&&/Gecko/.test(r),safari:q,opera:!!o}}()),typeOf:function(p){return({}).toString.call(p).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},extend:function(o){g.each(arguments,function(p,q){if(q>0){g.each(p,function(s,r){o[r]=s})}});return o},cleanName:function(o){var p,q;q=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(p=0;p<q.length;p+=2){o=o.replace(q[p],q[p+1])}o=o.replace(/\s+/g,"_");o=o.replace(/[^a-z0-9_\-\.]+/gi,"");return o},addRuntime:function(o,p){p.name=o;l[o]=p;l.push(p);return p},guid:function(){var o=new Date().getTime().toString(32),p;for(p=0;p<5;p++){o+=Math.floor(Math.random()*65535).toString(32)}return(g.guidPrefix||"p")+o+(f++).toString(32)},buildUrl:function(p,o){var q="";g.each(o,function(s,r){q+=(q?"&":"")+encodeURIComponent(r)+"="+encodeURIComponent(s)});if(q){p+=(p.indexOf("?")>0?"&":"?")+q}return p},each:function(r,s){var q,p,o;if(r){q=r.length;if(q===b){for(p in r){if(r.hasOwnProperty(p)){if(s(r[p],p)===false){return}}}}else{for(o=0;o<q;o++){if(s(r[o],o)===false){return}}}}},formatSize:function(o){if(o===b||/\D/.test(o)){return g.translate("N/A")}if(o>1073741824){return Math.round(o/1073741824,1)+" GB"}if(o>1048576){return Math.round(o/1048576,1)+" MB"}if(o>1024){return Math.round(o/1024,1)+" KB"}return o+" b"},getPos:function(p,t){var u=0,s=0,w,v=document,q,r;p=p;t=t||v.body;function o(C){var A,B,z=0,D=0;if(C){B=C.getBoundingClientRect();A=v.compatMode==="CSS1Compat"?v.documentElement:v.body;z=B.left+A.scrollLeft;D=B.top+A.scrollTop}return{x:z,y:D}}if(p&&p.getBoundingClientRect&&g.ua.ie&&(!v.documentMode||v.documentMode<8)){q=o(p);r=o(t);return{x:q.x-r.x,y:q.y-r.y}}w=p;while(w&&w!=t&&w.nodeType){u+=w.offsetLeft||0;s+=w.offsetTop||0;w=w.offsetParent}w=p.parentNode;while(w&&w!=t&&w.nodeType){u-=w.scrollLeft||0;s-=w.scrollTop||0;w=w.parentNode}return{x:u,y:s}},getSize:function(o){return{w:o.offsetWidth||o.clientWidth,h:o.offsetHeight||o.clientHeight}},parseSize:function(o){var p;if(typeof(o)=="string"){o=/^([0-9]+)([mgk]?)$/.exec(o.toLowerCase().replace(/[^0-9mkg]/g,""));p=o[2];o=+o[1];if(p=="g"){o*=1073741824}if(p=="m"){o*=1048576}if(p=="k"){o*=1024}}return o},xmlEncode:function(o){return o?(""+o).replace(m,function(p){return a[p]?"&"+a[p]+";":p}):o},toArray:function(q){var p,o=[];for(p=0;p<q.length;p++){o[p]=q[p]}return o},inArray:function(q,r){if(r){if(Array.prototype.indexOf){return Array.prototype.indexOf.call(r,q)}for(var o=0,p=r.length;o<p;o++){if(r[o]===q){return o}}}return -1},addI18n:function(o){return g.extend(n,o)},translate:function(o){return n[o]||o},isEmptyObj:function(o){if(o===b){return true}for(var p in o){return false}return true},hasClass:function(q,p){var o;if(q.className==""){return false}o=new RegExp("(^|\\s+)"+p+"(\\s+|$)");return o.test(q.className)},addClass:function(p,o){if(!g.hasClass(p,o)){p.className=p.className==""?o:p.className.replace(/\s+$/,"")+" "+o}},removeClass:function(q,p){var o=new RegExp("(^|\\s+)"+p+"(\\s+|$)");q.className=q.className.replace(o,function(s,r,t){return r===" "&&t===" "?" ":""})},getStyle:function(p,o){if(p.currentStyle){return p.currentStyle[o]}else{if(window.getComputedStyle){return window.getComputedStyle(p,null)[o]}}},addEvent:function(t,o,u){var s,r,q,p;p=arguments[3];o=o.toLowerCase();if(e===b){e="Plupload_"+g.guid()}if(t.addEventListener){s=u;t.addEventListener(o,s,false)}else{if(t.attachEvent){s=function(){var v=window.event;if(!v.target){v.target=v.srcElement}v.preventDefault=h;v.stopPropagation=k;u(v)};t.attachEvent("on"+o,s)}}if(t[e]===b){t[e]=g.guid()}if(!d.hasOwnProperty(t[e])){d[t[e]]={}}r=d[t[e]];if(!r.hasOwnProperty(o)){r[o]=[]}r[o].push({func:s,orig:u,key:p})},removeEvent:function(t,o){var r,u,q;if(typeof(arguments[2])=="function"){u=arguments[2]}else{q=arguments[2]}o=o.toLowerCase();if(t[e]&&d[t[e]]&&d[t[e]][o]){r=d[t[e]][o]}else{return}for(var p=r.length-1;p>=0;p--){if(r[p].key===q||r[p].orig===u){if(t.removeEventListener){t.removeEventListener(o,r[p].func,false)}else{if(t.detachEvent){t.detachEvent("on"+o,r[p].func)}}r[p].orig=null;r[p].func=null;r.splice(p,1);if(u!==b){break}}}if(!r.length){delete d[t[e]][o]}if(g.isEmptyObj(d[t[e]])){delete d[t[e]];try{delete t[e]}catch(s){t[e]=b}}},removeAllEvents:function(p){var o=arguments[1];if(p[e]===b||!p[e]){return}g.each(d[p[e]],function(r,q){g.removeEvent(p,q,o)})}};g.Uploader=function(s){var p={},v,u=[],r,q=false;v=new g.QueueProgress();s=g.extend({chunk_size:0,multipart:true,multi_selection:true,file_data_name:"file",filters:[]},s);function t(){var x,y=0,w;if(this.state==g.STARTED){for(w=0;w<u.length;w++){if(!x&&u[w].status==g.QUEUED){x=u[w];x.status=g.UPLOADING;if(this.trigger("BeforeUpload",x)){this.trigger("UploadFile",x)}}else{y++}}if(y==u.length){this.stop();this.trigger("UploadComplete",u)}}}function o(){var x,w;v.reset();for(x=0;x<u.length;x++){w=u[x];if(w.size!==b){v.size+=w.size;v.loaded+=w.loaded}else{v.size=b}if(w.status==g.DONE){v.uploaded++}else{if(w.status==g.FAILED){v.failed++}else{v.queued++}}}if(v.size===b){v.percent=u.length>0?Math.ceil(v.uploaded/u.length*100):0}else{v.bytesPerSec=Math.ceil(v.loaded/((+new Date()-r||1)/1000));v.percent=v.size>0?Math.ceil(v.loaded/v.size*100):0}}g.extend(this,{state:g.STOPPED,runtime:"",features:{},files:u,settings:s,total:v,id:g.guid(),init:function(){var B=this,C,y,x,A=0,z;if(typeof(s.preinit)=="function"){s.preinit(B)}else{g.each(s.preinit,function(E,D){B.bind(D,E)})}s.page_url=s.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/");if(!/^(\w+:\/\/|\/)/.test(s.url)){s.url=s.page_url+s.url}s.chunk_size=g.parseSize(s.chunk_size);s.max_file_size=g.parseSize(s.max_file_size);B.bind("FilesAdded",function(D,G){var F,E,I=0,J,H=s.filters;if(H&&H.length){J=[];g.each(H,function(K){g.each(K.extensions.split(/,/),function(L){if(/^\s*\*\s*$/.test(L)){J.push("\\.*")}else{J.push("\\."+L.replace(new RegExp("["+("/^$.*+?|()[]{}\\".replace(/./g,"\\$&"))+"]","g"),"\\$&"))}})});J=new RegExp(J.join("|")+"$","i")}for(F=0;F<G.length;F++){E=G[F];E.loaded=0;E.percent=0;E.status=g.QUEUED;if(J&&!J.test(E.name)){D.trigger("Error",{code:g.FILE_EXTENSION_ERROR,message:g.translate("File extension error."),file:E});continue}if(E.size!==b&&E.size>s.max_file_size){D.trigger("Error",{code:g.FILE_SIZE_ERROR,message:g.translate("File size error."),file:E});continue}u.push(E);I++}if(I){c(function(){B.trigger("QueueChanged");B.refresh()},1)}else{return false}});if(s.unique_names){B.bind("UploadFile",function(D,E){var G=E.name.match(/\.([^.]+)$/),F="tmp";if(G){F=G[1]}E.target_name=E.id+"."+F})}B.bind("UploadProgress",function(D,E){E.percent=E.size>0?Math.ceil(E.loaded/E.size*100):100;o()});B.bind("StateChanged",function(D){if(D.state==g.STARTED){r=(+new Date())}else{if(D.state==g.STOPPED){for(C=D.files.length-1;C>=0;C--){if(D.files[C].status==g.UPLOADING){D.files[C].status=g.QUEUED;o()}}}}});B.bind("QueueChanged",o);B.bind("Error",function(D,E){if(E.file){E.file.status=g.FAILED;o();if(D.state==g.STARTED){c(function(){t.call(B)},1)}}});B.bind("FileUploaded",function(D,E){E.status=g.DONE;E.loaded=E.size;D.trigger("UploadProgress",E);c(function(){t.call(B)},1)});if(s.runtimes){y=[];z=s.runtimes.split(/\s?,\s?/);for(C=0;C<z.length;C++){if(l[z[C]]){y.push(l[z[C]])}}}else{y=l}function w(){var G=y[A++],F,D,E;if(G){F=G.getFeatures();D=B.settings.required_features;if(D){D=D.split(",");for(E=0;E<D.length;E++){if(!F[D[E]]){w();return}}}G.init(B,function(H){if(H&&H.success){B.features=F;B.runtime=G.name;B.trigger("Init",{runtime:G.name});B.trigger("PostInit");B.refresh()}else{w()}})}else{B.trigger("Error",{code:g.INIT_ERROR,message:g.translate("Init error.")})}}w();if(typeof(s.init)=="function"){s.init(B)}else{g.each(s.init,function(E,D){B.bind(D,E)})}},refresh:function(){this.trigger("Refresh")},start:function(){if(u.length&&this.state!=g.STARTED){this.state=g.STARTED;this.trigger("StateChanged");t.call(this)}},stop:function(){if(this.state!=g.STOPPED){this.state=g.STOPPED;this.trigger("CancelUpload");this.trigger("StateChanged")}},disableBrowse:function(){q=arguments[0]!==b?arguments[0]:true;this.trigger("DisableBrowse",q)},getFile:function(x){var w;for(w=u.length-1;w>=0;w--){if(u[w].id===x){return u[w]}}},removeFile:function(x){var w;for(w=u.length-1;w>=0;w--){if(u[w].id===x.id){return this.splice(w,1)[0]}}},splice:function(y,w){var x;x=u.splice(y===b?0:y,w===b?u.length:w);this.trigger("FilesRemoved",x);this.trigger("QueueChanged");return x},trigger:function(x){var z=p[x.toLowerCase()],y,w;if(z){w=Array.prototype.slice.call(arguments);w[0]=this;for(y=0;y<z.length;y++){if(z[y].func.apply(z[y].scope,w)===false){return false}}}return true},hasEventListener:function(w){return !!p[w.toLowerCase()]},bind:function(w,y,x){var z;w=w.toLowerCase();z=p[w]||[];z.push({func:y,scope:x||this});p[w]=z},unbind:function(w){w=w.toLowerCase();var z=p[w],x,y=arguments[1];if(z){if(y!==b){for(x=z.length-1;x>=0;x--){if(z[x].func===y){z.splice(x,1);break}}}else{z=[]}if(!z.length){delete p[w]}}},unbindAll:function(){var w=this;g.each(p,function(y,x){w.unbind(x)})},destroy:function(){this.stop();this.trigger("Destroy");this.unbindAll()}})};g.File=function(r,p,q){var o=this;o.id=r;o.name=p;o.size=q;o.loaded=0;o.percent=0;o.status=0};g.Runtime=function(){this.getFeatures=function(){};this.init=function(o,p){}};g.QueueProgress=function(){var o=this;o.size=0;o.loaded=0;o.uploaded=0;o.failed=0;o.queued=0;o.percent=0;o.bytesPerSec=0;o.reset=function(){o.size=o.loaded=o.uploaded=o.failed=o.queued=o.percent=o.bytesPerSec=0}};g.runtimes={};window.plupload=g})();(function(){if(window.google&&google.gears){return}var a=null;if(typeof GearsFactory!="undefined"){a=new GearsFactory()}else{try{a=new ActiveXObject("Gears.Factory");if(a.getBuildInfo().indexOf("ie_mobile")!=-1){a.privateSetGlobalObject(this)}}catch(b){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){a=document.createElement("object");a.style.display="none";a.width=0;a.height=0;a.type="application/x-googlegears";document.documentElement.appendChild(a)}}}if(!a){return}if(!window.google){window.google={}}if(!google.gears){google.gears={factory:a}}})();(function(e,b,c,d){var f={};function a(h,k,m){var g,j,l,o;j=google.gears.factory.create("beta.canvas");try{j.decode(h);if(!k.width){k.width=j.width}if(!k.height){k.height=j.height}o=Math.min(k.width/j.width,k.height/j.height);if(o<1){j.resize(Math.round(j.width*o),Math.round(j.height*o))}else{if(!k.quality||m!=="image/jpeg"){return h}}if(k.quality){return j.encode(m,{quality:k.quality/100})}return j.encode(m)}catch(n){}return h}c.runtimes.Gears=c.addRuntime("gears",{getFeatures:function(){return{dragdrop:true,jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(l,n){var m,h,g=false;if(!e.google||!google.gears){return n({success:false})}try{m=google.gears.factory.create("beta.desktop")}catch(k){return n({success:false})}function j(q){var p,o,r=[],s;for(o=0;o<q.length;o++){p=q[o];s=c.guid();f[s]=p.blob;r.push(new c.File(s,p.name,p.blob.length))}l.trigger("FilesAdded",r)}l.bind("PostInit",function(){var p=l.settings,o=b.getElementById(p.drop_element);if(o){c.addEvent(o,"dragover",function(q){m.setDropEffect(q,"copy");q.preventDefault()},l.id);c.addEvent(o,"drop",function(r){var q=m.getDragData(r,"application/x-gears-files");if(q){j(q.files)}r.preventDefault()},l.id);o=0}c.addEvent(b.getElementById(p.browse_button),"click",function(u){var t=[],r,q,s;u.preventDefault();if(g){return}no_type_restriction:for(r=0;r<p.filters.length;r++){s=p.filters[r].extensions.split(",");for(q=0;q<s.length;q++){if(s[q]==="*"){t=[];break no_type_restriction}t.push("."+s[q])}}m.openFiles(j,{singleFile:!p.multi_selection,filter:t})},l.id)});l.bind("CancelUpload",function(){if(h.abort){h.abort()}});l.bind("UploadFile",function(u,r){var w=0,v,s,t=0,q=u.settings.resize,o;if(q&&/\.(png|jpg|jpeg)$/i.test(r.name)){f[r.id]=a(f[r.id],q,/\.png$/i.test(r.name)?"image/png":"image/jpeg")}r.size=f[r.id].length;s=u.settings.chunk_size;o=s>0;v=Math.ceil(r.size/s);if(!o){s=r.size;v=1}function p(){var C,y=u.settings.multipart,x=0,B={name:r.target_name||r.name},z=u.settings.url;function A(E){var D,J="----pluploadboundary"+c.guid(),G="--",I="\r\n",F,H;if(y){h.setRequestHeader("Content-Type","multipart/form-data; boundary="+J);D=google.gears.factory.create("beta.blobbuilder");c.each(c.extend(B,u.settings.multipart_params),function(L,K){D.append(G+J+I+'Content-Disposition: form-data; name="'+K+'"'+I+I);D.append(L+I)});H=c.mimeTypes[r.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream";D.append(G+J+I+'Content-Disposition: form-data; name="'+u.settings.file_data_name+'"; filename="'+r.name+'"'+I+"Content-Type: "+H+I+I);D.append(E);D.append(I+G+J+G+I);F=D.getAsBlob();x=F.length-E.length;E=F}h.send(E)}if(r.status==c.DONE||r.status==c.FAILED||u.state==c.STOPPED){return}if(o){B.chunk=w;B.chunks=v}C=Math.min(s,r.size-(w*s));if(!y){z=c.buildUrl(u.settings.url,B)}h=google.gears.factory.create("beta.httprequest");h.open("POST",z);if(!y){h.setRequestHeader("Content-Disposition",'attachment; filename="'+r.name+'"');h.setRequestHeader("Content-Type","application/octet-stream")}c.each(u.settings.headers,function(E,D){h.setRequestHeader(D,E)});h.upload.onprogress=function(D){r.loaded=t+D.loaded-x;u.trigger("UploadProgress",r)};h.onreadystatechange=function(){var D;if(h.readyState==4&&u.state!==c.STOPPED){if(h.status==200){D={chunk:w,chunks:v,response:h.responseText,status:h.status};u.trigger("ChunkUploaded",r,D);if(D.cancelled){r.status=c.FAILED;return}t+=C;if(++w>=v){r.status=c.DONE;u.trigger("FileUploaded",r,{response:h.responseText,status:h.status})}else{p()}}else{u.trigger("Error",{code:c.HTTP_ERROR,message:c.translate("HTTP Error."),file:r,chunk:w,chunks:v,status:h.status})}}};if(w<v){A(f[r.id].slice(w*s,C))}}p()});l.bind("DisableBrowse",function(o,p){g=p});l.bind("Destroy",function(o){var p,q,r={browseButton:o.settings.browse_button,dropElm:o.settings.drop_element};for(p in r){q=b.getElementById(r[p]);if(q){c.removeAllEvents(q,o.id)}}});n({success:true})}})})(window,document,plupload);(function(g,b,d,e){var a={},h={};function c(o){var n,m=typeof o,j,l,k;if(o===e||o===null){return"null"}if(m==="string"){n="\bb\tt\nn\ff\rr\"\"''\\\\";return'"'+o.replace(/([\u0080-\uFFFF\x00-\x1f\"])/g,function(r,q){var p=n.indexOf(q);if(p+1){return"\\"+n.charAt(p+1)}r=q.charCodeAt().toString(16);return"\\u"+"0000".substring(r.length)+r})+'"'}if(m=="object"){j=o.length!==e;n="";if(j){for(l=0;l<o.length;l++){if(n){n+=","}n+=c(o[l])}n="["+n+"]"}else{for(k in o){if(o.hasOwnProperty(k)){if(n){n+=","}n+=c(k)+":"+c(o[k])}}n="{"+n+"}"}return n}return""+o}function f(s){var v=false,j=null,o=null,k,l,m,u,n,q=0;try{try{o=new ActiveXObject("AgControl.AgControl");if(o.IsVersionSupported(s)){v=true}o=null}catch(r){var p=navigator.plugins["Silverlight Plug-In"];if(p){k=p.description;if(k==="1.0.30226.2"){k="2.0.30226.2"}l=k.split(".");while(l.length>3){l.pop()}while(l.length<4){l.push(0)}m=s.split(".");while(m.length>4){m.pop()}do{u=parseInt(m[q],10);n=parseInt(l[q],10);q++}while(q<m.length&&u===n);if(u<=n&&!isNaN(u)){v=true}}}}catch(t){v=false}return v}d.silverlight={trigger:function(n,k){var m=a[n],l,j;if(m){j=d.toArray(arguments).slice(1);j[0]="Silverlight:"+k;setTimeout(function(){m.trigger.apply(m,j)},0)}}};d.runtimes.Silverlight=d.addRuntime("silverlight",{getFeatures:function(){return{jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(p,q){var o,m="",n=p.settings.filters,l,k=b.body;if(!f("2.0.31005.0")||(g.opera&&g.opera.buildNumber)){q({success:false});return}h[p.id]=false;a[p.id]=p;o=b.createElement("div");o.id=p.id+"_silverlight_container";d.extend(o.style,{position:"absolute",top:"0px",background:p.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100px",height:"100px",overflow:"hidden",opacity:p.settings.shim_bgcolor||b.documentMode>8?"":0.01});o.className="plupload silverlight";if(p.settings.container){k=b.getElementById(p.settings.container);if(d.getStyle(k,"position")==="static"){k.style.position="relative"}}k.appendChild(o);for(l=0;l<n.length;l++){m+=(m!=""?"|":"")+n[l].title+" | *."+n[l].extensions.replace(/,/g,";*.")}o.innerHTML='<object id="'+p.id+'_silverlight" data="data:application/x-silverlight," type="application/x-silverlight-2" style="outline:none;" width="1024" height="1024"><param name="source" value="'+p.settings.silverlight_xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="id='+p.id+",filter="+m+",multiselect="+p.settings.multi_selection+'"/></object>';function j(){return b.getElementById(p.id+"_silverlight").content.Upload}p.bind("Silverlight:Init",function(){var r,s={};if(h[p.id]){return}h[p.id]=true;p.bind("Silverlight:StartSelectFiles",function(t){r=[]});p.bind("Silverlight:SelectFile",function(t,w,u,v){var x;x=d.guid();s[x]=w;s[w]=x;r.push(new d.File(x,u,v))});p.bind("Silverlight:SelectSuccessful",function(){if(r.length){p.trigger("FilesAdded",r)}});p.bind("Silverlight:UploadChunkError",function(t,w,u,x,v){p.trigger("Error",{code:d.IO_ERROR,message:"IO Error.",details:v,file:t.getFile(s[w])})});p.bind("Silverlight:UploadFileProgress",function(t,x,u,w){var v=t.getFile(s[x]);if(v.status!=d.FAILED){v.size=w;v.loaded=u;t.trigger("UploadProgress",v)}});p.bind("Refresh",function(t){var u,v,w;u=b.getElementById(t.settings.browse_button);if(u){v=d.getPos(u,b.getElementById(t.settings.container));w=d.getSize(u);d.extend(b.getElementById(t.id+"_silverlight_container").style,{top:v.y+"px",left:v.x+"px",width:w.w+"px",height:w.h+"px"})}});p.bind("Silverlight:UploadChunkSuccessful",function(t,w,u,z,y){var x,v=t.getFile(s[w]);x={chunk:u,chunks:z,response:y};t.trigger("ChunkUploaded",v,x);if(v.status!=d.FAILED&&t.state!==d.STOPPED){j().UploadNextChunk()}if(u==z-1){v.status=d.DONE;t.trigger("FileUploaded",v,{response:y})}});p.bind("Silverlight:UploadSuccessful",function(t,w,u){var v=t.getFile(s[w]);v.status=d.DONE;t.trigger("FileUploaded",v,{response:u})});p.bind("FilesRemoved",function(t,v){var u;for(u=0;u<v.length;u++){j().RemoveFile(s[v[u].id])}});p.bind("UploadFile",function(t,v){var w=t.settings,u=w.resize||{};j().UploadFile(s[v.id],t.settings.url,c({name:v.target_name||v.name,mime:d.mimeTypes[v.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:w.chunk_size,image_width:u.width,image_height:u.height,image_quality:u.quality,multipart:!!w.multipart,multipart_params:w.multipart_params||{},file_data_name:w.file_data_name,headers:w.headers}))});p.bind("CancelUpload",function(){j().CancelUpload()});p.bind("Silverlight:MouseEnter",function(t){var u,v;u=b.getElementById(p.settings.browse_button);v=t.settings.browse_button_hover;if(u&&v){d.addClass(u,v)}});p.bind("Silverlight:MouseLeave",function(t){var u,v;u=b.getElementById(p.settings.browse_button);v=t.settings.browse_button_hover;if(u&&v){d.removeClass(u,v)}});p.bind("Silverlight:MouseLeftButtonDown",function(t){var u,v;u=b.getElementById(p.settings.browse_button);v=t.settings.browse_button_active;if(u&&v){d.addClass(u,v);d.addEvent(b.body,"mouseup",function(){d.removeClass(u,v)})}});p.bind("Sliverlight:StartSelectFiles",function(t){var u,v;u=b.getElementById(p.settings.browse_button);v=t.settings.browse_button_active;if(u&&v){d.removeClass(u,v)}});p.bind("DisableBrowse",function(t,u){j().DisableBrowse(u)});p.bind("Destroy",function(t){var u;d.removeAllEvents(b.body,t.id);delete h[t.id];delete a[t.id];u=b.getElementById(t.id+"_silverlight_container");if(u){u.parentNode.removeChild(u)}});q({success:true})})}})})(window,document,plupload);(function(f,b,d,e){var a={},g={};function c(){var h;try{h=navigator.plugins["Shockwave Flash"];h=h.description}catch(k){try{h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(j){h="0.0"}}h=h.match(/\d+/g);return parseFloat(h[0]+"."+h[1])}d.flash={trigger:function(k,h,j){setTimeout(function(){var n=a[k],m,l;if(n){n.trigger("Flash:"+h,j)}},0)}};d.runtimes.Flash=d.addRuntime("flash",{getFeatures:function(){return{jpgresize:true,pngresize:true,maxWidth:8091,maxHeight:8091,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(n,p){var l,m,h=0,j=b.body;if(c()<10){p({success:false});return}g[n.id]=false;a[n.id]=n;l=b.getElementById(n.settings.browse_button);m=b.createElement("div");m.id=n.id+"_flash_container";d.extend(m.style,{position:"absolute",top:"0px",background:n.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100%",height:"100%"});m.className="plupload flash";if(n.settings.container){j=b.getElementById(n.settings.container);if(d.getStyle(j,"position")==="static"){j.style.position="relative"}}j.appendChild(m);(function(){var q,r;q='<object id="'+n.id+'_flash" type="application/x-shockwave-flash" data="'+n.settings.flash_swf_url+'" ';if(d.ua.ie){q+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '}q+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+n.settings.flash_swf_url+'" /><param name="flashvars" value="id='+escape(n.id)+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>';if(d.ua.ie){r=b.createElement("div");m.appendChild(r);r.outerHTML=q;r=null}else{m.innerHTML=q}}());function o(){return b.getElementById(n.id+"_flash")}function k(){if(h++>5000){p({success:false});return}if(g[n.id]===false){setTimeout(k,1)}}k();l=m=null;n.bind("Destroy",function(q){var r;d.removeAllEvents(b.body,q.id);delete g[q.id];delete a[q.id];r=b.getElementById(q.id+"_flash_container");if(r){r.parentNode.removeChild(r)}});n.bind("Flash:Init",function(){var s={},r;try{o().setFileFilters(n.settings.filters,n.settings.multi_selection)}catch(q){p({success:false});return}if(g[n.id]){return}g[n.id]=true;n.bind("UploadFile",function(t,v){var w=t.settings,u=n.settings.resize||{};o().uploadFile(s[v.id],w.url,{name:v.target_name||v.name,mime:d.mimeTypes[v.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:w.chunk_size,width:u.width,height:u.height,quality:u.quality,multipart:w.multipart,multipart_params:w.multipart_params||{},file_data_name:w.file_data_name,format:/\.(jpg|jpeg)$/i.test(v.name)?"jpg":"png",headers:w.headers,urlstream_upload:w.urlstream_upload})});n.bind("CancelUpload",function(){o().cancelUpload()});n.bind("Flash:UploadProcess",function(u,t){var v=u.getFile(s[t.id]);if(v.status!=d.FAILED){v.loaded=t.loaded;v.size=t.size;u.trigger("UploadProgress",v)}});n.bind("Flash:UploadChunkComplete",function(t,v){var w,u=t.getFile(s[v.id]);w={chunk:v.chunk,chunks:v.chunks,response:v.text};t.trigger("ChunkUploaded",u,w);if(u.status!==d.FAILED&&t.state!==d.STOPPED){o().uploadNextChunk()}if(v.chunk==v.chunks-1){u.status=d.DONE;t.trigger("FileUploaded",u,{response:v.text})}});n.bind("Flash:SelectFiles",function(t,w){var v,u,x=[],y;for(u=0;u<w.length;u++){v=w[u];y=d.guid();s[y]=v.id;s[v.id]=y;x.push(new d.File(y,v.name,v.size))}if(x.length){n.trigger("FilesAdded",x)}});n.bind("Flash:SecurityError",function(t,u){n.trigger("Error",{code:d.SECURITY_ERROR,message:d.translate("Security error."),details:u.message,file:n.getFile(s[u.id])})});n.bind("Flash:GenericError",function(t,u){n.trigger("Error",{code:d.GENERIC_ERROR,message:d.translate("Generic error."),details:u.message,file:n.getFile(s[u.id])})});n.bind("Flash:IOError",function(t,u){n.trigger("Error",{code:d.IO_ERROR,message:d.translate("IO error."),details:u.message,file:n.getFile(s[u.id])})});n.bind("Flash:ImageError",function(t,u){n.trigger("Error",{code:parseInt(u.code,10),message:d.translate("Image error."),file:n.getFile(s[u.id])})});n.bind("Flash:StageEvent:rollOver",function(t){var u,v;u=b.getElementById(n.settings.browse_button);v=t.settings.browse_button_hover;if(u&&v){d.addClass(u,v)}});n.bind("Flash:StageEvent:rollOut",function(t){var u,v;u=b.getElementById(n.settings.browse_button);v=t.settings.browse_button_hover;if(u&&v){d.removeClass(u,v)}});n.bind("Flash:StageEvent:mouseDown",function(t){var u,v;u=b.getElementById(n.settings.browse_button);v=t.settings.browse_button_active;if(u&&v){d.addClass(u,v);d.addEvent(b.body,"mouseup",function(){d.removeClass(u,v)},t.id)}});n.bind("Flash:StageEvent:mouseUp",function(t){var u,v;u=b.getElementById(n.settings.browse_button);v=t.settings.browse_button_active;if(u&&v){d.removeClass(u,v)}});n.bind("Flash:ExifData",function(t,u){n.trigger("ExifData",n.getFile(s[u.id]),u.data)});n.bind("Flash:GpsData",function(t,u){n.trigger("GpsData",n.getFile(s[u.id]),u.data)});n.bind("QueueChanged",function(t){n.refresh()});n.bind("FilesRemoved",function(t,v){var u;for(u=0;u<v.length;u++){o().removeFile(s[v[u].id])}});n.bind("StateChanged",function(t){n.refresh()});n.bind("Refresh",function(t){var u,v,w;o().setFileFilters(n.settings.filters,n.settings.multi_selection);u=b.getElementById(t.settings.browse_button);if(u){v=d.getPos(u,b.getElementById(t.settings.container));w=d.getSize(u);d.extend(b.getElementById(t.id+"_flash_container").style,{top:v.y+"px",left:v.x+"px",width:w.w+"px",height:w.h+"px"})}});n.bind("DisableBrowse",function(t,u){o().disableBrowse(u)});p({success:true})})}})})(window,document,plupload);(function(a){a.runtimes.BrowserPlus=a.addRuntime("browserplus",{getFeatures:function(){return{dragdrop:true,jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(g,j){var e=window.BrowserPlus,h={},d=g.settings,c=d.resize;function f(o){var n,m,k=[],l,p;for(m=0;m<o.length;m++){l=o[m];p=a.guid();h[p]=l;k.push(new a.File(p,l.name,l.size))}if(m){g.trigger("FilesAdded",k)}}function b(){var k=false;g.bind("PostInit",function(){var o,m=d.drop_element,q=g.id+"_droptarget",l=document.getElementById(m),n;function r(t,s){e.DragAndDrop.AddDropTarget({id:t},function(u){e.DragAndDrop.AttachCallbacks({id:t,hover:function(v){if(!v&&s){s()}},drop:function(v){if(s){s()}f(v)}},function(){})})}function p(){document.getElementById(q).style.top="-1000px"}if(l){if(document.attachEvent&&(/MSIE/gi).test(navigator.userAgent)){o=document.createElement("div");o.setAttribute("id",q);a.extend(o.style,{position:"absolute",top:"-1000px",background:"red",filter:"alpha(opacity=0)",opacity:0});document.body.appendChild(o);a.addEvent(l,"dragenter",function(t){var s,u;s=document.getElementById(m);u=a.getPos(s);a.extend(document.getElementById(q).style,{top:u.y+"px",left:u.x+"px",width:s.offsetWidth+"px",height:s.offsetHeight+"px"})});r(q,p)}else{r(m)}}a.addEvent(document.getElementById(d.browse_button),"click",function(y){var s=[],u,t,x=d.filters,w,v;y.preventDefault();if(k){return}no_type_restriction:for(u=0;u<x.length;u++){w=x[u].extensions.split(",");for(t=0;t<w.length;t++){if(w[t]==="*"){s=[];break no_type_restriction}v=a.mimeTypes[w[t]];if(v&&a.inArray(v,s)===-1){s.push(a.mimeTypes[w[t]])}}}e.FileBrowse.OpenBrowseDialog({mimeTypes:s},function(z){if(z.success){f(z.value)}})});l=o=null});g.bind("CancelUpload",function(){e.Uploader.cancel({},function(){})});g.bind("DisableBrowse",function(l,m){k=m});g.bind("UploadFile",function(o,l){var n=h[l.id],t={},m=o.settings.chunk_size,p,q=[];function s(u,w){var v;if(l.status==a.FAILED){return}t.name=l.target_name||l.name;if(m){t.chunk=""+u;t.chunks=""+w}v=q.shift();e.Uploader.upload({url:o.settings.url,files:{file:v},cookies:document.cookies,postvars:a.extend(t,o.settings.multipart_params),progressCallback:function(z){var y,x=0;p[u]=parseInt(z.filePercent*v.size/100,10);for(y=0;y<p.length;y++){x+=p[y]}l.loaded=x;o.trigger("UploadProgress",l)}},function(y){var x,z;if(y.success){x=y.value.statusCode;if(m){o.trigger("ChunkUploaded",l,{chunk:u,chunks:w,response:y.value.body,status:x})}if(q.length>0){s(++u,w)}else{l.status=a.DONE;o.trigger("FileUploaded",l,{response:y.value.body,status:x});if(x>=400){o.trigger("Error",{code:a.HTTP_ERROR,message:a.translate("HTTP Error."),file:l,status:x})}}}else{o.trigger("Error",{code:a.GENERIC_ERROR,message:a.translate("Generic Error."),file:l,details:y.error})}})}function r(u){l.size=u.size;if(m){e.FileAccess.chunk({file:u,chunkSize:m},function(x){if(x.success){var y=x.value,v=y.length;p=Array(v);for(var w=0;w<v;w++){p[w]=0;q.push(y[w])}s(0,v)}})}else{p=Array(1);q.push(u);s(0,1)}}if(c&&/\.(png|jpg|jpeg)$/i.test(l.name)){BrowserPlus.ImageAlter.transform({file:n,quality:c.quality||90,actions:[{scale:{maxwidth:c.width,maxheight:c.height}}]},function(u){if(u.success){r(u.value.file)}})}else{r(n)}});j({success:true})}if(e){e.init(function(l){var k=[{service:"Uploader",version:"3"},{service:"DragAndDrop",version:"1"},{service:"FileBrowse",version:"1"},{service:"FileAccess",version:"2"}];if(c){k.push({service:"ImageAlter",version:"4"})}if(l.success){e.require({services:k},function(m){if(m.success){b()}else{j()}})}else{j()}})}else{j()}}})})(plupload);(function(k,m,l,g){var d={},j;function c(s){var r=s.naturalWidth,u=s.naturalHeight;if(r*u>1024*1024){var t=m.createElement("canvas");t.width=t.height=1;var q=t.getContext("2d");q.drawImage(s,-r+1,0);return q.getImageData(0,0,1,1).data[3]===0}else{return false}}function f(u,r,z){var q=m.createElement("canvas");q.width=1;q.height=z;var A=q.getContext("2d");A.drawImage(u,0,0);var t=A.getImageData(0,0,1,z).data;var x=0;var v=z;var y=z;while(y>x){var s=t[(y-1)*4+3];if(s===0){v=y}else{x=y}y=(v+x)>>1}var w=(y/z);return(w===0)?1:w}function o(K,s,t){var v=K.naturalWidth,z=K.naturalHeight;var E=t.width,B=t.height;var F=s.getContext("2d");F.save();var r=c(K);if(r){v/=2;z/=2}var I=1024;var q=m.createElement("canvas");q.width=q.height=I;var u=q.getContext("2d");var G=f(K,v,z);var A=0;while(A<z){var J=A+I>z?z-A:I;var C=0;while(C<v){var D=C+I>v?v-C:I;u.clearRect(0,0,I,I);u.drawImage(K,-C,-A);var x=(C*E/v)<<0;var y=Math.ceil(D*E/v);var w=(A*B/z/G)<<0;var H=Math.ceil(J*B/z/G);F.drawImage(q,0,0,D,J,x,w,y,H);C+=I}A+=I}F.restore();q=u=null}function p(r,s){var q;if("FileReader" in k){q=new FileReader();q.readAsDataURL(r);q.onload=function(){s(q.result)}}else{return s(r.getAsDataURL())}}function n(r,s){var q;if("FileReader" in k){q=new FileReader();q.readAsBinaryString(r);q.onload=function(){s(q.result)}}else{return s(r.getAsBinary())}}function e(u,s,q,y){var t,r,x,v,w=this;p(d[u.id],function(z){t=m.createElement("canvas");t.style.display="none";m.body.appendChild(t);x=new Image();x.onerror=x.onabort=function(){y({success:false})};x.onload=function(){var F,A,C,B,E;if(!s.width){s.width=x.width}if(!s.height){s.height=x.height}v=Math.min(s.width/x.width,s.height/x.height);if(v<1){F=Math.round(x.width*v);A=Math.round(x.height*v)}else{if(s.quality&&q==="image/jpeg"){F=x.width;A=x.height}else{y({success:false});return}}t.width=F;t.height=A;o(x,t,{width:F,height:A});if(q==="image/jpeg"){B=new h(atob(z.substring(z.indexOf("base64,")+7)));if(B.headers&&B.headers.length){E=new a();if(E.init(B.get("exif")[0])){E.setExif("PixelXDimension",F);E.setExif("PixelYDimension",A);B.set("exif",E.getBinary());if(w.hasEventListener("ExifData")){w.trigger("ExifData",u,E.EXIF())}if(w.hasEventListener("GpsData")){w.trigger("GpsData",u,E.GPS())}}}}if(s.quality&&q==="image/jpeg"){try{z=t.toDataURL(q,s.quality/100)}catch(D){z=t.toDataURL(q)}}else{z=t.toDataURL(q)}z=z.substring(z.indexOf("base64,")+7);z=atob(z);if(B&&B.headers&&B.headers.length){z=B.restore(z);B.purge()}t.parentNode.removeChild(t);y({success:true,data:z})};x.src=z})}l.runtimes.Html5=l.addRuntime("html5",{getFeatures:function(){var v,r,u,t,s,q;r=u=s=q=false;if(k.XMLHttpRequest){v=new XMLHttpRequest();u=!!v.upload;r=!!(v.sendAsBinary||v.upload)}if(r){t=!!(v.sendAsBinary||(k.Uint8Array&&k.ArrayBuffer));s=!!(File&&(File.prototype.getAsDataURL||k.FileReader)&&t);q=!!(File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice))}j=l.ua.safari&&l.ua.windows;return{html5:r,dragdrop:(function(){var w=m.createElement("div");return("draggable" in w)||("ondragstart" in w&&"ondrop" in w)}()),jpgresize:s,pngresize:s,multipart:s||!!k.FileReader||!!k.FormData,canSendBinary:t,cantSendBlobInFormData:!!(l.ua.gecko&&k.FormData&&k.FileReader&&!FileReader.prototype.readAsArrayBuffer)||l.ua.android,progress:u,chunks:q,multi_selection:!(l.ua.safari&&l.ua.windows),triggerDialog:(l.ua.gecko&&k.FormData||l.ua.webkit)}},init:function(s,u){var q,t;function r(z){var x,w,y=[],A,v={};for(w=0;w<z.length;w++){x=z[w];if(v[x.name]&&l.ua.safari&&l.ua.windows){continue}v[x.name]=true;A=l.guid();d[A]=x;y.push(new l.File(A,x.fileName||x.name,x.fileSize||x.size))}if(y.length){s.trigger("FilesAdded",y)}}q=this.getFeatures();if(!q.html5){u({success:false});return}s.bind("Init",function(A){var J,I,F=[],z,G,w=A.settings.filters,x,E,v=m.body,H;J=m.createElement("div");J.id=A.id+"_html5_container";l.extend(J.style,{position:"absolute",background:s.settings.shim_bgcolor||"transparent",width:"100px",height:"100px",overflow:"hidden",zIndex:99999,opacity:s.settings.shim_bgcolor?"":0});J.className="plupload html5";if(s.settings.container){v=m.getElementById(s.settings.container);if(l.getStyle(v,"position")==="static"){v.style.position="relative"}}v.appendChild(J);no_type_restriction:for(z=0;z<w.length;z++){x=w[z].extensions.split(/,/);for(G=0;G<x.length;G++){if(x[G]==="*"){F=[];break no_type_restriction}E=l.mimeTypes[x[G]];if(E&&l.inArray(E,F)===-1){F.push(E)}}}J.innerHTML='<input id="'+s.id+'_html5"  style="font-size:999px" type="file" accept="'+F.join(",")+'" '+(s.settings.multi_selection&&s.features.multi_selection?'multiple="multiple"':"")+" />";J.scrollTop=100;H=m.getElementById(s.id+"_html5");if(A.features.triggerDialog){l.extend(H.style,{position:"absolute",width:"100%",height:"100%"})}else{l.extend(H.style,{cssFloat:"right",styleFloat:"right"})}H.onchange=function(){r(this.files);this.value=""};I=m.getElementById(A.settings.browse_button);if(I){var C=A.settings.browse_button_hover,D=A.settings.browse_button_active,B=A.features.triggerDialog?I:J;if(C){l.addEvent(B,"mouseover",function(){l.addClass(I,C)},A.id);l.addEvent(B,"mouseout",function(){l.removeClass(I,C)},A.id)}if(D){l.addEvent(B,"mousedown",function(){l.addClass(I,D)},A.id);l.addEvent(m.body,"mouseup",function(){l.removeClass(I,D)},A.id)}if(A.features.triggerDialog){l.addEvent(I,"click",function(K){var y=m.getElementById(A.id+"_html5");if(y&&!y.disabled){y.click()}K.preventDefault()},A.id)}}});s.bind("PostInit",function(){var v=m.getElementById(s.settings.drop_element);if(v){if(j){l.addEvent(v,"dragenter",function(z){var y,w,x;y=m.getElementById(s.id+"_drop");if(!y){y=m.createElement("input");y.setAttribute("type","file");y.setAttribute("id",s.id+"_drop");y.setAttribute("multiple","multiple");l.addEvent(y,"change",function(){r(this.files);l.removeEvent(y,"change",s.id);y.parentNode.removeChild(y)},s.id);l.addEvent(y,"dragover",function(A){A.stopPropagation()},s.id);v.appendChild(y)}w=l.getPos(v,m.getElementById(s.settings.container));x=l.getSize(v);if(l.getStyle(v,"position")==="static"){l.extend(v.style,{position:"relative"})}l.extend(y.style,{position:"absolute",display:"block",top:0,left:0,width:x.w+"px",height:x.h+"px",opacity:0})},s.id);return}l.addEvent(v,"dragover",function(w){w.preventDefault()},s.id);l.addEvent(v,"drop",function(x){var w=x.dataTransfer;if(w&&w.files){r(w.files)}x.preventDefault()},s.id)}});s.bind("Refresh",function(v){var w,x,y,A,z;w=m.getElementById(s.settings.browse_button);if(w){x=l.getPos(w,m.getElementById(v.settings.container));y=l.getSize(w);A=m.getElementById(s.id+"_html5_container");l.extend(A.style,{top:x.y+"px",left:x.x+"px",width:y.w+"px",height:y.h+"px"});if(s.features.triggerDialog){if(l.getStyle(w,"position")==="static"){l.extend(w.style,{position:"relative"})}z=parseInt(l.getStyle(w,"zIndex"),10);if(isNaN(z)){z=0}l.extend(w.style,{zIndex:z});l.extend(A.style,{zIndex:z-1})}}});s.bind("DisableBrowse",function(v,x){var w=m.getElementById(v.id+"_html5");if(w){w.disabled=x}});s.bind("CancelUpload",function(){if(t&&t.abort){t.abort()}});s.bind("UploadFile",function(v,x){var y=v.settings,B,w;function A(D,G,C){var E;if(File.prototype.slice){try{D.slice();return D.slice(G,C)}catch(F){return D.slice(G,C-G)}}else{if(E=File.prototype.webkitSlice||File.prototype.mozSlice){return E.call(D,G,C)}else{return null}}}function z(C){var F=0,E=0;function D(){var L,P,N,O,K,M,H,G=v.settings.url;function J(S){if(t.sendAsBinary){t.sendAsBinary(S)}else{if(v.features.canSendBinary){var Q=new Uint8Array(S.length);for(var R=0;R<S.length;R++){Q[R]=(S.charCodeAt(R)&255)}t.send(Q.buffer)}}}function I(R){var V=0,W="----pluploadboundary"+l.guid(),T,S="--",U="\r\n",Q="";t=new XMLHttpRequest;if(t.upload){t.upload.onprogress=function(X){x.loaded=Math.min(x.size,E+X.loaded-V);v.trigger("UploadProgress",x)}}t.onreadystatechange=function(){var X,Z;if(t.readyState==4&&v.state!==l.STOPPED){try{X=t.status}catch(Y){X=0}if(X>=400){v.trigger("Error",{code:l.HTTP_ERROR,message:l.translate("HTTP Error."),file:x,status:X})}else{if(N){Z={chunk:F,chunks:N,response:t.responseText,status:X};v.trigger("ChunkUploaded",x,Z);E+=M;if(Z.cancelled){x.status=l.FAILED;return}x.loaded=Math.min(x.size,(F+1)*K)}else{x.loaded=x.size}v.trigger("UploadProgress",x);R=L=T=Q=null;if(!N||++F>=N){x.status=l.DONE;v.trigger("FileUploaded",x,{response:t.responseText,status:X})}else{D()}}}};if(v.settings.multipart&&q.multipart){O.name=x.target_name||x.name;t.open("post",G,true);l.each(v.settings.headers,function(Y,X){t.setRequestHeader(X,Y)});if(typeof(R)!=="string"&&!!k.FormData){T=new FormData();l.each(l.extend(O,v.settings.multipart_params),function(Y,X){T.append(X,Y)});T.append(v.settings.file_data_name,R);t.send(T);return}if(typeof(R)==="string"){t.setRequestHeader("Content-Type","multipart/form-data; boundary="+W);l.each(l.extend(O,v.settings.multipart_params),function(Y,X){Q+=S+W+U+'Content-Disposition: form-data; name="'+X+'"'+U+U;Q+=unescape(encodeURIComponent(Y))+U});H=l.mimeTypes[x.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream";Q+=S+W+U+'Content-Disposition: form-data; name="'+v.settings.file_data_name+'"; filename="'+unescape(encodeURIComponent(x.name))+'"'+U+"Content-Type: "+H+U+U+R+U+S+W+S+U;V=Q.length-R.length;R=Q;J(R);return}}G=l.buildUrl(v.settings.url,l.extend(O,v.settings.multipart_params));t.open("post",G,true);t.setRequestHeader("Content-Type","application/octet-stream");l.each(v.settings.headers,function(Y,X){t.setRequestHeader(X,Y)});if(typeof(R)==="string"){J(R)}else{t.send(R)}}if(x.status==l.DONE||x.status==l.FAILED||v.state==l.STOPPED){return}O={name:x.target_name||x.name};if(y.chunk_size&&x.size>y.chunk_size&&(q.chunks||typeof(C)=="string")){K=y.chunk_size;N=Math.ceil(x.size/K);M=Math.min(K,x.size-(F*K));if(typeof(C)=="string"){L=C.substring(F*K,F*K+M)}else{L=A(C,F*K,F*K+M)}O.chunk=F;O.chunks=N}else{M=x.size;L=C}if(v.settings.multipart&&q.multipart&&typeof(L)!=="string"&&k.FileReader&&q.cantSendBlobInFormData&&q.chunks&&v.settings.chunk_size){(function(){var Q=new FileReader();Q.onload=function(){I(Q.result);Q=null};Q.readAsBinaryString(L)}())}else{I(L)}}D()}B=d[x.id];if(q.jpgresize&&v.settings.resize&&/\.(png|jpg|jpeg)$/i.test(x.name)){e.call(v,x,v.settings.resize,/\.png$/i.test(x.name)?"image/png":"image/jpeg",function(C){if(C.success){x.size=C.data.length;z(C.data)}else{if(q.chunks){z(B)}else{n(B,z)}}})}else{if(!q.chunks&&q.jpgresize){n(B,z)}else{z(B)}}});s.bind("Destroy",function(v){var x,y,w=m.body,z={inputContainer:v.id+"_html5_container",inputFile:v.id+"_html5",browseButton:v.settings.browse_button,dropElm:v.settings.drop_element};for(x in z){y=m.getElementById(z[x]);if(y){l.removeAllEvents(y,v.id)}}l.removeAllEvents(m.body,v.id);if(v.settings.container){w=m.getElementById(v.settings.container)}w.removeChild(m.getElementById(z.inputContainer))});u({success:true})}});function b(){var t=false,r;function u(w,y){var v=t?0:-8*(y-1),z=0,x;for(x=0;x<y;x++){z|=(r.charCodeAt(w+x)<<Math.abs(v+x*8))}return z}function q(x,v,w){var w=arguments.length===3?w:r.length-v-1;r=r.substr(0,v)+x+r.substr(w+v)}function s(w,x,z){var A="",v=t?0:-8*(z-1),y;for(y=0;y<z;y++){A+=String.fromCharCode((x>>Math.abs(v+y*8))&255)}q(A,w,z)}return{II:function(v){if(v===g){return t}else{t=v}},init:function(v){t=false;r=v},SEGMENT:function(v,x,w){switch(arguments.length){case 1:return r.substr(v,r.length-v-1);case 2:return r.substr(v,x);case 3:q(w,v,x);break;default:return r}},BYTE:function(v){return u(v,1)},SHORT:function(v){return u(v,2)},LONG:function(v,w){if(w===g){return u(v,4)}else{s(v,w,4)}},SLONG:function(v){var w=u(v,4);return(w>2147483647?w-4294967296:w)},STRING:function(v,w){var x="";for(w+=v;v<w;v++){x+=String.fromCharCode(u(v,1))}return x}}}function h(v){var x={65505:{app:"EXIF",name:"APP1",signature:"Exif\0"},65506:{app:"ICC",name:"APP2",signature:"ICC_PROFILE\0"},65517:{app:"IPTC",name:"APP13",signature:"Photoshop 3.0\0"}},w=[],u,q,s=g,t=0,r;u=new b();u.init(v);if(u.SHORT(0)!==65496){return}q=2;r=Math.min(1048576,v.length);while(q<=r){s=u.SHORT(q);if(s>=65488&&s<=65495){q+=2;continue}if(s===65498||s===65497){break}t=u.SHORT(q+2)+2;if(x[s]&&u.STRING(q+4,x[s].signature.length)===x[s].signature){w.push({hex:s,app:x[s].app.toUpperCase(),name:x[s].name.toUpperCase(),start:q,length:t,segment:u.SEGMENT(q,t)})}q+=t}u.init(null);return{headers:w,restore:function(B){u.init(B);var z=new h(B);if(!z.headers){return false}for(var A=z.headers.length;A>0;A--){var C=z.headers[A-1];u.SEGMENT(C.start,C.length,"")}z.purge();q=u.SHORT(2)==65504?4+u.SHORT(4):2;for(var A=0,y=w.length;A<y;A++){u.SEGMENT(q,0,w[A].segment);q+=w[A].length}return u.SEGMENT()},get:function(A){var B=[];for(var z=0,y=w.length;z<y;z++){if(w[z].app===A.toUpperCase()){B.push(w[z].segment)}}return B},set:function(B,A){var C=[];if(typeof(A)==="string"){C.push(A)}else{C=A}for(var z=ii=0,y=w.length;z<y;z++){if(w[z].app===B.toUpperCase()){w[z].segment=C[ii];w[z].length=C[ii].length;ii++}if(ii>=C.length){break}}},purge:function(){w=[];u.init(null)}}}function a(){var t,q,r={},w;t=new b();q={tiff:{274:"Orientation",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}};w={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}};function s(x,F){var z=t.SHORT(x),C,I,J,E,D,y,A,G,H=[],B={};for(C=0;C<z;C++){A=y=x+12*C+2;J=F[t.SHORT(A)];if(J===g){continue}E=t.SHORT(A+=2);D=t.LONG(A+=2);A+=4;H=[];switch(E){case 1:case 7:if(D>4){A=t.LONG(A)+r.tiffHeader}for(I=0;I<D;I++){H[I]=t.BYTE(A+I)}break;case 2:if(D>4){A=t.LONG(A)+r.tiffHeader}B[J]=t.STRING(A,D-1);continue;case 3:if(D>2){A=t.LONG(A)+r.tiffHeader}for(I=0;I<D;I++){H[I]=t.SHORT(A+I*2)}break;case 4:if(D>1){A=t.LONG(A)+r.tiffHeader}for(I=0;I<D;I++){H[I]=t.LONG(A+I*4)}break;case 5:A=t.LONG(A)+r.tiffHeader;for(I=0;I<D;I++){H[I]=t.LONG(A+I*4)/t.LONG(A+I*4+4)}break;case 9:A=t.LONG(A)+r.tiffHeader;for(I=0;I<D;I++){H[I]=t.SLONG(A+I*4)}break;case 10:A=t.LONG(A)+r.tiffHeader;for(I=0;I<D;I++){H[I]=t.SLONG(A+I*4)/t.SLONG(A+I*4+4)}break;default:continue}G=(D==1?H[0]:H);if(w.hasOwnProperty(J)&&typeof G!="object"){B[J]=w[J][G]}else{B[J]=G}}return B}function v(){var y=g,x=r.tiffHeader;t.II(t.SHORT(x)==18761);if(t.SHORT(x+=2)!==42){return false}r.IFD0=r.tiffHeader+t.LONG(x+=2);y=s(r.IFD0,q.tiff);r.exifIFD=("ExifIFDPointer" in y?r.tiffHeader+y.ExifIFDPointer:g);r.gpsIFD=("GPSInfoIFDPointer" in y?r.tiffHeader+y.GPSInfoIFDPointer:g);return true}function u(z,x,C){var E,B,A,D=0;if(typeof(x)==="string"){var y=q[z.toLowerCase()];for(hex in y){if(y[hex]===x){x=hex;break}}}E=r[z.toLowerCase()+"IFD"];B=t.SHORT(E);for(i=0;i<B;i++){A=E+12*i+2;if(t.SHORT(A)==x){D=A+8;break}}if(!D){return false}t.LONG(D,C);return true}return{init:function(x){r={tiffHeader:10};if(x===g||!x.length){return false}t.init(x);if(t.SHORT(0)===65505&&t.STRING(4,5).toUpperCase()==="EXIF\0"){return v()}return false},EXIF:function(){var y;y=s(r.exifIFD,q.exif);if(y.ExifVersion&&l.typeOf(y.ExifVersion)==="array"){for(var z=0,x="";z<y.ExifVersion.length;z++){x+=String.fromCharCode(y.ExifVersion[z])}y.ExifVersion=x}return y},GPS:function(){var x;x=s(r.gpsIFD,q.gps);if(x.GPSVersionID){x.GPSVersionID=x.GPSVersionID.join(".")}return x},setExif:function(x,y){if(x!=="PixelXDimension"&&x!=="PixelYDimension"){return false}return u("exif",x,y)},getBinary:function(){return t.SEGMENT()}}}})(window,document,plupload);(function(d,a,b,c){function e(f){return a.getElementById(f)}b.runtimes.Html4=b.addRuntime("html4",{getFeatures:function(){return{multipart:true,triggerDialog:(b.ua.gecko&&d.FormData||b.ua.webkit)}},init:function(f,g){f.bind("Init",function(p){var j=a.body,n,h="javascript",k,x,q,z=[],r=/MSIE/.test(navigator.userAgent),t=[],m=p.settings.filters,o,l,s,w;no_type_restriction:for(o=0;o<m.length;o++){l=m[o].extensions.split(/,/);for(w=0;w<l.length;w++){if(l[w]==="*"){t=[];break no_type_restriction}s=b.mimeTypes[l[w]];if(s&&b.inArray(s,t)===-1){t.push(s)}}}t=t.join(",");function v(){var C,A,y,B;q=b.guid();z.push(q);C=a.createElement("form");C.setAttribute("id","form_"+q);C.setAttribute("method","post");C.setAttribute("enctype","multipart/form-data");C.setAttribute("encoding","multipart/form-data");C.setAttribute("target",p.id+"_iframe");C.style.position="absolute";A=a.createElement("input");A.setAttribute("id","input_"+q);A.setAttribute("type","file");A.setAttribute("accept",t);A.setAttribute("size",1);B=e(p.settings.browse_button);if(p.features.triggerDialog&&B){b.addEvent(e(p.settings.browse_button),"click",function(D){if(!A.disabled){A.click()}D.preventDefault()},p.id)}b.extend(A.style,{width:"100%",height:"100%",opacity:0,fontSize:"99px",cursor:"pointer"});b.extend(C.style,{overflow:"hidden"});y=p.settings.shim_bgcolor;if(y){C.style.background=y}if(r){b.extend(A.style,{filter:"alpha(opacity=0)"})}b.addEvent(A,"change",function(G){var E=G.target,D,F=[],H;if(E.value){e("form_"+q).style.top=-1048575+"px";D=E.value.replace(/\\/g,"/");D=D.substring(D.length,D.lastIndexOf("/")+1);F.push(new b.File(q,D));if(!p.features.triggerDialog){b.removeAllEvents(C,p.id)}else{b.removeEvent(B,"click",p.id)}b.removeEvent(A,"change",p.id);v();if(F.length){f.trigger("FilesAdded",F)}}},p.id);C.appendChild(A);j.appendChild(C);p.refresh()}function u(){var y=a.createElement("div");y.innerHTML='<iframe id="'+p.id+'_iframe" name="'+p.id+'_iframe" src="'+h+':&quot;&quot;" style="display:none"></iframe>';n=y.firstChild;j.appendChild(n);b.addEvent(n,"load",function(D){var E=D.target,C,A;if(!k){return}try{C=E.contentWindow.document||E.contentDocument||d.frames[E.id].document}catch(B){p.trigger("Error",{code:b.SECURITY_ERROR,message:b.translate("Security error."),file:k});return}A=C.documentElement.innerText||C.documentElement.textContent;if(A){k.status=b.DONE;k.loaded=1025;k.percent=100;p.trigger("UploadProgress",k);p.trigger("FileUploaded",k,{response:A})}},p.id)}if(p.settings.container){j=e(p.settings.container);if(b.getStyle(j,"position")==="static"){j.style.position="relative"}}p.bind("UploadFile",function(y,B){var C,A;if(B.status==b.DONE||B.status==b.FAILED||y.state==b.STOPPED){return}C=e("form_"+B.id);A=e("input_"+B.id);A.setAttribute("name",y.settings.file_data_name);C.setAttribute("action",y.settings.url);b.each(b.extend({name:B.target_name||B.name},y.settings.multipart_params),function(F,D){var E=a.createElement("input");b.extend(E,{type:"hidden",name:D,value:F});C.insertBefore(E,C.firstChild)});k=B;e("form_"+q).style.top=-1048575+"px";C.submit()});p.bind("FileUploaded",function(y){y.refresh()});p.bind("StateChanged",function(y){if(y.state==b.STARTED){u()}else{if(y.state==b.STOPPED){d.setTimeout(function(){b.removeEvent(n,"load",y.id);if(n.parentNode){n.parentNode.removeChild(n)}},0)}}b.each(y.files,function(B,A){if(B.status===b.DONE||B.status===b.FAILED){var C=e("form_"+B.id);if(C){C.parentNode.removeChild(C)}}})});p.bind("Refresh",function(A){var G,B,C,D,y,H,I,F,E;G=e(A.settings.browse_button);if(G){y=b.getPos(G,e(A.settings.container));H=b.getSize(G);I=e("form_"+q);F=e("input_"+q);b.extend(I.style,{top:y.y+"px",left:y.x+"px",width:H.w+"px",height:H.h+"px"});if(A.features.triggerDialog){if(b.getStyle(G,"position")==="static"){b.extend(G.style,{position:"relative"})}E=parseInt(G.style.zIndex,10);if(isNaN(E)){E=0}b.extend(G.style,{zIndex:E});b.extend(I.style,{zIndex:E-1})}C=A.settings.browse_button_hover;D=A.settings.browse_button_active;B=A.features.triggerDialog?G:I;if(C){b.addEvent(B,"mouseover",function(){b.addClass(G,C)},A.id);b.addEvent(B,"mouseout",function(){b.removeClass(G,C)},A.id)}if(D){b.addEvent(B,"mousedown",function(){b.addClass(G,D)},A.id);b.addEvent(a.body,"mouseup",function(){b.removeClass(G,D)},A.id)}}});f.bind("FilesRemoved",function(y,B){var A,C;for(A=0;A<B.length;A++){C=e("form_"+B[A].id);if(C){C.parentNode.removeChild(C)}}});f.bind("DisableBrowse",function(y,B){var A=a.getElementById("input_"+q);if(A){A.disabled=B}});f.bind("Destroy",function(y){var A,B,C,D={inputContainer:"form_"+q,inputFile:"input_"+q,browseButton:y.settings.browse_button};for(A in D){B=e(D[A]);if(B){b.removeAllEvents(B,y.id)}}b.removeAllEvents(a.body,y.id);b.each(z,function(F,E){C=e("form_"+F);if(C){C.parentNode.removeChild(C)}})});v()});g({success:true})}})})(window,document,plupload);//id privado con el último id generado
_uploadLastFileId = 0;
_isFirst = true;

// Método específico para uploads de una única imagen (caso sección bienvenida en website)
function va_plupload_getItemTemplate(columns)
{
    var cambiarImagen = "";
    if (!isIE()) {
        if (typeof appNativeUploaderUrl != 'undefined') {
            cambiarImagen = "<a class=\"websites-admin-button\" href=\""+ appNativeUploaderUrl + "\"><i class=\"fa fa-pencil\"></i> " + 'Cambiar imagen' + "</a>";
        } else {
            cambiarImagen = "<a id=\"app-upload-browse\" class=\"websites-admin-button\" role=\"button\"><i class=\"fa fa-pencil\"></i> " + 'Cambiar imagen' + "</a>";
        }
    }
    return "\
        <li id='${fileID}' class='gallery-item gallery-item-big pure-u-1 SWFUploadFileItem uploadifive-queue-item'> \
            <input type='hidden' name='Ficheros[]' value=\"${fileID}\">\
            <input type='hidden' name='ficherosFileName[${fileID}]' value=\"${fileName}\">\
            <figure class=\"relative\">\
                <div class=\"websites-photo-delete-button\">" +
                    cambiarImagen + "\
                    <a class=\"websites-admin-button websites-admin-button-square m0\" href=\"javascript:va_plupload_galleryDeleteFile('${fileID}');\"><i class=\"fa fa-trash-o\"></i></a>\
                </div>\
                <div data-percent=\"0\" class=\"progressBar websites-uploader\">\
                    <span><small>" + 'Subiendo fichero' + "</small></span>\
                </div>\
                <img style=\"display:none;position:absolute;\" draggable=\"false\" id=\"${fileID}img\" src='" + globals.subdomain_cdn_img + "/assets/img/websites/bg_no_image.png'>\
            </figure>\
        </li>\
    ";
}

// Método específico para uploads de multiples imagenes (caso sección albums en website)
function va_plupload_getItemTemplateMulti(columns)
{
    return "\
        <li id='${fileID}' class='gallery-item pure-u-1 pure-u-1-" + columns + " SWFUploadFileItem uploadifive-queue-item'> \
            <input type='hidden' name='Ficheros[]' value=\"${fileID}\">\
            <input type='hidden' name='ficherosFileName[${fileID}]' value=\"${fileName}\">\
            <figure class=\"relative\">\
                <div class=\"websites-photo-delete-button\">\
                    <span class=\"websites-admin-button websites-admin-button-square websites-admin-button-move app-sortable-button-gallery\"><i class=\"fa fa-arrows\"></i></span>\
                    <a class=\"websites-admin-button websites-admin-button-square m0\" href=\"javascript:va_plupload_galleryDeleteFile('${fileID}');\"><i class=\"m0 fa fa-trash-o\"></i></a>\
                </div>\
                <div data-percent=\"0\" class=\"progressBar websites-uploader\">\
                    <span><small>" + 'Subiendo fichero' + "</small></span>\
                </div>\
                <img style=\"display:none;position:absolute;\" draggable=\"false\" id=\"${fileID}img\" src='" + globals.subdomain_cdn_img + "/assets/img/websites/bg_no_image.png'>\
            </figure>\
        </li>\
    ";
}

function va_plupload_getItemTemplateGrid () {
    return '\
        <li id="${fileID}" class="galleryFlex__item SWFUploadFileItem uploadifive-queue-item">\
            <input type="hidden" name="Ficheros[]" value="${fileID}">\
            <input type="hidden" name="ficherosFileName[${fileID}]" value="${fileName}">\
            <div data-percent="0" class="progressBar websites-uploader">\
                <span><small>' + 'Subiendo fichero' + '</small></span>\
            </div>\
            <img class="galleryFlex__img" style="display:none;" draggable="false" id="${fileID}img" src="' + globals.subdomain_cdn_img + '/assets/img/websites/bg_no_image.png">\
            <p class="galleryFlex__actions">\
                <span class="websites-admin-button websites-admin-button-square websites-admin-button-move app-sortable-button-gallery"><i class="fa fa-arrows"></i></span>\
                <a class="websites-admin-button websites-admin-button-square" href="javascript:va_plupload_galleryDeleteFile(\'${fileID}\');"><i class="fa fa-trash-o"></i></a>\
            </p>\
        </li>\
    ';
}

function va_plupload_galeryAddImage(fileInfo, containerId)
{
    containerId = containerId ||'app-common-upload-drop-element';
    var str;

    if (fileInfo.columns === 'grid') {
        str = va_plupload_getItemTemplateGrid();
    } else if (fileInfo.multiUpload) {
        str = va_plupload_getItemTemplateMulti(fileInfo.columns);
    } else {
        str = va_plupload_getItemTemplate(fileInfo.columns);
    }

    if (fileInfo.fileID == null) {
        fileInfo.fileID = _uploadLastFileId++;
    }

    for (var key in fileInfo) {
        var re = new RegExp("\\$\\{"+key+"\\}","g","g");
        str = str.replace(re, fileInfo[key]);
    }
    var item = $(str);
    var isNew = fileInfo.isNew != null && fileInfo.isNew != false;


    var $container = $('#' + containerId);

    $container.find("#imageList").append(item);
    if (!isNew) {
        item.append("\
            <input type='hidden' name='OldFicheros[]' value='" + fileInfo.fileID + "'>\
            <input type='hidden' name='ficherosFileName["+fileInfo.fileID+"]' value='"+fileInfo.fileName+"'>"
        );
        item.find(".progressBar").hide();
        $container.find("#"+fileInfo.fileID+" img").attr('src',fileInfo.urlImg).show();
    }

    if (fileInfo.crop) {
        $container.find("#app-upload-browse").attr("id", "");
        $container.find("a").attr("href", "javascript:void(0);");
        $container.find("i.fa.fa-trash-o").closest("a").remove();
    }

    return fileInfo.fileID;
}

function va_plupload_galleryDeleteFile(id, isHeader, isFooter)
{
    isHeader = isHeader == 1 ? 1 : 0;
    isFooter = isFooter == 1 ? 1 : 0;

    $("#"+id).fadeOut(function(){
        $(this).remove();
        var $dropElement = $("#app-common-upload-drop-element");
        if (isHeader) {
            $dropElement = $("#app-header-upload-drop-element");
        } else if (isFooter) {
            $dropElement = $("#app-footer-upload-drop-element");
        }
        $dropElement.attr("style", "position: relative; left: 0");
        $dropElement.show();
    });
}

/**
 * Método que inicializa el uploader de website
 *
 * @param columns
 * @param multiUpload Indica si permitimos la subida de multiples imagenes o solo una única imagen.
 * @param customOptions Overload de opciones
 *
 * @returns {plupload.Uploader}
 */
function va_plupload_initGalleryUploader(columns, multiUpload, customOptions) {
    customOptions = customOptions || {};
    multiUpload = typeof multiUpload !== "undefined" ? multiUpload : true;
    var isMultiSelect = multiUpload;
    var dropElementId = customOptions.drop_element || 'app-common-upload-drop-element';
    // Si es multifoto el botton de subir foto es pickfiles, sino es la region imageList
    var browseButton = "pickfiles";
    if (!multiUpload) {
        browseButton = customOptions.browse_button || "app-fake-browser-button";
        if (isIE()) {
            browseButton = dropElementId;
        }
    }

    var runtimes = 'html5, html4, flash';

    var defaultOptions = {
        runtimes : runtimes,
        browse_button : browseButton,
        container: 'app-common-upload-container',
        drop_element : 'app-common-upload-drop-element',
        max_file_size : '20mb',
        url : '/uploaders/upload-Wedsite.php',
        multi_selection : isMultiSelect,
        file_data_name : 'Filedata',
        multipart_params : {
            'swfWatermark' : '1'
        },
        flash_swf_url : '/assets/js/lib/plupload/plupload.flash.swf',
        filters : [
            {title : "Image files", extensions : "jpg,jpeg,gif,png"}
        ]
    };

    var finalOptions = $.extend({}, defaultOptions, customOptions);
    var uploader = new plupload.Uploader(finalOptions);
    // Si no es multiupload, bindamos el click en la zona de drag para que haga petición al boton fake de subir foto.
    // Usamos un boton fake de subir foto para poder poner el boton de borrar foto
    if (!multiUpload) {
        $(document.body).off("click", '#' + finalOptions.drop_element);
        $(document.body).on("click", '#' + finalOptions.drop_element, function (e) {
            e.preventDefault();
            e.stopPropagation();

            $('#' + finalOptions.container).find('#' + finalOptions.browse_button).trigger("click", e);
        });

        $(document.body).off("click", "#" + finalOptions.container + " #app-upload-browse");
        $(document.body).on("click", "#" + finalOptions.container + " #app-upload-browse", function (e) {
            e.preventDefault();
            e.stopPropagation();
            $('#' + finalOptions.container).find("#" + finalOptions.browse_button).trigger("click", e);
        });
    }


    uploader.bind('Init', function(up, params) {
        if (params.runtime == 'flash') {
            up.settings.multipart_params.myid = GetCookie("PHPSESSID");
        }
        if (uploader.features.dragdrop) {
            function getById(id) {
                return document.getElementById(id);
            }

            var target = getById(finalOptions.container);
            target.ondragenter = function() {
                this.classList.add('hover');
            };

            target.ondragleave = function() {
                this.classList.remove('hover');
            };

            target.ondrop = function() {
                this.classList.remove('hover');
            };
        }
    });

    uploader.init();

    uploader.bind('FilesAdded', function(up, files) {

        // Cargamos spinner
        website_add_loader($('.app-website-save-page'));

        // Si no es multiupload, borramos si ya tiene una subida
        if (!multiUpload) {
            $('#' + finalOptions.container)
                .find("#imageList")
                    .find('li')
                    .remove();
        }

        for (var i in files) {
            var file = files[i];

            var data = {
                fileName: file.name,
                isNew: true,
                columns: columns,
                multiUpload: multiUpload
            };

            if (multiUpload) {
                file.myId = va_plupload_galeryAddImage(data, finalOptions.drop_element);
            } else {
                file.myId = va_plupload_galeryAddImage(data, finalOptions.container);
            }

            // Si no es multiupload, solo añadimos una
            if (!multiUpload && !customOptions.avoidHide) {
                $("#" + finalOptions.drop_element).hide();
                break;
            }
        }
        _isFirst = true;
        common_applyIcheck();
        uploader.start();
    });

    uploader.bind('UploadProgress', function(up, file) {
        var $container = $('#' + (multiUpload === true  ? finalOptions.drop_element : finalOptions.container));
        // Si no es multiupload, al empezar a subir la foto ocultamos la zona de drag & drop
        if (!multiUpload) {
            if (isIE()) {
                $container.attr("style", "position: absolute; left: -9999px");
            } else {
                //$container.hide();
            }
        }

        $container.find('#' + file.myId + ' .websites-uploader').attr("data-percent", file.percent);
        $container.find('#' + file.myId + ' .websites-uploader span').html(file.percent + "%");

        if(customOptions.UploadProgress) {
            customOptions.UploadProgress();
        }
    });

    uploader.bind('FileUploaded', function(up, file, response) {

        if (response.status == null || response.status == 200) {
            var res = $.parseJSON(response.response);
            if (res.errCode == 0) {
                var $container = $('#' + (multiUpload === true ? finalOptions.drop_element : finalOptions.container));

                $container.find('input[name="ficherosFileName['+file.myId+']"]').val(res.params.fileName);

                $container.find('#' + file.myId + ' img').attr('src', res.params.urlFoto).show();
                $container.find('input[name="ficherosFileName['+file.myId+']"]').val(res.params.fileName);
                $container.find('#' + file.myId + ' .progressBar').hide();

                if(customOptions.onFileUploaded) {
                    customOptions.onFileUploaded(file, { urlFoto: res.params.urlFoto, idFoto: res.params.fileName, urlThumb: res.params.urlThumb, isWhiteMostPredominantColor: res.params.isWhiteMostPredominantColor});
                }

            } else {
                var $container = $('#' + finalOptions.drop_element);
                alert(res.messages.global);
                $container.find("#" + file.myId).remove();

                // Si no es multiupload y la fallida es fallida volmenos a mostrar la zona de drag & drop
                if (!multiUpload) {
                    $container.show();
                }
            }
        }
    });

    uploader.bind('UploadComplete', function() {

        // Detenemos spinner
        website_remove_loader($('.app-website-save-page'));
    });

    uploader.bind('Error', function(up, err) {
        website_error_toast(null, 'No se pueden cargar archivos superiores a 20MB.');
    });

    return uploader;
}
function website_getTrackingTypes(){return{type_share_facebook:1,type_share_mail:2,type_share_whatsapp:3,type_share_twitter:4}}function website_show_guest(e,t){if(t)$(e).closest(".app-website-guests").find(".app-website-wlist-secondBuyer").show(),$(e).parent().hide(),$(".app-website-lista-payment-form #check-comprador2").val(1);else $(e).closest(".app-website-guests").find(".app-website-wlist-secondBuyer").hide(),$(e).closest(".app-website-guests").find(".small, .app-website-lista-payment-add-guest").show(),$(".app-website-lista-payment-form #check-comprador2").val(0)}function website_lista_get_current_page(){var e=$(".pagination");if(0<e.length)return parseInt(e.find(".pagination__page").html());else return 1}function website_lista_add_product(e,t,a,o){return website_add_loader($(o)),$.post("/website/website-AjaxAddProductRun.php",{idProductoUser:e,cantidad:t},function(){website_lista_update_num_products(!0),website_lista_load_page(website_lista_get_current_page()),$.get("/website/website-AjaxShoppingCart.php?idUser="+a,{},function(e){$("#app-common-layer").html(e),website_lista_show_cart($(o))})}),!1}function website_lista_update_num_products(e){var t=$(".app-website-lista-num-products-added"),a=parseInt(t.html());if(e)t.html(++a),t.parent().removeAttr("disabled").contrastColor();else if(t.html(--a),0==a)common_closeLayer(),t.parent().attr("disabled",!0)}function get_website_lista_cart_amount(){var a=0;return $(".app-shopping-basket-table li").each(function(e,t){a+=parseFloat($(t).data("app-price"))}),a}function website_lista_del_product(e,t){website_lista_update_num_products(!1),$(e).closest("li").data("app-price",0).fadeOut(200);var a=get_website_lista_cart_amount();$(".app-shopping-basket-total").autoNumeric({aSep:".",aDec:",",aSign:"€",pSign:"s"}).autoNumeric("set",a),$.post("/website/website-AjaxDelProductRun.php",{idProductoUser:t},function(e){website_lista_load_page(website_lista_get_current_page()),website_lista_cart_check_canpay(a)})}function website_lista_cart_check_canpay(e){var t=$("#app-shopping-basket-cannotpay-alert"),a=$(".app-payment-button");if(globals.listas.applyCommission){var o=e*(globals.listas.commission/100);if((o=parseFloat(o.toFixed(2)))>globals.listas.minCommission)e+=o;else e+=globals.listas.minCommission}if(globals.listas.validContract||parseFloat(e.toFixed(2))<=globals.listas.lemonWayNoDocLimitByTransaction)t.slideUp("fast"),a.show();else t.slideDown("fast"),a.hide()}function website_lista_show_cart(e){website_remove_loader(e),$(".app-contrast-color").contrastColor(),website_lista_cart_check_canpay(get_website_lista_cart_amount()),$(".app-payment-button").one("click",function(){if("1"!=$(this).data("is-app"))website_add_loader($(this))})}function website_lista_load_cart(e,t){if(!$(t).attr("disabled"))website_add_loader($(t)),common_openLayer("/website/website-AjaxShoppingCart.php?idUser="+e,function(){$("#app-common-layer").addClass("websiteModal")},!1,function(){website_lista_show_cart($(t))})}function website_lista_load_page(e){var t=$(".app-website-render"),a=$("select[name=filterIdSubcategoria]"),o=$("select[name=filterPrecio]"),e=["fromPaginador=1","&idSeccion="+t.data("id"),"&NumPage="+e,"&idWebsite="+$("body").data("id-website")];if(a.length)e.push("&filterIdSubcategoria="+a.val());else{a=a.val();if(void 0!==a)e.push("&filterIdSubcategoria="+a)}if(o.length)e.push("&filterIdRango="+o.val());else{a=o.val();if(void 0!==a)e.push("&filterIdRango="+a)}t.load("/website/website-AjaxRenderListProducts.php?"+e.join(""),function(e){$(".app-contrast-color").contrastColor(),$("html, body").animate({scrollTop:$(".app-website-render").offset().top},400)})}function website_video_aspect_ratio(){var e=$(".app-aspect-ratio").children(),t=e.width(),t=Math.round(t/16*9+5);e.css("height",t+"px")}function website_showValidationErrors(e,t){if(alert(t.message),""!=t.name)$("[name='"+t.name+"']",e).focus()}function website_loginAskErrors(e,t){var a=t.name;if($('.app-message-error[data-error="'+a+'"]').html("<p>"+t.message+"</p>").show(),""!=a)$('[name="'+a+'"]',e).focus()}function website_height(e){var t=$(window).height()-$(document.body).find(".websites-footer").height();$(e).css("height",t)}function website_navigationFixedOnScroll(){var t=$(".app-website-navigation"),a=0;if(0<t.length)$(window).scroll(function(){var e=$(window).scrollTop();if(200<e)if(e<a)t.removeClass("websiteNavigation--scrolled");else t.addClass("websiteNavigation--scrolled");a=e})}function website_enableSliders(){var e=".rsDefault",t=".app-website-swiper";if(0<$(e).length)$(e).royalSlider({imageScaleMode:"fit",arrowsNavAutoHide:!1,sliderDrag:!1,controlNavigation:"none",autoScaleSlider:!0,autoScaleSliderHeight:400,loop:!1,imageScalePadding:0,slidesSpacing:0,autoHeight:!1});if(0<$(t).length)$(t).each(function(e,t){var a=$(t).clone(),t=$(this).data("large"),o=$(this).data("lazy"),i=$(this).data("section-id");new Swiper(this,{spaceBetween:10,preloadImages:!0,slidesPerView:t?1:"auto",touchEventsTarget:"wrapper",navigation:{nextEl:".app-website-swiper-next-"+i,prevEl:".app-website-swiper-prev-"+i},lazy:o?{loadPrevNext:!0}:!1,on:{click:function(e){website_openSliderFullscreen($(e.target).parents(".swiper-slide").index(),i,a,this),a.remove()}}})})}function website_loadSliderFullscreen(t){var a=t.index(),e=t.closest(".app-website-swiper-fullscreen-open");if(!t.hasClass("loading"))website_add_loader(t,!0),$.post(e.data("swiper-url"),{id:e.data("id-album"),idPage:e.data("id-page")},function(e){website_remove_loader(t,!0),website_openSliderFullscreen(a,0,$(e))}).fail(function(){website_remove_loader(t,!0),website_error_toast()})}function website_openSliderFullscreen(e,t,a,o){var i=".app-website-swiperfullscreen",s=($("body").addClass("websiteModalOpen").append('<div class="app-website-swiperfullscreen websitePhotoSlider__fullscreen"><i class="svgIcon svgIcon__close app-website-swiperfullscreen-close websitePhotoSlider__fullscreenClose"><svg viewBox="0 0 26 26"><path d="M12.983 10.862L23.405.439l2.122 2.122-10.423 10.422 10.423 10.422-2.122 2.122-10.422-10.423L2.561 25.527.439 23.405l10.423-10.422L.439 2.561 2.561.439l10.422 10.423z" fill-rule="nonzero"></path></svg></i></div>'),a.find("img[data-image-hd]"));if(s)src="1"==a.data("large")?"data-src":"src",s.each(function(e,t){$(t).attr(src,$(s[e]).data("image-hd")),$(t).attr(src,$(s[e]).data("image-hd"))});$(i).append(a.html());var n=new Swiper(i,{zoom:!0,spaceBetween:10,slidesPerView:1,initialSlide:e,centeredSlides:!0,centeredSlidesBounds:!0,navigation:{nextEl:".app-website-swiper-next-"+t,prevEl:".app-website-swiper-prev-"+t},preloadImages:!1,lazy:{loadPrevNext:!0},keyboard:{enabled:!0},on:{init:function(){$(i).addClass("show")}}});website_pushStateByParam("fullscreen"),$(document).keyup(function(e){if("Escape"===e.key)$(".app-website-swiperfullscreen-close").trigger("click")}),$(".app-website-swiperfullscreen-close").on("click",function(){website_removeSliderFullscreen(o,i,n)})}function website_removeSliderFullscreen(e,t,a){if($(document).off("keyup"),void 0!==e)e.slideTo(a.activeIndex,0);if($(t).addClass("hidden"),void 0!==$(t)[0])$(t)[0].swiper.destroy();$(t).remove(),$("body").removeClass("websiteModalOpen"),website_popStateByParam("fullscreen")}function website_wedshootsPresentationOpen(t){var a="block"==t.data("target"),o=t.data("photo-id");if(!t.hasClass("loading"))website_add_loader(t,!a,1),$.post("/website/wedshoots/presentation",{idWedshoots:t.data("wedshoots-id")},function(e){website_remove_loader(t,!a,1),website_wedshootsPresentationInit(o,e)}).fail(function(){website_remove_loader(t,!a,1),website_error_toast()})}function website_wedshootsPresentationInit(a,e){$("body").addClass("websiteModalOpen").append(e);var t=".app-website-wedshoots-presentation",e=$(".app-website-wedshoots-presentation").data("wedshootsid"),o=new Swiper(".app-website-wedshoots-presentation-thumbs",{spaceBetween:10,slidesPerView:3,slideToClickedSlide:!0,centeredSlides:!0,centeredSlidesBounds:!0,mousewheel:{sensitivity:!0},virtual:{slides:function(){var e=[];if(void 0===a){preloadThumbs=$(".app-website-wedshoots-presentation-thumbs-preloadThumbs").data("urlthumbs");for(var t=0;t<preloadThumbs.length;t++)e.push(website_wedshootsPresentation_ThumbRender(preloadThumbs[t].url,preloadThumbs[t].id))}return e}()},breakpoints:{320:{slidesPerView:3},640:{slidesPerView:6},1024:{slidesPerView:12},1800:{slidesPerView:18}}}),i=new Swiper(".app-website-wedshoots-presentation-top",{zoom:!0,spaceBetween:10,slidesPerView:1,centeredSlides:!0,centeredSlidesBounds:!0,navigation:{nextEl:".app-website-presentation-next",prevEl:".app-website-presentation-prev"},effect:"fade",fadeEffect:{crossFade:!0},preloadImages:!1,lazy:{loadPrevNext:!0},keyboard:{enabled:!0},virtual:{slides:function(){var e=[];if(void 0===a){preloadThumbs=$(".app-website-wedshoots-presentation-thumbs-preload").data("urlthumbs");for(var e=[],t=0;t<preloadThumbs.length;t++)e.push(website_wedshootsPresentation_slideRender(preloadThumbs[t].url,preloadThumbs[t].id))}return e}()},on:{init:function(){$(t).addClass("show")}},thumbs:{swiper:o}});if(o.on("reachEnd",function(){var e=$(".app-website-wedshoots-presentation").data("wedshootsid"),t=$(".app-website-wedshoots-presentation").data("wedshootspage");website_wedshootsPresentation_Ajax(o,i,e,t)}),a)website_wedshootsPresentation_AjaxPhoto(o,i,e,a);website_wedshootsHidePlayer(null),website_pushStateByParam("presentation"),$(t).on("click",".app-website-presentation-play",function(){i.autoplay.start(),$(t).addClass("autoplaying")}),$(t).on("click",".app-website-presentation-pause",function(){i.autoplay.stop(),$(t).removeClass("autoplaying")}),$(t).on("click",".app-website-presentation-close",function(){website_wedshootsPresentationDestroy(o,i,null)}),$(document).keyup(function(e){if("Escape"===e.key)website_wedshootsPresentationDestroy(o,i,null),$(document).off("keyup")})}function website_wedshootsPresentation_getCurrentPage(e,t){e=$(".app-website-wedshoots-presentation").data("wedshootsId");$.ajax({type:"GET",async:!1,url:"web/wedshoots/section/"+e+"/slider/photo/"+t,dataType:"json",complete:function(e){return response=$.parseJSON(e),page}})}function website_wedshootsPresentation_AjaxPhoto(t,a,e,o){$.ajax({type:"GET",async:!1,url:"/web/wedshoots/section/"+e+"/slider/photo/"+o,success:function(e){website_wedshootsPresentation_AddVirtualSlides(t,a,e),$(".app-website-wedshoots-presentation").data("wedshootspage",e.page)}})}function website_wedshootsPresentation_Ajax(t,a,e,o){nextPage=++o,$.ajax({type:"GET",async:!1,url:"/web/wedshoots/section/"+e+"/slider/"+nextPage,success:function(e){website_wedshootsPresentation_AddVirtualSlides(t,a,e),$(".app-website-wedshoots-presentation").data("wedshootspage",e.page)}})}function website_wedshootsPresentation_AddVirtualSlides(e,t,a){for(var o=0;o<a.photos.length;o++)t.virtual.appendSlide(website_wedshootsPresentation_slideRender(a.photos[o].urlExtraBig,a.photos[o].photoId)),e.virtual.appendSlide(website_wedshootsPresentation_ThumbRender(a.photos[o].urlSmall,a.photos[o].photoId));var i=a.itemKey?a.itemKey:0;if(a.itemKey)t.slideTo(i,0);e.slideTo(i,0)}function website_wedshootsPresentation_slideRender(e,t){return'<div class="swiper-zoom-container"><img src="'+e+'" data-id="'+t+'" /></div>'}function website_wedshootsPresentation_ThumbRender(e,t){return'<img src="'+e+'" data-id="'+t+'" />'}function website_wedshootsHidePlayer(e){var t=1;setInterval(function(){if(5==t&&0==$(".app-website-presentation-player:hover").length)$(".app-website-presentation-player").removeClass("show"),t=1;t+=1},1e3),$(document).bind("mousemove keypress",function(){$(".app-website-presentation-player").addClass("show"),t=1})}function website_wedshootsPresentationDestroy(e,t,a){website_popStateByParam("presentation"),e.destroy(),t.destroy(),$(".app-website-wedshoots-presentation").remove(),clearInterval(a),$("body").removeClass("websiteModalOpen")}function website_wedshootsCodeAccess(t){var a=t.find(".app-website-wedshoots-code-access-submit");if(!a.hasClass("isloading"))$.ajax({url:"/website/website-AjaxWedshootsAccescodeRun.php",data:t.serialize(),method:"POST",beforeSend:function(){website_add_loader(a,null,!a.hasClass("light-color"))}}).done(function(e){if(0==e.errCode)document.location.reload(!0);else website_remove_loader(a,null,!a.hasClass("light-color")),website_error_inline(t,e)}).fail(function(){website_error_toast(a)})}function website_wedshootsCodeRequestLoad(e){var e=e.data("url"),t=$(".app-website-wedshoots-code-request-container");if(""==t.html())$.ajax({url:e}).done(function(e){t.html(e).find(".app-website-wedshoots-code-request-submit").contrastColor(),website_init_recaptcha(t)}).fail(function(){website_error_toast()})}function website_wedshootsCodeRequest(a){var o=a.find(".app-website-wedshoots-code-request-submit"),i=(a.find("*[name='recaptcha']"),a.find("*[name='captchaId']")),s=$(".app-website-wedshoots-code-request-load");if(!o.hasClass("isloading"))$.ajax({url:"/website/website-AjaxLoginRequestAccessRun.php",data:a.serialize(),method:"POST",beforeSend:function(){website_add_loader(o,null,!o.hasClass("light-color"))}}).done(function(e){if(0==e.errCode){a.trigger("reset"),website_legal_remove(),website_success_toast(o,'Se lo hemos comunicado a los novios');var t=a.find(".app-recaptcha");if(null!=t)website_comment_reset_captcha(t,i.val());s.trigger("click")}else website_remove_loader(o,null,!o.hasClass("light-color")),website_error_inline(a,e,t)}).fail(function(){website_error_toast(o)})}function website_wedshootsLogin(a){var o=a.find(".app-website-wedshoots-login-submit"),e=$("input[name='mail']",a).val().trim(),t=$("input[name='password']",a).val().trim();if(!o.hasClass("isloading"))$.ajax({url:"/com-SimpleLoginRun.php",data:{email:e,password:t,doAuth:"1"},method:"POST",beforeSend:function(){website_add_loader(o,null,!o.hasClass("light-color"))}}).done(function(e){var t={name:"msgError",errCode:2};switch(e){case"0":document.location.reload(!0);break;case"1":case"2":t.message='La dirección de correo o la contraseña son incorrectas.'+" "+'Vuelve a introducir tus datos.',website_remove_loader(o,null,!o.hasClass("light-color")),website_error_inline(a,t);break;case"15":t.message=_s('Has sobrepasado el número de intentos de acceso, debes esperar %s minutos para volver a intentarlo.',5),website_remove_loader(o,null,!o.hasClass("light-color")),website_error_inline(a,t)}}).fail(function(){website_remove_loader(o),website_error_toast(o)})}function website_selectText(e){$("#"+e).select().focus()}function website_pushStateByParam(e){var t="?"+e+"=1",e="&"+e+"=1",a="",o=navigator.userAgent.match(/Trident.*rv\:11\./);if(!isIE()&&!o){if(0<document.location.href.indexOf(t))a=document.location.href.replace(t,"")+t;else{o=document.location.href.split("#")[0];if(0==new URL(o).search.length)a=o.replace(e,"")+t;else a=o.replace(e,"")+e}""==a||History.pushState({state:1},null,a)}}function website_popStateByParam(e){var t="?"+e+"=1",e="&"+e+"=1",a=navigator.userAgent.match(/Trident.*rv\:11\./);if(!isIE()&&!a)if(0<document.location.href.indexOf(t))History.pushState({state:1},null,document.location.href.replace(t,""));else if(0<document.location.href.indexOf(e))History.pushState({state:1},null,document.location.href.replace(e,""))}function website_admin_openShareWebSiteLayer(){$("#app-website-layer").load("/website/website-ShareWebsiteLayer.php",function(){$("#app-website-layer").modal("show"),website_selectText("app-share")})}function website_copy(a){new ClipboardJS(a).on("success",function(e){var t=$(".app-copy-url-tooltip");t.addClass("active").html('¡Texto copiado!'),$(a).on("mouseleave",function(){t.removeClass("active").html('Clic para copiar')})})}function website_requestPassAlbum(e){common_openLayer(e)}function website_handleRespondComment(e){if(e=e||{},-1!==window.location.hash.indexOf("respond")){var t=$(e.formSelector);if($("html, body").scrollTop(t.offset().top),e.focusMain)t.find('[name="'+e.mainFieldName+'"]').focus();else t.find('[name="'+e.loginFieldName+'"]').focus()}}function website_loginLayer(){var e=$("#app-website-layer");e.modal("show"),e.load("/website/website-AjaxBienvenidaForm.php",function(){e.modal("show")})}function website_ensureLoggedAction(t){return $.get("/website/website-AjaxCheckWebsiteUserLogged.php",{idWebsite:$(document.body).data("id-website")}).done(function(e){if(e.result)t();else window.onWebsiteLoginAction=t||function(){},website_loginLayer()})}function website_shareFacebook(a,o,i,s,e){if(e){e="https://www.facebook.com/sharer/sharer.php?"+$.param({u:a,t:o});if(s)website_tracking(s);mobile_appusers_socialShare({type:"FACEBOOK",text:o,url:a,fallbackURL:e})}else fb_init(function(){FB.getLoginStatus(function(e){var t={method:"feed",link:a,caption:o};if(i)t.picture=i;FB.ui(t,function(e){if(s)website_tracking(s)})})})}function website_tracking(e){return $.post("/website/website-Tracking.php",e)}function website_add_event_tracking(e){var t=$(e).data("track-c"),a=$(e).data("track-a"),o=$(e).data("track-l"),i=$(e).data("track-v"),e=$(e).data("track-ni");ga_trackEventAll(t,a,o,i,e)}function website_tracking_login(e){if(void 0!==e)ga_trackEventAll(e.category,e.action,e.label,e.value,!1)}function website_verifyPayment(){function t(e,t){if($("#app-icon-spin").remove(),e)$("#app-icon-ok").show();else $("#app-icon-ko").show();$("#app-payment-message").html(t),$("#app-payment-close-btn").show()}$.ajax({url:"/website/website-AjaxVerifyPayment.php",type:"POST",dataType:"json",beforeSend:function(){$(".app-payment-checking").modal(),website_lista_load_page(website_lista_get_current_page())},success:function(e){t(e.status,e.message)},error:function(e){t(!1,"Unknow Error")}})}function website_legal_check(e){var t=e.find("*[name='termscheck']"),a=e.find($(".app-website-legal"));if(e.on("change",t,function(){website_remove_error_validation(e)}),0<t.length&&!t.prop("checked"))return common_inputAlertwithMessageForAnimated(t,a.data("msgerror")||'Debes aceptar las condiciones de uso y la política de privacidad.'),!1}function website_legal_remove(){var e=$(".app-website-legal");0<e.length&&e.slideUp("fast")}function website_checkValidator(e){var t=e.find($(".app-check-legal-terms"));if(0<t.length&&!t.prop("checked")){var a=e.find(".app-check-legal-terms-msg");return a.html('Debes aceptar las condiciones de uso y la política de privacidad.').slideDown(),t.on("ifChanged",function(){if($(this).prop("checked"))a.slideUp()}),!1}}function website_shareable_submit(){$("#app-website-layer").modal("hide"),ga_trackEventAll("Accommodations","Clicks to continue on alert","Wedding Website",0,!1),ga_trackEventAll("Accommodations","Searches new SR location","Wedding Website",0,!1),website_search_accommodations()}function website_search_accommodations(){var t=$(".app-shareable-rates-hotels"),e=$("body").data("id-page");t.addClass("loading").append('<span class="isloading isloading--center isloading--overlay"></span>'),$.post("/website/admin/shareableRatesAjax",{city:$(".app-shareable-city").val(),idPage:e},function(e){t.removeClass("loading").html(e),$(".app-website-shareable-loader").remove(),website_update_accommodations_profile($("#app-hotelplanner-datafile").val())}).fail(function(){ga_trackEventAll("Accommodations","SR connection error","Wedding Website",0,!1)})}function website_update_accommodations_profile(i){$(".app-hotelblocks-img").each(function(e,t){var a=$(t).data("id"),o=$("body").data("id-page");$.get(i.replace("[HOTEL_ID]",a)).done(function(e){if((e=$.parseJSON(e)).photos&&e.photos[0])$(t).attr("src",e.photos[0].srcLarge).on("error",function(){$(t).attr("src",globals.subdomain_cdn_img+"/assets/img/websites/gen_hotelblocks_generic.jpg")}),$.post("/website/admin/shareableRatesUpdateImageAjax",{hotelId:a,idPage:o,image:e.photos[0].srcLarge},function(e){})})})}function website_accommodations_image_error(e){$(e).attr("src",globals.subdomain_cdn_img+"/assets/img/websites/gen_hotelblocks_generic.jpg")}function website_render_hamburger(){var e="US"==globals.Request_Country?"lg":"";if($("#menutoggle").length<=0){var t=$("body").data("hasLegacyDesign")?"header-bg":"secondary-nav-bg";$("#app-nav-mobile-pointer").prepend('<a id="menutoggle" class="app-contrast-color light-color app-nav-mobile nav-mobile '+e+'" data-color="'+t+'" aria-hidden="true"><span></span><span></span><span></span><span></span></a>').contrastColor()}}function website_hideLegalCheckboxes(){$(".app-website-form-gdpr-required").find(".formConditions").slideUp()}function website_add_loader(e,t,a){if(null!=e&&""!=e){a=a?"isloading isloading--overlay":"isloading isloading--white isloading--overlay";$("body").data("loading","loading"),t?e.addClass("loading").append('<span class="isloading isloading--center isloading--overlay"></span>'):e.addClass(a)}}function website_remove_loader(e,t,a){if(null!=e&&""!=e){a=a?"isloading isloading--overlay":"isloading isloading--white isloading--overlay";$("body").data("loading",""),t?e.removeClass("loading").find(".isloading").remove():e.removeClass(a)}}function website_has_loader(){return"loading"==$("body").data("loading")}function website_error_inline(e,t,a){var o=e.find("*[name="+t.name+"]"),i=t.message;if(1==t.errCode){if(null!=a)website_comment_reset_captcha(a);common_inputAlertwithMessageForAnimated(o,i),$(document.body).animate({scrollTop:o.offset().top},300)}else if(2==t.errCode)common_inputAlertwithMessageForAnimated(o,i),$(document.body).animate({scrollTop:o.offset().top},300);else if(3==t.errCode){if(!1===website_legal_check(e))return!1}else if(4==t.errCode)website_comment_reset_captcha(null,t.name),common_inputAlertwithMessageForAnimated(o,i),$(document.body).animate({scrollTop:o.offset().top},300)}function website_error_toast(e,t){null==t&&(t='Error'),website_remove_loader(e),Toastada.deleteAll(),Toastada.error(t).show(),$(".toast-container").removeClass("out"),setTimeout(function(){$(".toast-container").addClass("out")},2e3)}function website_registry_make_it_visible(){var t=$(this);$.post("/wedding-registry/manage/update",{active:!0},function(e){if(e.active){e=t.data("href");if(void 0===e)e=window.location.href;SetCookieTime("PACK_REGISTRY_ACTIVE",1,1),window.location.replace(e)}})}function website_success_toast(e,t){null==t&&(t=''),website_remove_loader(e),Toastada.deleteAll(),Toastada.success(t).show(),$(".toast-container").removeClass("out"),setTimeout(function(){$(".toast-container").addClass("out")},4e3)}function website_contact_send(t){var a=t.closest(".app-website-contact-form"),o=a.find("*[name='recaptcha']"),i=a.find("*[name='captchaId']");if(!t.hasClass("isloading"))$.ajax({url:a.attr("action"),data:a.serialize(),method:"POST",beforeSend:function(){website_add_loader(t,null,!t.hasClass("light-color"))}}).done(function(e){if(website_remove_loader(t,null,!t.hasClass("light-color")),0==e.errCode)website_success_toast("",'Tu mensaje ha sido enviado con éxito.'),website_legal_remove(),website_comment_reset_captcha(o,i.val()),a.trigger("reset");else website_error_inline(a,e,o)}).fail(function(){website_error_toast(t)})}function website_rsvp_search(a){var o=a.closest(".app-website-rsvp-search-form"),i=$(".app-website-rsvp-guests");if(!a.hasClass("isloading"))$.ajax({url:"/website/website-AjaxRsvpRun.php",data:o.serialize(),method:"POST",beforeSend:function(){website_add_loader(a,null,!a.hasClass("light-color")),o.find("*[name='validationMsgs']").html(""),i.html("")}}).done(function(e){if(website_remove_loader(a,null,!a.hasClass("light-color")),0==e.errCode){if(0<e.nContacts)o.hide();i.html(e.html).fadeIn().find(".app-contrast-color").contrastColor()}else if(1==e.errCode){var t=$(".app-website-rsvp-guests-error");t.append(e.message),t.removeClass("dnone")}else website_error_toast(a)}).fail(function(){website_error_toast(a)})}function website_rsvp_search_remove_error_message(e){if(!e)return!0;e.addClass("dnone"),e.html("")}function website_rsvp_reset(e){var e=e.closest(".app-website-rsvp-guests-form"),t=$(".app-website-rsvp-search-form"),a=$(".app-textfield-validate"),o=$(".app-website-rsvp-success");e.remove(),t.trigger("reset").fadeIn(),a.empty(),o.hide(),$(".app-website-rsvp-guests").html(""),$(".app-website-rsvp-events").html("")}function website_rsvp_remove_input_text_error(e){if(!e)return!0;e.addClass("dnone"),e.html("")}function website_rsvp_reset_select_guest(){var e=$(".app-textfield-validate");if(!e)return!0;e.addClass("dnone"),e.empty()}function website_rsvp_guests(a){var o=a.closest(".app-website-rsvp-guests-form"),i=$(".app-website-rsvp-events"),e=o.find("*[name='contact']:checked").val();if(!a.hasClass("isloading"))$.ajax({url:"/website/website-AjaxRsvpLayer.php",data:{idContacto:e},method:"POST",beforeSend:function(){website_rsvp_reset_select_guest(),website_add_loader(a,null,!a.hasClass("light-color"))}}).done(function(e){if(website_remove_loader(a,null,!a.hasClass("light-color")),0==e.errCode)o.hide(),i.html(e.html).fadeIn().find(".app-contrast-color").contrastColor();else if(1==e.errCode){var t=$(".app-textfield-validate");t.append(e.message),t.removeClass("dnone")}else website_error_toast(a)}).fail(function(){website_error_toast(a)})}function website_rsvp_events(t){var a=t.closest(".app-website-rsvp-events-form"),o=$(".app-website-rsvp-events"),i=$(".app-website-rsvp-success");if(!t.hasClass("isloading"))$.ajax({url:"/website/website-AjaxRsvpLayerRun.php",data:a.serialize(),method:"POST",beforeSend:function(){website_add_loader(t,null,!t.hasClass("light-color"))}}).done(function(e){if(website_remove_loader(t,null,!t.hasClass("light-color")),0==e.errCode)website_remove_loader(t),a.remove(),o.html(""),i.show();else website_error_toast(t)}).fail(function(){website_error_toast(t)})}function website_poll_send(t){var a=t.find(".app-website-poll-send"),o={answers:{},pageId:t.data("page-id"),nombre:t.find("input[name=nombre]").val(),apellidos:t.find("input[name=apellidos]").val(),mail:t.find("input[name=mail]").val(),check:t.find("input[name=termscheck]").prop("checked")},e=(t.find(".app-website-render").each(function(){var e=$(this),t=e.find(":input");o.answers[e.data("id")]=t.index(t.filter(":checked"))+1}),t[0].action);if(!a.hasClass("isloading"))$.ajax({url:e,data:o,method:"POST",type:"JSON",beforeSend:function(){website_add_loader(a,null,!a.hasClass("light-color"))}}).done(function(e){if(0==e.errCode)website_success_toast(a,'Acción completada con éxito'),website_legal_remove(),window.location.reload();else if(2==e.errCode)website_error_inline(t,e),website_remove_loader(a,null,!a.hasClass("light-color"));else if(3==e.errCode){if(website_remove_loader(a,null,!a.hasClass("light-color")),!1===website_legal_check(t))return!1}else website_error_toast(a)}).fail(function(){website_error_toast(a)})}function website_comment_new(e,t){e=e.find(".app-website-comment-container"),t="new"===t?e.find("form"):e;e.show(),$("body, html").animate({scrollTop:t.offset().top-250})}function website_remove_error_validation(e){e.removeClass("textfield--error").find(".textfield__hint").remove()}function website_comment_send(a){var o=a.closest(".app-website-comment-form"),i=o.parents(".app-website-comment").find(".app-website-comment-wrapper"),s=o.parents(".app-website-comment").find(".app-website-comment-count"),n=o.find("*[name='recaptcha']"),r=o.find("*[name='captchaId']");if(!a.hasClass("isloading"))$.ajax({url:o.attr("action"),data:o.serialize(),method:"POST",beforeSend:function(){website_add_loader(a,null,!a.hasClass("light-color"))}}).done(function(e){if(website_remove_loader(a,null,!a.hasClass("light-color")),0==e.errCode){website_success_toast("",'Gracias por tu comentario.'),website_comment_reset_captcha(n,r.val()),website_legal_remove(),o.trigger("reset"),s.html(parseInt(s.html())+1),i.append(e.html),i.hasClass("dnone")&&i.removeClass("dnone");var t=i.children().last();t.addClass("new"),$("body, html").animate({scrollTop:t.offset().top-250},function(){setTimeout(function(){t.removeClass("new")},1e3)})}else website_error_inline(o,e,n)}).fail(function(){website_error_toast(a)})}function website_comment_reset_captcha(e,t){if(null!=t&&0<t.length)$("#"+t).attr("src","/captcha/captcha.php?"+Math.random()+"&background=255,255,255&color=34,34,34"),$("*[name="+t+"]").val("").blur();else if(window.grecaptcha)window.grecaptcha.reset(e.find(".app-recaptcha").data("widgetId")),website_remove_error_validation(e)}function website_comment_delete(e){var t=e.parents(".app-website-comment-wrapper"),a=e.parents(".app-website-comment-item"),o=e.parents(".app-website-comment").find(".app-website-comment-count"),i=confirm('¿Seguro que quieres borrar el comentario?');if(!e.hasClass("loading"))if(i)website_add_loader(e,1,1),$.ajax({url:e.data("comment-delete-url"),data:{idComentario:e.data("comment-id")},method:"POST"}).done(function(e){if(0==e.errCode)a.slideUp(function(){$(this).remove(),o.html(parseInt(o.html())-1),0==t.find(".app-website-comment-item").length&&t.addClass("dnone")});else website_error_toast(null,e.message)}).fail(function(){website_error_toast()})}function website_init_recaptcha(e){onloadCallback(function(){if(window.grecaptcha&&e.length)e.find(".app-recaptcha").each(function(){widgetId=renderCaptchaById($(this).attr("id")),$(this).data("widgetId",widgetId)})})}"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var a,o,i,s,n,r=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),typeof(l="function"==typeof rep?rep.call(t,e,l):l)){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,n=[],"[object Array]"===Object.prototype.toString.apply(l)){for(s=l.length,a=0;a<s;a+=1)n[a]=str(a,l)||"null";i=0===n.length?"[]":gap?"[\n"+gap+n.join(",\n"+gap)+"\n"+r+"]":"["+n.join(",")+"]",gap=r}else{if(rep&&"object"==typeof rep)for(s=rep.length,a=0;a<s;a+=1)"string"==typeof rep[a]&&((i=str(o=rep[a],l))&&n.push(quote(o)+(gap?": ":":")+i));else for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i=str(o,l),i&&n.push(quote(o)+(gap?": ":":")+i));i=0===n.length?"{}":gap?"{\n"+gap+n.join(",\n"+gap)+"\n"+r+"}":"{"+n.join(",")+"}",gap=r}return i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,a){var o;if(indent=gap="","number"==typeof a)for(o=0;o<a;o+=1)indent+=" ";else"string"==typeof a&&(indent=a);if(!(rep=t)||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return str("",{"":e});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var a,o,i=e[t];if(i&&"object"==typeof i)for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o=walk(i,a),void 0!==o?i[a]=o:delete i[a]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e){"use strict";var t=e.History=e.History||{},o=e.jQuery;if(void 0!==t.Adapter)throw new Error("History.js Adapter has already been loaded...");t.Adapter={bind:function(e,t,a){o(e).bind(t,a)},trigger:function(e,t,a){o(e).trigger(t,a)},extractEventData:function(e,t,a){return t&&t.originalEvent&&t.originalEvent[e]||a&&a[e]||void 0},onDomLoad:function(e){o(e)}},void 0!==t.init&&t.init()}(window),function(r){"use strict";var e=r.document,t=r.setTimeout||t,a=r.clearTimeout||a,l=r.setInterval||l,d=r.History=r.History||{};if(void 0!==d.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");d.initHtml4=function(){if(void 0!==d.initHtml4.initialized)return!1;d.initHtml4.initialized=!0,d.enabled=!0,d.savedHashes=[],d.isLastHash=function(e){return e===d.getHashByIndex()},d.isHashEqual=function(e,t){return(e=encodeURIComponent(e).replace(/%25/g,"%"))===(t=encodeURIComponent(t).replace(/%25/g,"%"))},d.saveHash=function(e){return d.isLastHash(e)?!1:(d.savedHashes.push(e),!0)},d.getHashByIndex=function(e){var t=null;return void 0===e?t=d.savedHashes[d.savedHashes.length-1]:e<0?t=d.savedHashes[d.savedHashes.length+e]:t=d.savedHashes[e],t},d.discardedHashes={},d.discardedStates={},d.discardState=function(e,t,a){var o=d.getHashByState(e);return d.discardedStates[o]={discardedState:e,backState:a,forwardState:t},!0},d.discardHash=function(e,t,a){return d.discardedHashes[e]={discardedHash:e,backState:a,forwardState:t},!0},d.discardedState=function(e){e=d.getHashByState(e);return d.discardedStates[e]||!1},d.discardedHash=function(e){return d.discardedHashes[e]||!1},d.recycleState=function(e){var t=d.getHashByState(e);return d.discardedState(e)&&delete d.discardedStates[t],!0},d.emulated.hashChange&&(d.hashChangeInit=function(){d.checkerFunction=null;var a,o,i,s="",n=Boolean(d.getHash());return d.isInternetExplorer()?((a=e.createElement("iframe")).setAttribute("id","historyjs-iframe"),a.setAttribute("src","#"),a.style.display="none",e.body.appendChild(a),a.contentWindow.document.open(),a.contentWindow.document.close(),o="",i=!1,d.checkerFunction=function(){if(i)return!1;i=!0;var e=d.getHash(),t=d.getHash(a.contentWindow.document);return e!==s?(t!==(s=e)&&(o=t=e,a.contentWindow.document.open(),a.contentWindow.document.close(),a.contentWindow.document.location.hash=d.escapeHash(e)),d.Adapter.trigger(r,"hashchange")):t!==o&&(o=t,n&&""===t?d.back():d.setHash(t,!1)),!(i=!1)}):d.checkerFunction=function(){var e=d.getHash()||"";return e!==s&&(s=e,d.Adapter.trigger(r,"hashchange")),!0},d.intervalList.push(l(d.checkerFunction,d.options.hashChangeInterval)),!0},d.Adapter.onDomLoad(d.hashChangeInit)),d.emulated.pushState&&(d.onHashChange=function(e){var t,e=e&&e.newURL||d.getLocationHref(),e=d.getHashByUrl(e);return d.isLastHash(e)?(d.busy(!1),!1):(d.doubleCheckComplete(),d.saveHash(e),e&&d.isTraditionalAnchor(e)?(d.Adapter.trigger(r,"anchorchange"),d.busy(!1),!1):(e=d.extractState(d.getFullUrl(e||d.getLocationHref()),!0),d.isLastSavedState(e)?(d.busy(!1),!1):(d.getHashByState(e),(t=d.discardedState(e))?(d.getHashByIndex(-2)===d.getHashByState(t.forwardState)?d.back(!1):d.forward(!1),!1):(d.pushState(e.data,e.title,encodeURI(e.url),!1),!0))))},d.Adapter.bind(r,"hashchange",d.onHashChange),d.pushState=function(e,t,a,o){if(a=encodeURI(a).replace(/%25/g,"%"),d.getHashByUrl(a))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(!1!==o&&d.busy())return d.pushQueue({scope:d,callback:d.pushState,args:arguments,queue:o}),!1;d.busy(!0);var o=d.createStateObject(e,t,a),e=d.getHashByState(o),t=d.getState(!1),a=d.getHashByState(t),t=d.getHash(),i=d.expectedStateId==o.id;return d.storeState(o),d.expectedStateId=o.id,d.recycleState(o),d.setTitle(o),e===a?(d.busy(!1),!1):(d.saveState(o),i||d.Adapter.trigger(r,"statechange"),d.isHashEqual(e,t)||d.isHashEqual(e,d.getShortUrl(d.getLocationHref()))||d.setHash(e,!1),d.busy(!1),!0)},d.replaceState=function(e,t,a,o){if(a=encodeURI(a).replace(/%25/g,"%"),d.getHashByUrl(a))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(!1!==o&&d.busy())return d.pushQueue({scope:d,callback:d.replaceState,args:arguments,queue:o}),!1;d.busy(!0);var o=d.createStateObject(e,t,a),e=d.getHashByState(o),t=d.getState(!1),a=d.getHashByState(t),i=d.getStateByIndex(-2);return d.discardState(t,o,i),e===a?(d.storeState(o),d.expectedStateId=o.id,d.recycleState(o),d.setTitle(o),d.saveState(o),d.Adapter.trigger(r,"statechange"),d.busy(!1)):d.pushState(o.data,o.title,o.url,!1),!0}),d.emulated.pushState&&d.getHash()&&!d.emulated.hashChange&&d.Adapter.onDomLoad(function(){d.Adapter.trigger(r,"hashchange")})},void 0!==d.init&&d.init()}(window),function(i,a){"use strict";var r=i.console||a,l=i.document,o=i.navigator,s=!1,n=i.setTimeout,d=i.clearTimeout,c=i.setInterval,p=i.clearInterval,u=i.JSON,f=i.alert,h=i.History=i.History||{},b=i.history;try{(s=i.sessionStorage).setItem("TEST","1"),s.removeItem("TEST")}catch(e){s=!1}if(u.stringify=u.stringify||u.encode,u.parse=u.parse||u.decode,void 0!==h.init)throw new Error("History.js Core has already been loaded...");h.init=function(e){return void 0===h.Adapter?!1:(void 0!==h.initCore&&h.initCore(),void 0!==h.initHtml4&&h.initHtml4(),!0)},h.initCore=function(e){if(void 0!==h.initCore.initialized)return!1;if(h.initCore.initialized=!0,h.options=h.options||{},h.options.hashChangeInterval=h.options.hashChangeInterval||100,h.options.safariPollInterval=h.options.safariPollInterval||500,h.options.doubleCheckInterval=h.options.doubleCheckInterval||500,h.options.disableSuid=h.options.disableSuid||!1,h.options.storeInterval=h.options.storeInterval||1e3,h.options.busyDelay=h.options.busyDelay||250,h.options.debug=h.options.debug||!1,h.options.initialTitle=h.options.initialTitle||l.title,h.options.html4Mode=h.options.html4Mode||!1,h.options.delayInit=h.options.delayInit||!1,h.intervalList=[],h.clearAllIntervals=function(){var e,t=h.intervalList;if(null!=t){for(e=0;e<t.length;e++)p(t[e]);h.intervalList=null}},h.debug=function(){h.options.debug&&h.log.apply(h,arguments)},h.log=function(){var e,t,a,o,i,s=void 0!==r&&void 0!==r.log&&void 0!==r.log.apply,n=l.getElementById("log");for(s?(e=(o=Array.prototype.slice.call(arguments)).shift(),void 0!==r.debug?r.debug.apply(r,[e,o]):r.log.apply(r,[e,o])):e="\n"+arguments[0]+"\n",t=1,a=arguments.length;t<a;++t){if("object"==typeof(i=arguments[t])&&void 0!==u)try{i=u.stringify(i)}catch(e){}e+="\n"+i+"\n"}return n?(n.value+=e+"\n-----\n",n.scrollTop=n.scrollHeight-n.clientHeight):s||f(e),!0},h.getInternetExplorerMajorVersion=function(){return h.getInternetExplorerMajorVersion.cached=void 0!==h.getInternetExplorerMajorVersion.cached?h.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=l.createElement("div"),a=t.getElementsByTagName("i");(t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e")&&a[0];);return 4<e?e:!1}()},h.isInternetExplorer=function(){return h.isInternetExplorer.cached=void 0!==h.isInternetExplorer.cached?h.isInternetExplorer.cached:Boolean(h.getInternetExplorerMajorVersion())},h.options.html4Mode?h.emulated={pushState:!0,hashChange:!0}:h.emulated={pushState:!Boolean(i.history&&i.history.pushState&&i.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(o.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(o.userAgent)),hashChange:Boolean(!("onhashchange"in i||"onhashchange"in l)||h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8)},h.enabled=!h.emulated.pushState,h.bugs={setHash:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===o.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),safariPoll:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===o.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),ieDoubleCheck:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<7)},h.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},h.cloneObject=function(e){var t;return e?(e=u.stringify(e),t=u.parse(e)):t={},t},h.getRootUrl=function(){var e=l.location.protocol+"//"+(l.location.hostname||l.location.host);if(l.location.port)e+=":"+l.location.port;return e+="/"},h.getBaseHref=function(){var e=l.getElementsByTagName("base"),t="";return(t=(t=1===e.length?e[0].href.replace(/[^\/]+$/,""):t).replace(/\/+$/,""))&&(t+="/"),t},h.getBaseUrl=function(){return h.getBaseHref()||h.getBasePageUrl()||h.getRootUrl()},h.getPageUrl=function(){return((h.getState(!1,!1)||{}).url||h.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(e,t,a){return/\./.test(e)?e:e+"/"})},h.getBasePageUrl=function(){return h.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,t,a){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/"},h.getFullUrl=function(e,t){var a=e,o=e.substring(0,1);return t=void 0===t?!0:t,/[a-z]+\:\/\//.test(e)||("/"===o?a=h.getRootUrl()+e.replace(/^\/+/,""):"#"===o?a=h.getPageUrl().replace(/#.*/,"")+e:"?"===o?a=h.getPageUrl().replace(/[\?#].*/,"")+e:t?a=h.getBaseUrl()+e.replace(/^(\.\/)+/,""):a=h.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),a.replace(/\#$/,"")},h.getShortUrl=function(e){var t=h.getBaseUrl(),a=h.getRootUrl(),e=(e=h.emulated.pushState?e.replace(t,""):e).replace(a,"/");return e=(e=h.isTraditionalAnchor(e)?"./"+e:e).replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},h.getLocationHref=function(e){return(e=e||l).URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},h.store={},h.idToState=h.idToState||{},h.stateToId=h.stateToId||{},h.urlToId=h.urlToId||{},h.storedStates=h.storedStates||[],h.savedStates=h.savedStates||[],h.normalizeStore=function(){h.store.idToState=h.store.idToState||{},h.store.urlToId=h.store.urlToId||{},h.store.stateToId=h.store.stateToId||{}},h.getState=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var a=h.getLastSavedState();return!a&&t&&(a=h.createStateObject()),e&&((a=h.cloneObject(a)).url=a.cleanUrl||a.url),a},h.getIdByState=function(e){var t,a=h.extractId(e.url);if(!a)if(t=h.getStateString(e),void 0!==h.stateToId[t])a=h.stateToId[t];else if(void 0!==h.store.stateToId[t])a=h.store.stateToId[t];else{for(;a=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),void 0!==h.idToState[a]||void 0!==h.store.idToState[a];);h.stateToId[t]=a,h.idToState[a]=e}return a},h.normalizeState=function(e){var t;if(!e||"object"!=typeof e)e={};if(void 0!==e.normalized)return e;if(!e.data||"object"!=typeof e.data)e.data={};return(t={normalized:!0}).title=e.title||"",t.url=h.getFullUrl(e.url?e.url:h.getLocationHref()),t.hash=h.getShortUrl(t.url),t.data=h.cloneObject(e.data),t.id=h.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,e=!h.isEmptyObject(t.data),(t.title||e)&&!0!==h.options.disableSuid&&(t.hash=h.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=h.getFullUrl(t.hash),(h.emulated.pushState||h.bugs.safariPoll)&&h.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t},h.createStateObject=function(e,t,a){return h.normalizeState({data:e,title:t,url:a})},h.getStateById=function(e){return e=String(e),h.idToState[e]||h.store.idToState[e]||a},h.getStateString=function(e){e={data:h.normalizeState(e).data,title:e.title,url:e.url};return u.stringify(e)},h.getStateId=function(e){return h.normalizeState(e).id},h.getHashByState=function(e){return h.normalizeState(e).hash},h.extractId=function(e){var t;return-1!=e.indexOf("#")?t=e.split("#")[0]:t=e,(e=/(.*)\&_suid=([0-9]+)$/.exec(t))&&e[1],(e?String(e[2]||""):"")||!1},h.isTraditionalAnchor=function(e){return!/[\/\?\.]/.test(e)},h.extractState=function(e,t){var a,o,i=null;return t=t||!1,(i=(a=h.extractId(e))?h.getStateById(a):i)||(o=h.getFullUrl(e),(i=(a=h.getIdByUrl(o)||!1)?h.getStateById(a):i)||!t||h.isTraditionalAnchor(e)||(i=h.createStateObject(null,null,o))),i},h.getIdByUrl=function(e){return h.urlToId[e]||h.store.urlToId[e]||a},h.getLastSavedState=function(){return h.savedStates[h.savedStates.length-1]||a},h.getLastStoredState=function(){return h.storedStates[h.storedStates.length-1]||a},h.hasUrlDuplicate=function(e){var t=h.extractState(e.url);return t&&t.id!==e.id},h.storeState=function(e){return h.urlToId[e.url]=e.id,h.storedStates.push(h.cloneObject(e)),e},h.isLastSavedState=function(e){var t=!1;return t=h.savedStates.length?e.id===h.getLastSavedState().id:t},h.saveState=function(e){return h.isLastSavedState(e)?!1:(h.savedStates.push(h.cloneObject(e)),!0)},h.getStateByIndex=function(e){var t=null;return void 0===e?t=h.savedStates[h.savedStates.length-1]:e<0?t=h.savedStates[h.savedStates.length+e]:t=h.savedStates[e],t},h.getCurrentIndex=function(){var e=null;return h.savedStates.length<1?e=0:e=h.savedStates.length-1,e},h.getHash=function(e){e=h.getLocationHref(e);return h.getHashByUrl(e)},h.unescapeHash=function(e){e=h.normalizeHash(e);return decodeURIComponent(e)},h.normalizeHash=function(e){return e.replace(/[^#]*#/,"").replace(/#.*/,"")},h.setHash=function(e,t){return!1!==t&&h.busy()?(h.pushQueue({scope:h,callback:h.setHash,args:arguments,queue:t}),!1):(h.busy(!0),(t=h.extractState(e,!0))&&!h.emulated.pushState?h.pushState(t.data,t.title,t.url,!1):h.getHash()!==e&&(h.bugs.setHash?(t=h.getPageUrl(),h.pushState(null,null,t+"#"+e,!1)):l.location.hash=e),h)},h.escapeHash=function(e){e=h.normalizeHash(e),e=i.encodeURIComponent(e);return e=h.bugs.hashEscape?e:e.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")},h.getHashByUrl=function(e){e=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return h.unescapeHash(e)},h.setTitle=function(e){var t,a=e.title;a||(t=h.getStateByIndex(0))&&t.url===e.url&&(a=t.title||h.options.initialTitle);try{l.getElementsByTagName("title")[0].innerHTML=a.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}return l.title=a,h},h.queues=[],h.busy=function(e){if(void 0!==e?h.busy.flag=e:void 0===h.busy.flag&&(h.busy.flag=!1),!h.busy.flag){d(h.busy.timeout);var a=function(){var e,t;if(h.busy.flag);else for(e=h.queues.length-1;0<=e;--e)if(0===(t=h.queues[e]).length);else t=t.shift(),h.fireQueueItem(t),h.busy.timeout=n(a,h.options.busyDelay)};h.busy.timeout=n(a,h.options.busyDelay)}return h.busy.flag},h.busy.flag=!1,h.fireQueueItem=function(e){return e.callback.apply(e.scope||h,e.args||[])},h.pushQueue=function(e){return h.queues[e.queue||0]=h.queues[e.queue||0]||[],h.queues[e.queue||0].push(e),h},h.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),void 0!==t&&(e.queue=t),h.busy()?h.pushQueue(e):h.fireQueueItem(e),h},h.clearQueue=function(){return h.busy.flag=!1,h.queues=[],h},h.stateChanged=!1,h.doubleChecker=!1,h.doubleCheckComplete=function(){return h.stateChanged=!0,h.doubleCheckClear(),h},h.doubleCheckClear=function(){return h.doubleChecker&&(d(h.doubleChecker),h.doubleChecker=!1),h},h.doubleCheck=function(e){return h.stateChanged=!1,h.doubleCheckClear(),h.bugs.ieDoubleCheck&&(h.doubleChecker=n(function(){return h.doubleCheckClear(),h.stateChanged||e(),!0},h.options.doubleCheckInterval)),h},h.safariStatePoll=function(){var e=h.extractState(h.getLocationHref());if(!h.isLastSavedState(e))return e||h.createStateObject(),h.Adapter.trigger(i,"popstate"),h},h.back=function(e){return!1!==e&&h.busy()?(h.pushQueue({scope:h,callback:h.back,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.back(!1)}),b.go(-1),!0)},h.forward=function(e){return!1!==e&&h.busy()?(h.pushQueue({scope:h,callback:h.forward,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.forward(!1)}),b.go(1),!0)},h.go=function(e,t){var a;if(0<e)for(a=1;a<=e;++a)h.forward(t);else{if(!(e<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(a=-1;e<=a;--a)h.back(t)}return h},h.emulated.pushState){var t=function(){};h.pushState=h.pushState||t,h.replaceState=h.replaceState||t}else h.onPopState=function(e,t){var a,o=!1;return h.doubleCheckComplete(),(a=h.getHash())?((a=h.extractState(a||h.getLocationHref(),!0))?h.replaceState(a.data,a.title,a.url,!1):(h.Adapter.trigger(i,"anchorchange"),h.busy(!1)),h.expectedStateId=!1):((a=h.Adapter.extractEventData("state",e,t)||!1)?o=h.getStateById(a):h.expectedStateId?o=h.getStateById(h.expectedStateId):o=h.extractState(h.getLocationHref()),o=o||h.createStateObject(null,null,h.getLocationHref()),h.expectedStateId=!1,h.isLastSavedState(o)?(h.busy(!1),!1):(h.storeState(o),h.saveState(o),h.setTitle(o),h.Adapter.trigger(i,"statechange"),h.busy(!1),!0))},h.Adapter.bind(i,"popstate",h.onPopState),h.pushState=function(e,t,a,o){if(h.getHashByUrl(a)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==o&&h.busy())return h.pushQueue({scope:h,callback:h.pushState,args:arguments,queue:o}),!1;h.busy(!0);o=h.createStateObject(e,t,a);return h.isLastSavedState(o)?h.busy(!1):(h.storeState(o),h.expectedStateId=o.id,b.pushState(o.id,o.title,o.url),h.Adapter.trigger(i,"popstate")),!0},h.replaceState=function(e,t,a,o){if(h.getHashByUrl(a)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==o&&h.busy())return h.pushQueue({scope:h,callback:h.replaceState,args:arguments,queue:o}),!1;h.busy(!0);o=h.createStateObject(e,t,a);return h.isLastSavedState(o)?h.busy(!1):(h.storeState(o),h.expectedStateId=o.id,b.replaceState(o.id,o.title,o.url),h.Adapter.trigger(i,"popstate")),!0};if(s){try{h.store=u.parse(s.getItem("History.store"))||{}}catch(e){h.store={}}h.normalizeStore()}else h.store={},h.normalizeStore();if(h.Adapter.bind(i,"unload",h.clearAllIntervals),h.saveState(h.storeState(h.extractState(h.getLocationHref(),!0))),s&&(h.onUnload=function(){var t,e,a;try{t=u.parse(s.getItem("History.store"))||{}}catch(e){t={}}for(e in t.idToState=t.idToState||{},t.urlToId=t.urlToId||{},t.stateToId=t.stateToId||{},h.idToState)if(!h.idToState.hasOwnProperty(e));else t.idToState[e]=h.idToState[e];for(e in h.urlToId)if(!h.urlToId.hasOwnProperty(e));else t.urlToId[e]=h.urlToId[e];for(e in h.stateToId)if(!h.stateToId.hasOwnProperty(e));else t.stateToId[e]=h.stateToId[e];h.store=t,h.normalizeStore(),a=u.stringify(t);try{s.setItem("History.store",a)}catch(e){if(e.code!==DOMException.QUOTA_EXCEEDED_ERR)throw e;s.length&&(s.removeItem("History.store"),s.setItem("History.store",a))}},h.intervalList.push(c(h.onUnload,h.options.storeInterval)),h.Adapter.bind(i,"beforeunload",h.onUnload),h.Adapter.bind(i,"unload",h.onUnload)),!h.emulated.pushState)if(h.bugs.safariPoll&&h.intervalList.push(c(h.safariStatePoll,h.options.safariPollInterval)),"Apple Computer, Inc."===o.vendor||"Mozilla"===(o.appCodeName||""))h.Adapter.bind(i,"hashchange",function(){h.Adapter.trigger(i,"popstate")}),h.getHash()&&h.Adapter.onDomLoad(function(){h.Adapter.trigger(i,"hashchange")})},h.options&&h.options.delayInit||h.init()}(window),$.fn.contrastColor=function(){return this.each(function(){var e=$(this).css("background-color");if("transparent"==e||"rgba(0, 0, 0, 0)"==e)if($(this).parents().each(function(){if("transparent"!=(e=$(this).css("background-color"))&&"rgba(0, 0, 0, 0)"!=e)return!1}),"transparent"==e||"rgba(0, 0, 0, 0)"==e)return!1;var t=e.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(",");if(200<=(299*t[0]+587*t[1]+114*t[2])/1e3)$(this).removeClass("light-color");else $(this).addClass("light-color")})};var ListaPaymentForm=function(){var w={FOUND:1,NOT_FOUND:2,KYC2:6,KYC1:5,OneCustomer:14},g={MISSING:0,PROCESSING:1,ACCEPTED:2,ERROR:4},o=$.when();function i(e){var e=$(e),t=e.find('input[name="compradorNombre1"]');if(t.val().trim().length<2)common_inputAlertwithMessage(t,'Debes especificar el nombre');else{t=e.find('input[name="compradorApellido1"]');if(t.val().trim().length<2)common_inputAlertwithMessage(t,'Debes especificar tu apellido');else{t=e.find('input[name="comprador2"]');if(t.is(":visible")&&t.val().trim().length<4)common_inputAlertwithMessage(t,'Debes especificar el nombre'+".");else{var a=e.find('input[name="mail"]');if(!common_validateMailField(a.get(0),null,null,function(){return common_inputAlertwithMessage(a,'La dirección de correo electrónico no parece correcta.'),!1}));else{if($(".app-payment-input-complete").is(":visible")){t=e.find('input[name="mailConfirm"]');if(t.val().trim().toLowerCase()!==a.val().trim().toLowerCase())return void common_inputAlertwithMessage(t,'Las direcciones de correo electrónico no coinciden.');var t=e.find('input[name="dateOfBirth"]'),o=t.val();if(o.length<=0)return void common_inputAlertwithMessage(t,'Debes especificar tu fecha de nacimiento');else{var i=null,s=null;if(common_isMobileDevice())i=o.split("-"),s=new Date(i[0],i[1]-1,i[1]);else i=o.split("/"),s=new Date(i[2],i[1]-1,i[0]);o=s.getFullYear(),i=s.getMonth(),s=s.getDate();if(!(new Date(o+18,i,s)<=new Date))return common_inputAlertwithMessage(t,'Tu fecha de nacimiento no es válida.'),void $(".datepicker").hide()}o=e.find('select[name="countryOfNationalityId"]');if(o[0].selectedIndex<=0)return void common_inputAlertwithMessage(o,'Debes especificar tu país de nacimiento');i=e.find('select[name="countryOfResidenceId"]');if(i[0].selectedIndex<=0)return void common_inputAlertwithMessage(i,'Debes especificar tu país de residencia');if(!1===website_legal_check(e))return}s=$(".app-website-lista-documentation-uploader");if(s.is(":visible")){t=s.find('input[name="documentation"]');if(t.val().length<=0)return void common_inputAlertwithMessage(t,'Debes añadir la documentación necesaria')}return 1}}}}}function e(e){var s=$(".app-payment-input-complete"),n=$(".app-payment-missing-doc"),r=$(".app-payment-documentation-information"),l=$(".app-payment-doc"),d=$(".app-website-lista-documentation-uploader"),c=$(".app-payment-buy-actions"),p=$(".app-payment-buyer-message"),u=$(".app-payment-error-in-doc"),f=$(".app-website-lista-payment-form"),h=r.find(".app-payment-documentation-information-label"),b=$(".app-website-lista-payment-add-guest"),m=$(".app-website-lista-payment-submit"),e=(website_add_loader(m),e.val());if(!e)l.hide(),s.show(),c.show(),p.show(),b.show(),website_remove_loader(m);else o=$.get("/website/list/guest-wallet/status",{email:e}).then(function(e){if(l.hide(),d.hide(),c.show(),p.show(),b.show(),website_remove_loader(m),e.status===w.FOUND){var t=parseFloat(c.data("totalAmount")),a=t+parseFloat(e.totalPaid),o=parseFloat(e.limits.byTransaction),i=parseFloat(e.limits.annual),o=o<t||i<a,t=(s.hide(),parseInt(e.documentStatusLW));if(!o);else if(t===g.ACCEPTED&&parseInt(e.KYCStatusLW)===w.KYC2);else if(b.hide(),t===g.ERROR)u.show(),d.show(),c.hide(),p.hide();else if(t===g.MISSING)n.show(),d.show(),c.hide(),p.hide();else if(t===g.PROCESSING)f.hide(),r.show(),r.find(".app-payment-documentation-information-label").show().text('Tu petición se está procesando');else if(t===g.ACCEPTED&&e.KYCStatus!==w.KYC2){f.hide(),r.show();i='listas@bodas.net';h.show().text(_s('Tu documento ha sido aceptado. Para acabar de crear tu cuenta contacta con %s.',i))}}else if(e.status===w.NOT_FOUND)s.show()})}function t(){var e=$(".app-payment-doc"),t=$(".app-website-lista-documentation-uploader"),a=$(".app-payment-buy-actions"),o=$(".app-payment-buyer-message"),i=$(".app-payment-input-complete");$(".app-website-lista-payment-form").show(),i.show(),e.hide(),t.hide(),a.show(),o.show(),$(':input:visible:not("select")').val("")}return{registerEvents:function(){if(!$(".app-website-lista-payment-form").length);else $(document.body).on("blur",".app-payment-email-input",function(){e($(this))}),$(document.body).on("submit",".app-website-lista-payment-form",function(e){var t=this,a=$(".app-website-lista-payment-submit");if(e.preventDefault(),website_add_loader(a),!i(t))return website_remove_loader(a),!1;o.then(function(){$.ajax({url:$(t).attr("action"),data:$(t).serialize(),method:"POST"}).then(function(e){if(void 0!==e.redirect&&0<e.redirect.length)window.location=e.redirect;else window.location.reload()})})}),$(document.body).on("click",".app-payment-documentation-information-back",t),$(document.body).on("click",".app-payment-send-documentation",function(e){e.preventDefault();var a=$(this),e=a.closest(".app-website-lista-payment-form"),t=e.find(".app-payment-email-input").val(),e=e.find(".app-payment-documentation-uploader").find("#documentation").prop("files")[0],o=new FormData;if(o.append("email",t),o.append("document",e),o.append("websiteUserId",a.data("websiteUserId")),!i($(".app-website-list-payment")))return!1;website_add_loader(a),$.ajax({url:a.data("action"),data:o,type:"POST",processData:!1,contentType:!1}).then(function(e){var t=$(".app-payment-documentation-information");if(website_remove_loader(a),e.status===w.FOUND&&!e.hasOwnProperty("error")){$(".app-website-lista-payment-form").hide();e='listas@bodas.net';t.show(),t.find(".app-payment-documentation-information-label").show().text(_s('Hemos recibido tu documentación correctamente. Recibirás un correo cuando esté validada para que puedas proceder a finalizar tu regalo. Si no recibes un correo pasadas 24h, puedes ponerte en contacto con %s ¡Muchas gracias!',e))}else $(".app-payment-error-in-doc").show()})}),$(".input-group").one("focus click",function(){common_inputAlertRemoveErrorMessages()})},checkMailStatus:e}}(),loadRsvpTutorial=function(){function a(){$(document.body).on("click",".app-rsvp-tutorial-steps-link",function(){t($(this))}),$(document.body).on("click",".app-rsvp-tutorial-steps-link-password",function(){var e;$(document.body).find(".app-rsvp-tutorial-steps-close").trigger("click",!0),(e=$("#app-common-layer").not(".rsvpTutorial")).modal("hide"),e.css("pointer-events","auto"),t($(this))}),$(document.body).on("click",".app-rsvp-tutorial-steps-next",function(e){if(e.preventDefault(),e.stopPropagation(),d()===l().total)return!0;if(i($(this)),l().prev.classList.remove("rsvpTutorialStepsModalBody__arrow--hide"),d()===l().total-1)l().next.classList.add("rsvpTutorialStepsModalBody__arrow--hide");c(d()+1)}),$(document.body).on("click",".app-rsvp-tutorial-steps-prev",function(){if(1===d())return!0;if(i($(this)),l().next.classList.remove("rsvpTutorialStepsModalBody__arrow--hide"),2===d())l().prev.classList.add("rsvpTutorialStepsModalBody__arrow--hide");c(d()-1)})}function t(e){var t=e.attr("data-link");p(0,{action:"a-click",category:"Wedding Website",section:"admin",origin:"rsvp_tutorial",interaction:"Link_step_"+t})}function o(e){var t={action:"a-click",category:"Wedding Website",section:"admin",origin:e.attr("data-origin"),interaction:"RSVP_tutorial"};p(0,t)}function i(e){var t=d(),a=e.hasClass("app-rsvp-tutorial-steps-next")?t+1:t-1;p(0,{action:"a-click",category:"Wedding Website",section:"admin",origin:"rsvp_tutorial",destinationNav:t+"_"+a})}function s(){return"true"===window.rsvpTutorialModalLayer.data("modal-created")}function n(){window.rsvpTutorialModalLayer.data("modal-created","true")}function r(){window.rsvpTutorialModalLayer.html(window.contentRsvpTutorial.outerHTML),window.rsvpTutorialModalLayer.addClass("rsvpTutorialStepsModal rsvpTutorialStepsModal--hidden websiteModal app-rsvp-tutorial-steps-modal"),window.rsvpTutorialModalLayer.find(".app-rsvp-tutorial-steps-modal-dialog").addClass("app-rsvp-tutorial-steps-modal-dialog-cloned"),window.rsvpTutorialModalLayer.find(".app-rsvp-tutorial-steps-body").addClass("app-rsvp-tutorial-steps-body-cloned"),window.rsvpTutorialModalLayer.find(".app-rsvp-tutorial-steps-modal-dialog-cloned").show()}function l(){var e=document.querySelector(".app-rsvp-tutorial-steps-modal-dialog-cloned");return{next:e.querySelector(".app-rsvp-tutorial-steps-next"),prev:e.querySelector(".app-rsvp-tutorial-steps-prev"),total:4}}function d(){var e=document.querySelector(".app-rsvp-tutorial-steps-body-cloned");return parseInt(e.getAttribute("data-current-step"))}function c(e){var t=document.querySelector(".app-rsvp-tutorial-steps-body-cloned"),a=t.querySelector(`.app-rsvp-tutorial-steps-container[data-step="${d()}"]`),o=t.querySelector(`.app-rsvp-tutorial-steps-container[data-step="${e}"]`);a.classList.add("rsvpTutorialStepsModalBody__innerWrapper--fadeOut"),a.classList.remove("rsvpTutorialStepsModalBody__innerWrapper--fadeIn"),o.classList.remove("rsvpTutorialStepsModalBody__innerWrapper--fadeOut"),o.classList.add("rsvpTutorialStepsModalBody__innerWrapper--fadeIn"),t.setAttribute("data-current-step",e)}function p(e,t){var a=t.category,o=t.action,i=function(){var e="d-desktop";if(CurrentPlatform.isMobile())if(CurrentPlatform.isApp())e="d-mobile_app";else e="d-mobile";return e}(),s="+s-"+t.section,n="+o-"+t.origin,r=t.interaction?"+i-"+t.interaction:"",l=t.destination?"+dt-"+t.destination:"",t=t.destinationNav?`+dt-step[${t.destinationNav}]`:"";ga_trackEventAll(a,o,i+s+n+r+l+t,0,0)}return{init:function(){var e;if($("#app-common-layer.rsvpTutorial").length)return!0;e=document.querySelector(".app-rsvp-tutorial-steps-modal-dialog"),window.contentRsvpTutorial=e.cloneNode(!0),e.remove(),e=$("#app-common-layer"),window.rsvpTutorialModalLayer=e.clone().addClass("rsvpTutorial"),$(document.body).on("click",".app-rsvp-tutorial-steps-button",function(){!function(){if(r(),window.rsvpTutorialModalLayer.modal(),s())return;a(),n()}(),o($(this))}),$(document.body).on("click",".app-rsvp-tutorial-steps-button-edit-page",function(){var e,t;(e=$("#app-common-layer").not(".rsvpTutorial")).css("pointer-events","none"),e=e.find(".modal-dialog"),t=e.width(),e.css("transform",`translate(${t}px, 0)`),function(){if(r(),window.rsvpTutorialModalLayer.modal({backdrop:!1}),s())return;a(),n()}(),o($(this))}),$(document.body).on("click",".app-rsvp-tutorial-steps-close",function(e,t){if(e.preventDefault(),e.stopPropagation(),$("#app-common-layer.rsvpTutorial").modal("hide"),t)return!0;p($(this),{action:"a-close",category:"Wedding Website",section:"admin",origin:"rsvp",interaction:"RSVP_tutorial"});e=$("#app-common-layer").not(".rsvpTutorial");if(e.length)(t=$("#app-common-layer").not(".rsvpTutorial")).css("pointer-events","auto"),t.find(".modal-dialog").css("transform","translate(0,0)")})}}}();$(document).ready(function(){$(".app-contrast-color").contrastColor(),$("#app-website-frm-libro").submit(function(e){var t=$(this);e.preventDefault(),$(".app-message-ok").hide(),$.post("/website/website-AjaxLibroRun.php",$(this).serialize(),function(e){if(0==e.errCode)$("#captcha_error").hide(),$(".app-message-ok").show(),$("#captcha").attr("src","/captcha/captcha.php?"+Math.random()+"&background=255,255,255&color=34,34,34"),t.trigger("reset"),t.find(".icheckbox_minimal").removeClass("checked"),o(),$("#app-website-libro-visitas").append(e.html),$("#app-website-libro-visitas").parent().show(),$("html, body").animate({scrollTop:$("#app-website-libro-visitas li:last").offset().top-100},"500","swing",function(){});else if(2==e.errCode)$("#captcha_error").hide(),website_showValidationErrors(t,e);else if(3==e.errCode){if($("#captcha_error").hide(),!1===website_checkValidator(t))return!1}else $("#captcha_error").hide().show(),$("#captcha").attr("src","/captcha/captcha.php?"+Math.random()+"&background=255,255,255&color=34,34,34")})}),$("#app-website-frm-address").submit(function(e){var t=$(this);e.preventDefault(),$(".app-message-ok").hide(),$("#app-website-address-guests").hide(),$(".app-website-frm-error").addClass("dnone"),$.post("/website/website-AjaxAddressRun.php",$(this).serialize(),function(e){if(0==e.errCode)$("#app-website-address-guests").html(e.html).show(),setTimeout(function(){window.location=e.redirect},1e3);else $(".app-website-frm-error").html(e.message).removeClass("dnone"),$("[name='"+e.name+"']",t).focus()})}),$(document.body).on("submit",".app-website-frm-test",function(e){var o=$(this);e.preventDefault(),website_ensureLoggedAction(function(){o.find("input[type=submit]").attr("disabled","disabled"),$(".app-message-test",o).hide(),o.find("li").removeClass("success error"),$.post("/website/website-AjaxTestRun.php",o.serialize()).done(function(e){if(0==e.errCode){var t=$(".app-message-test[data-answer="+e.answer+"]",o),a=t.closest("li");if(t.html(e.html).show(),1==e.correcto)a.addClass("success");else{t=$(".app-message-test[data-answer="+e.correct_answer+"]",o);t.closest("li").addClass("success"),t.html(' - <span class="tags tag-ok">'+'Correcta'+"</span>").show(),a.addClass("error")}o.find("input[type=radio]").attr("disabled","disabled"),o.find("input[type=submit]").remove()}else if(2==e.errCode)$("#captcha_error").hide(),website_showValidationErrors(o,e);else if(4==e.errCode)website_loginLayer();else alert(e.message);o.find("input[type=submit]").removeAttr("disabled")})})}),$(document.body).on("submit",".app-website-frm-encuesta",function(e){e.preventDefault();var t=$(this),a=t.find(".app-contrast-color");website_ensureLoggedAction(function(){a.prop("disabled",!0),$.post("/website/website-AjaxEncuestaRun.php",t.serialize(),function(e){if(0==e.errCode)$(t).closest(".app-website-render").fadeOut({complete:function(){$(t).closest(".app-website-render").html(e.html).fadeIn(200)}},200);else if(2==e.errCode)$("#captcha_error").hide(),website_showValidationErrors(t,e);else if(4==e.errCode)website_loginLayer();else alert(e.message);if(0!=e.errCode)a.prop("disabled",!1)})})}),$(document.body).on("click",".app-website-delete-visita",function(e){var t=$(this);if(e.preventDefault(),confirm('¿Seguro que quieres borrar el comentario?'))$(".app-message-ok").hide(),$.post("/website/admin/website-AjaxLibroDeleteVisitaRun.php",{idGuest:$(this).data("idguest"),idLibro:$(this).data("idlibro")},function(e){if(0==e.errCode)$(t).closest(".app-website-libro-visitas-item").remove();else alert(e.message)})}),$(document.body).on("click",".app-website-contact-send",function(e){e.preventDefault(),website_contact_send($(this))}),$(document.body).on("click",".app-website-rsvp-search",function(e){e.preventDefault(),website_rsvp_remove_input_text_error($(".app-website-rsvp-guests-error")),website_rsvp_search($(this))}),$(document.body).on("click",".app-website-rsvp-reset",function(e){e.preventDefault(),website_rsvp_reset($(this))}),$(document.body).on("keydown",".app-website-rsvp-search-input",function(){website_rsvp_remove_input_text_error($(".app-website-rsvp-guests-error"))}),$(document.body).on("click",".app-website-rsvp-guests-submit",function(e){e.preventDefault(),website_rsvp_remove_input_text_error($(".app-textfield-validate")),website_rsvp_guests($(this))}),$(document.body).on("click",".app-website-rsvp-guests-radio",function(){if($(this).hasClass("disabled"))return!0;website_rsvp_remove_input_text_error($(".app-textfield-validate"))}),$(document.body).on("click",".app-website-rsvp-events-submit",function(e){e.preventDefault(),website_rsvp_events($(this))}),$(document.body).on("submit",".app-website-poll-form",function(e){e.preventDefault(),website_poll_send($(this))}),$(document.body).on("click",".app-website-comment-send",function(e){e.preventDefault(),website_comment_send($(this))}),$(document.body).on("click",".app-website-comment-delete",function(e){e.preventDefault(),website_comment_delete($(this))}),$(document.body).on("submit","#app-website-frm-login",function(e){e.preventDefault();var t=$(this);$(".app-website-login-error").hide(),$(".app-website-login-error-password").hide(),$.post("/website/website-AjaxLoginRun.php",$(this).serialize(),function(e){if(0==e.errCode)website_tracking_login(e.tracking),document.location.reload(!0);else if(3==e.errCode){if($("#captcha_error").hide(),!1===website_checkValidator(t))return $(".app-check-legal-terms-msg").html('Debes aceptar las condiciones de uso y la política de privacidad.').slideDown(),!1}else{if("password"==e.name)$(".app-website-login-error-password").html(e.message).show();else $(".app-website-login-error").html(e.message).show();$("[name='"+e.name+"']",t).focus()}})}),$(document.body).on("click ",".app-website-switch",function(){$(this).siblings().removeClass("active").end().addClass("active")}),$(document.body).on("submit",".app-website-wedshoots-code-access-form",function(e){e.preventDefault(),website_wedshootsCodeAccess($(this))}),$(document.body).on("click",".app-website-wedshoots-code-request-load",function(){website_wedshootsCodeRequestLoad($(this))}),$(document.body).on("submit",".app-website-wedshoots-code-request-form",function(e){e.preventDefault(),website_wedshootsCodeRequest($(this))}),$(document.body).on("submit",".app-website-wedshoots-login-form",function(e){e.preventDefault(),website_wedshootsLogin($(this))}),$(document.body).on("click",".app-wedshoots-delete-photo",function(e){e.preventDefault();var e=$(this),t=$(this).data("idphoto");if(!e.hasClass("loading"))if(confirm('¿Estás seguro que quieres eliminar la foto?'))website_add_loader(e,1,1),$.ajax({type:"POST",url:"/site/WedShootsDeletePhoto",data:{idPhoto:t},success:function(){document.location.reload()}});else return!1}),$(document.body).on("click",".app-wedshoots-delete-comment",function(e){e.preventDefault(),website_comment_delete($(this))}),$(document.body).on("click",".app-wedshoots-delete-photo-detail",function(e){e.preventDefault();var e=$(this),t=$(this).data("idphoto");if(!e.hasClass("loading"))if(confirm('¿Estás seguro que quieres eliminar la foto?'))website_add_loader(e,1,1),$.ajax({type:"POST",url:"/site/WedShootsDeletePhoto",data:{idPhoto:t},success:function(){var e=$("#app-wedshoots-link-top").attr("href");if($("#app-wedshoots-link-next").length)e=$("#app-wedshoots-link-next").attr("href");else if($("#app-wedshoots-link-prev").length)e=$("#app-wedshoots-link-prev").attr("href");document.location.href=e}});else return!1}),$(document.body).on("click",".app-website-list-open-product",function(){common_openLayer("/website/website-AjaxAddProduct.php?idProductoUser="+$(this).data("id-producto-user")+"&idUser="+$(this).data("id-user"),function(){$("#app-common-layer").addClass("websiteModal"),$(".app-contrast-color").contrastColor()})});var e=$("input[name=toConfirm]");if(e.val())e.closest("form").submit(),e.val("");if(!$("#showLogin").length)website_render_hamburger(),$(".app-contrast-color").contrastColor(),$(document.body).on("click",".app-nav-mobile",function(e){var t=$(".app-premium-countdown");if($(".app-nav-mobile-container").hasClass("open"))$("body").attr("style",""),$("#app-offset-pusher").attr("style",""),$(".app-nav-mobile").removeClass("open"),$(".app-nav-mobile-container").removeClass("open"),t.slideDown("fast");else{$("body").attr("style","position:fixed;width:100%;min-height:100%"),$("#app-offset-pusher").attr("style",""),$(".app-nav-mobile").addClass("open"),$(".app-nav-mobile-container").addClass("open");var a=$("#app-layer-website"),o=$("#app-layer-content"),i=$("#app-offset-pusher");$(".app-offset").removeAttr("data-active").removeClass("current"),$(a).removeClass("active"),$(i).removeClass("active"),t.slideUp("fast"),setTimeout(function(){o.html("")},400)}e.preventDefault()});$(window).resize(function(){if($(".app-nav-mobile-container").hasClass("open")&&768<$(window).width())$("body").attr("style",""),$(".app-nav-mobile").removeClass("open"),$(".app-nav-mobile-container").removeClass("open")}),$(".theme-menu-wrapper a").each(function(){$(this).click(function(){if($("body").attr("style",""),$(".app-nav-mobile-container").hasClass("open"))$(".app-nav-mobile").removeClass("open"),$(".app-nav-mobile-container").removeClass("open")})}),website_navigationFixedOnScroll(),website_enableSliders(),$(".app-website-accordion").on("click",function(){$this=$(this),$($this.data("accordion-target")).slideToggle("fast"),$this.toggleClass("open")}),$(document.body).on("click",".app-url-share",function(){website_admin_openShareWebSiteLayer()}),$(document.body).on("click","#app-share, .app-share-init",function(){website_selectText("app-share")}),$(document.body).on("submit",".app-login-ask-code",function(e){e.preventDefault();var t=this,a=$(".app-login-ask-code");$.post("/website/website-AjaxLoginRequestAccessRun.php",$(this).serialize(),function(e){if($("#captcha_error, .app-message-error").hide(),0==e.errCode)$("#captcha").attr("src","/captcha/captcha.php?"+Math.random()+"&background=255,255,255&color=34,34,34"),$(t).trigger("reset"),o(),$(".app-website-login-error-code").hide(),$(".app-message-ok").show(),common_closeLayer();else if(2==e.errCode)website_loginAskErrors(t,e);else if(3==e.errCode){if($("#captcha_error").hide(),!1===website_checkValidator(a))return!1}else $("#captcha_error").show(),$("#captcha").attr("src","/captcha/captcha.php?"+Math.random()+"&background=255,255,255&color=34,34,34")})}),$(document.body).on("click",".app-request-pass-album",function(){website_requestPassAlbum($(this).data("url"))}),$(document.body).on("submit","#app-website-login-form",function(){var e=$(this),t=$("#app-website-login-form"),a=($(".app-website-login-error").html("").addClass("dnone"),e.find("input[type=submit]"));return a.attr("disabled","disabled"),$.post("/website/website-AjaxBienvenidaFormRun.php",{id:$(document.body).data("id-website"),nombre:e.find("input[name=nombre]").val(),apellidos:e.find("input[name=apellidos]").val(),mail:e.find("input[name=mail]").val(),check:e.find(".app-check-legal-terms").prop("checked")}).then(function(e){if(0==e.errCode)$(".modal").modal("hide"),window.onWebsiteLoginAction(),window.onWebsiteLoginAction=function(){};else if(3==e.errCode)website_checkValidator(t);else $(".app-website-login-error").html(e.message).removeClass("dnone");a.removeAttr("disabled")}),!1});var t=!1,e=($(document.body).on("click",".app-feed-more",function(){if(!t){feedPage=$(this).data("page")+1,t=!0;var e={idWebsite:$(document.body).data("id-website"),page:feedPage,isAdminMode:window.adminMode};$(this).data("page",feedPage),$.get("/website/website-NewsFeedMoreEntires.php",e).then(function(e){if($(".app-websites-feed").append(e.html),!e.more)$(".app-feed-more").remove();t=!1})}}),$(document.body).on("click",".app-website-share-fb",function(e){var t=$(this),a=t.data("url"),o=t.data("title"),i=t.data("image");if(t.data("stop-prop"))e.stopPropagation();website_shareFacebook(a,o,i,{eventType:website_getTrackingTypes().type_share_facebook,eventSource:t.data("event-source")},0)}),$(document.body).on("click",".app-website-share-fb-mobileApp",function(e){var t=$(this),a={eventType:website_getTrackingTypes().type_share_facebook,eventSource:t.data("event-source")};website_shareFacebook(t.data("url"),t.data("title"),null,a,1)}),$(document.body).on("click",".app-website-tracking",function(){var e=$(this);website_tracking({eventType:e.data("event-type"),eventSource:e.data("event-source")})}),$(document.body).on("click",".app-website-event-tracking",function(){website_add_event_tracking($(this))}),$(".app-website-event-tracking[data-track-a=a-show]"));if(void 0!==e&&null!=e&&0<e.length)website_add_event_tracking(e);e=$(".app-website-event-registry-tracking[data-track-a=a-show]");if(void 0!==e&&null!=e&&0<e.length)website_add_event_tracking(e);function o(){$(".app-website-form-gdpr-required").find(".formConditions").slideUp()}if($(".app-website-map-static").on("click",function(){var e=$(this),t=e.next(".app-website-map"),a=t.attr("id");e.remove(),GShowSiteWebsite(a,t.data("latitude"),t.data("longitude"),16)}),$(document.body).on("click",".app-website-shareable-visibility",function(e){var t=$(this),a=t.closest(".app-website-shareable-item-container").find(".app-website-shareable-alert"),o=t.data("id"),i=t.data("visible"),s=$("body").data("id-page");e.preventDefault(),$.post("/website/admin/shareableRatesVisibilityAjax",{hotelId:o,idPage:s,visible:i},function(e){if(t.data("visible",e.visible),e.visible)ga_trackEventAll("Accommodations","Clicks to add SR to website","Wedding Website",0,!1),t.toggleClass("added").html("- "+'Eliminar hotel'),a.fadeIn();else ga_trackEventAll("Accommodations","Clicks to remove SR from website","Wedding Website",0,!1),t.toggleClass("added").html("+ "+'Añadir hotel'),a.fadeOut()})}),$(document.body).on("keypress",".app-shareable-city",function(e){if(13===e.keyCode)website_search_accommodations()}),$(document.body).on("click",".app-website-shareable-submit",function(){website_shareable_submit()}),$(document.body).on("click",".app-website-shareable-cancel",function(){$("#app-website-layer").modal("hide"),ga_trackEventAll("Accommodations","Clicks to cancel on alert","Wedding Website",0,!1)}),$(document.body).on("click",".app-shareable-rates-show-more",function(e){var t=$(this);if(e.preventDefault(),t.data("status"))t.data("status",0),t.text(t.data("more"));else t.data("status",1),t.text(t.data("less"));$(".app-website-shareable-item-container.dnone").toggle()}),0<$("#app-hotelplanner-datafile").length)website_update_accommodations_profile($("#app-hotelplanner-datafile").val());if($(".app-website-page-content").on("click",".app-website-swiper-fullscreen-open",function(){website_loadSliderFullscreen($(this))}),$(document.body).on("click",".app-website-album-all-photos",function(){var e=$(this).data("id-album");$('.app-website-album-photo[data-id-album="'+e+'"]').removeClass("dnone"),$(this).addClass("dnone")}),$(document.body).on("click",".app-website-comment-show",function(e){e.preventDefault(),website_comment_new($(this).parents(".app-website-comment"),$(this).data("target"))}),$(".app-website-page-content").on("click",".app-website-wedshoots-presentation-open",function(){website_wedshootsPresentationOpen($(this))}),$(".app-website-map-static").on("click",function(){var e=$(this),t=e.next(".app-website-map"),a=t.attr("id");e.remove(),GShowSiteWebsite(a,t.data("latitude"),t.data("longitude"),16)}),0<$(".website-registry-iframe-container-ajax").length)$.get("/website/admin/RegistryIsActiveAjax",{idRegistry:$(".website-registry-iframe-container-ajax").data("id"),modeadmin:$(".website-registry-iframe-container-ajax").data("modeadmin")},function(e){if(e.length)$(".website-registry-iframe-container-ajax").append(e)});if(ListaPaymentForm.registerEvents(),ListaPaymentForm.checkMailStatus($(".app-payment-email-input")),$(".app-rsvp-tutorial-steps").length)loadRsvpTutorial.init();{const p=1.5,u=new Map([["Sacramento",2.25],["Safina",2.25],["Parisienne",2.25],["Damion",1.7],["Pacifico",1.7],["Yellowtail",1.7],["Letter Gothic",.25]]);function a(e){var a=document.querySelector(e);if(!a);else{var o=a.parentElement.clientWidth-40,i=(a.style.fontSize="",getComputedStyle(a));let e=parseFloat(i.fontSize);var s=a.textContent.trim().split(/\s+/);let t=n(0,s,i);for(;t>o&&10<e;)--e,a.style.fontSize=e+"px",i=getComputedStyle(a),t=n(0,s,i)}}function n(e,t,a){var{fontFamily:a,fontSize:o,fontWeight:i,letterSpacing:s}=a,n=document.createElement("span"),r=(Object.assign(n.style,{visibility:"hidden",whiteSpace:"nowrap",fontFamily:a,fontSize:o,fontWeight:i,letterSpacing:s}),document.body.appendChild(n),u.get(a)||p);let l=0;for(const c of t){n.textContent=c;var d=n.getBoundingClientRect().width*r;if(d>l)l=d}return document.body.removeChild(n),l}window.addEventListener("load",()=>a("#website-title")),window.addEventListener("resize",()=>a("#website-title"))}});/**
 * Swiper 5.3.6
 * Most modern mobile touch slider and framework with hardware accelerated transitions
 * http://swiperjs.com
 *
 * Copyright 2014-2020 Vladimir Kharlampidi
 *
 * Released under the MIT License
 *
 * Released on: February 29, 2020
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Swiper=t()}(this,(function(){"use strict";var e="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,t="undefined"==typeof window?{document:e,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,i=function(e){for(var t=0;t<e.length;t+=1)this[t]=e[t];return this.length=e.length,this};function s(s,a){var r=[],n=0;if(s&&!a&&s instanceof i)return s;if(s)if("string"==typeof s){var o,l,d=s.trim();if(d.indexOf("<")>=0&&d.indexOf(">")>=0){var h="div";for(0===d.indexOf("<li")&&(h="ul"),0===d.indexOf("<tr")&&(h="tbody"),0!==d.indexOf("<td")&&0!==d.indexOf("<th")||(h="tr"),0===d.indexOf("<tbody")&&(h="table"),0===d.indexOf("<option")&&(h="select"),(l=e.createElement(h)).innerHTML=d,n=0;n<l.childNodes.length;n+=1)r.push(l.childNodes[n])}else for(o=a||"#"!==s[0]||s.match(/[ .<>:~]/)?(a||e).querySelectorAll(s.trim()):[e.getElementById(s.trim().split("#")[1])],n=0;n<o.length;n+=1)o[n]&&r.push(o[n])}else if(s.nodeType||s===t||s===e)r.push(s);else if(s.length>0&&s[0].nodeType)for(n=0;n<s.length;n+=1)r.push(s[n]);return new i(r)}function a(e){for(var t=[],i=0;i<e.length;i+=1)-1===t.indexOf(e[i])&&t.push(e[i]);return t}s.fn=i.prototype,s.Class=i,s.Dom7=i;var r={addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),i=0;i<t.length;i+=1)for(var s=0;s<this.length;s+=1)void 0!==this[s]&&void 0!==this[s].classList&&this[s].classList.add(t[i]);return this},removeClass:function(e){for(var t=e.split(" "),i=0;i<t.length;i+=1)for(var s=0;s<this.length;s+=1)void 0!==this[s]&&void 0!==this[s].classList&&this[s].classList.remove(t[i]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),i=0;i<t.length;i+=1)for(var s=0;s<this.length;s+=1)void 0!==this[s]&&void 0!==this[s].classList&&this[s].classList.toggle(t[i]);return this},attr:function(e,t){var i=arguments;if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var s=0;s<this.length;s+=1)if(2===i.length)this[s].setAttribute(e,t);else for(var a in e)this[s][a]=e[a],this[s].setAttribute(a,e[a]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},data:function(e,t){var i;if(void 0!==t){for(var s=0;s<this.length;s+=1)(i=this[s]).dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[e]=t;return this}if(i=this[0]){if(i.dom7ElementDataStorage&&e in i.dom7ElementDataStorage)return i.dom7ElementDataStorage[e];var a=i.getAttribute("data-"+e);return a||void 0}},transform:function(e){for(var t=0;t<this.length;t+=1){var i=this[t].style;i.webkitTransform=e,i.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t+=1){var i=this[t].style;i.webkitTransitionDuration=e,i.transitionDuration=e}return this},on:function(){for(var e,t=[],i=arguments.length;i--;)t[i]=arguments[i];var a=t[0],r=t[1],n=t[2],o=t[3];function l(e){var t=e.target;if(t){var i=e.target.dom7EventData||[];if(i.indexOf(e)<0&&i.unshift(e),s(t).is(r))n.apply(t,i);else for(var a=s(t).parents(),o=0;o<a.length;o+=1)s(a[o]).is(r)&&n.apply(a[o],i)}}function d(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),n.apply(this,t)}"function"==typeof t[1]&&(a=(e=t)[0],n=e[1],o=e[2],r=void 0),o||(o=!1);for(var h,p=a.split(" "),c=0;c<this.length;c+=1){var u=this[c];if(r)for(h=0;h<p.length;h+=1){var v=p[h];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[v]||(u.dom7LiveListeners[v]=[]),u.dom7LiveListeners[v].push({listener:n,proxyListener:l}),u.addEventListener(v,l,o)}else for(h=0;h<p.length;h+=1){var f=p[h];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[f]||(u.dom7Listeners[f]=[]),u.dom7Listeners[f].push({listener:n,proxyListener:d}),u.addEventListener(f,d,o)}}return this},off:function(){for(var e,t=[],i=arguments.length;i--;)t[i]=arguments[i];var s=t[0],a=t[1],r=t[2],n=t[3];"function"==typeof t[1]&&(s=(e=t)[0],r=e[1],n=e[2],a=void 0),n||(n=!1);for(var o=s.split(" "),l=0;l<o.length;l+=1)for(var d=o[l],h=0;h<this.length;h+=1){var p=this[h],c=void 0;if(!a&&p.dom7Listeners?c=p.dom7Listeners[d]:a&&p.dom7LiveListeners&&(c=p.dom7LiveListeners[d]),c&&c.length)for(var u=c.length-1;u>=0;u-=1){var v=c[u];r&&v.listener===r?(p.removeEventListener(d,v.proxyListener,n),c.splice(u,1)):r&&v.listener&&v.listener.dom7proxy&&v.listener.dom7proxy===r?(p.removeEventListener(d,v.proxyListener,n),c.splice(u,1)):r||(p.removeEventListener(d,v.proxyListener,n),c.splice(u,1))}}return this},trigger:function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];for(var a=i[0].split(" "),r=i[1],n=0;n<a.length;n+=1)for(var o=a[n],l=0;l<this.length;l+=1){var d=this[l],h=void 0;try{h=new t.CustomEvent(o,{detail:r,bubbles:!0,cancelable:!0})}catch(t){(h=e.createEvent("Event")).initEvent(o,!0,!0),h.detail=r}d.dom7EventData=i.filter((function(e,t){return t>0})),d.dispatchEvent(h),d.dom7EventData=[],delete d.dom7EventData}return this},transitionEnd:function(e){var t,i=["webkitTransitionEnd","transitionend"],s=this;function a(r){if(r.target===this)for(e.call(this,r),t=0;t<i.length;t+=1)s.off(i[t],a)}if(e)for(t=0;t<i.length;t+=1)s.on(i[t],a);return this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(this.length>0){var i=this[0],s=i.getBoundingClientRect(),a=e.body,r=i.clientTop||a.clientTop||0,n=i.clientLeft||a.clientLeft||0,o=i===t?t.scrollY:i.scrollTop,l=i===t?t.scrollX:i.scrollLeft;return{top:s.top+o-r,left:s.left+l-n}}return null},css:function(e,i){var s;if(1===arguments.length){if("string"!=typeof e){for(s=0;s<this.length;s+=1)for(var a in e)this[s].style[a]=e[a];return this}if(this[0])return t.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(s=0;s<this.length;s+=1)this[s].style[e]=i;return this}return this},each:function(e){if(!e)return this;for(var t=0;t<this.length;t+=1)if(!1===e.call(this[t],t,this[t]))return this;return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(a){var r,n,o=this[0];if(!o||void 0===a)return!1;if("string"==typeof a){if(o.matches)return o.matches(a);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(a);if(o.msMatchesSelector)return o.msMatchesSelector(a);for(r=s(a),n=0;n<r.length;n+=1)if(r[n]===o)return!0;return!1}if(a===e)return o===e;if(a===t)return o===t;if(a.nodeType||a instanceof i){for(r=a.nodeType?[a]:a,n=0;n<r.length;n+=1)if(r[n]===o)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t,s=this.length;return new i(e>s-1?[]:e<0?(t=s+e)<0?[]:[this[t]]:[this[e]])},append:function(){for(var t,s=[],a=arguments.length;a--;)s[a]=arguments[a];for(var r=0;r<s.length;r+=1){t=s[r];for(var n=0;n<this.length;n+=1)if("string"==typeof t){var o=e.createElement("div");for(o.innerHTML=t;o.firstChild;)this[n].appendChild(o.firstChild)}else if(t instanceof i)for(var l=0;l<t.length;l+=1)this[n].appendChild(t[l]);else this[n].appendChild(t)}return this},prepend:function(t){var s,a;for(s=0;s<this.length;s+=1)if("string"==typeof t){var r=e.createElement("div");for(r.innerHTML=t,a=r.childNodes.length-1;a>=0;a-=1)this[s].insertBefore(r.childNodes[a],this[s].childNodes[0])}else if(t instanceof i)for(a=0;a<t.length;a+=1)this[s].insertBefore(t[a],this[s].childNodes[0]);else this[s].insertBefore(t,this[s].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&s(this[0].nextElementSibling).is(e)?new i([this[0].nextElementSibling]):new i([]):this[0].nextElementSibling?new i([this[0].nextElementSibling]):new i([]):new i([])},nextAll:function(e){var t=[],a=this[0];if(!a)return new i([]);for(;a.nextElementSibling;){var r=a.nextElementSibling;e?s(r).is(e)&&t.push(r):t.push(r),a=r}return new i(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&s(t.previousElementSibling).is(e)?new i([t.previousElementSibling]):new i([]):t.previousElementSibling?new i([t.previousElementSibling]):new i([])}return new i([])},prevAll:function(e){var t=[],a=this[0];if(!a)return new i([]);for(;a.previousElementSibling;){var r=a.previousElementSibling;e?s(r).is(e)&&t.push(r):t.push(r),a=r}return new i(t)},parent:function(e){for(var t=[],i=0;i<this.length;i+=1)null!==this[i].parentNode&&(e?s(this[i].parentNode).is(e)&&t.push(this[i].parentNode):t.push(this[i].parentNode));return s(a(t))},parents:function(e){for(var t=[],i=0;i<this.length;i+=1)for(var r=this[i].parentNode;r;)e?s(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return s(a(t))},closest:function(e){var t=this;return void 0===e?new i([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],s=0;s<this.length;s+=1)for(var a=this[s].querySelectorAll(e),r=0;r<a.length;r+=1)t.push(a[r]);return new i(t)},children:function(e){for(var t=[],r=0;r<this.length;r+=1)for(var n=this[r].childNodes,o=0;o<n.length;o+=1)e?1===n[o].nodeType&&s(n[o]).is(e)&&t.push(n[o]):1===n[o].nodeType&&t.push(n[o]);return new i(a(t))},filter:function(e){for(var t=[],s=0;s<this.length;s+=1)e.call(this[s],s,this[s])&&t.push(this[s]);return new i(t)},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var i,a;for(i=0;i<e.length;i+=1){var r=s(e[i]);for(a=0;a<r.length;a+=1)this[this.length]=r[a],this.length+=1}return this},styles:function(){return this[0]?t.getComputedStyle(this[0],null):{}}};Object.keys(r).forEach((function(e){s.fn[e]=s.fn[e]||r[e]}));var n={deleteProps:function(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))},nextTick:function(e,t){return void 0===t&&(t=0),setTimeout(e,t)},now:function(){return Date.now()},getTranslate:function(e,i){var s,a,r;void 0===i&&(i="x");var n=t.getComputedStyle(e,null);return t.WebKitCSSMatrix?((a=n.transform||n.webkitTransform).split(",").length>6&&(a=a.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),r=new t.WebKitCSSMatrix("none"===a?"":a)):s=(r=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===i&&(a=t.WebKitCSSMatrix?r.m41:16===s.length?parseFloat(s[12]):parseFloat(s[4])),"y"===i&&(a=t.WebKitCSSMatrix?r.m42:16===s.length?parseFloat(s[13]):parseFloat(s[5])),a||0},parseUrlQuery:function(e){var i,s,a,r,n={},o=e||t.location.href;if("string"==typeof o&&o.length)for(r=(s=(o=o.indexOf("?")>-1?o.replace(/\S*\?/,""):"").split("&").filter((function(e){return""!==e}))).length,i=0;i<r;i+=1)a=s[i].replace(/#\S+/g,"").split("="),n[decodeURIComponent(a[0])]=void 0===a[1]?void 0:decodeURIComponent(a[1])||"";return n},isObject:function(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object},extend:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var i=Object(e[0]),s=1;s<e.length;s+=1){var a=e[s];if(null!=a)for(var r=Object.keys(Object(a)),o=0,l=r.length;o<l;o+=1){var d=r[o],h=Object.getOwnPropertyDescriptor(a,d);void 0!==h&&h.enumerable&&(n.isObject(i[d])&&n.isObject(a[d])?n.extend(i[d],a[d]):!n.isObject(i[d])&&n.isObject(a[d])?(i[d]={},n.extend(i[d],a[d])):i[d]=a[d])}}return i}},o={touch:t.Modernizr&&!0===t.Modernizr.touch||!!(t.navigator.maxTouchPoints>0||"ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),pointerEvents:!!t.PointerEvent&&"maxTouchPoints"in t.navigator&&t.navigator.maxTouchPoints>0,observer:"MutationObserver"in t||"WebkitMutationObserver"in t,passiveListener:function(){var e=!1;try{var i=Object.defineProperty({},"passive",{get:function(){e=!0}});t.addEventListener("testPassiveListener",null,i)}catch(e){}return e}(),gestures:"ongesturestart"in t},l=function(e){void 0===e&&(e={});var t=this;t.params=e,t.eventsListeners={},t.params&&t.params.on&&Object.keys(t.params.on).forEach((function(e){t.on(e,t.params.on[e])}))},d={components:{configurable:!0}};l.prototype.on=function(e,t,i){var s=this;if("function"!=typeof t)return s;var a=i?"unshift":"push";return e.split(" ").forEach((function(e){s.eventsListeners[e]||(s.eventsListeners[e]=[]),s.eventsListeners[e][a](t)})),s},l.prototype.once=function(e,t,i){var s=this;if("function"!=typeof t)return s;function a(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];s.off(e,a),a.f7proxy&&delete a.f7proxy,t.apply(s,i)}return a.f7proxy=t,s.on(e,a,i)},l.prototype.off=function(e,t){var i=this;return i.eventsListeners?(e.split(" ").forEach((function(e){void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].length&&i.eventsListeners[e].forEach((function(s,a){(s===t||s.f7proxy&&s.f7proxy===t)&&i.eventsListeners[e].splice(a,1)}))})),i):i},l.prototype.emit=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var i,s,a,r=this;if(!r.eventsListeners)return r;"string"==typeof e[0]||Array.isArray(e[0])?(i=e[0],s=e.slice(1,e.length),a=r):(i=e[0].events,s=e[0].data,a=e[0].context||r);var n=Array.isArray(i)?i:i.split(" ");return n.forEach((function(e){if(r.eventsListeners&&r.eventsListeners[e]){var t=[];r.eventsListeners[e].forEach((function(e){t.push(e)})),t.forEach((function(e){e.apply(a,s)}))}})),r},l.prototype.useModulesParams=function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(i){var s=t.modules[i];s.params&&n.extend(e,s.params)}))},l.prototype.useModules=function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(i){var s=t.modules[i],a=e[i]||{};s.instance&&Object.keys(s.instance).forEach((function(e){var i=s.instance[e];t[e]="function"==typeof i?i.bind(t):i})),s.on&&t.on&&Object.keys(s.on).forEach((function(e){t.on(e,s.on[e])})),s.create&&s.create.bind(t)(a)}))},d.components.set=function(e){this.use&&this.use(e)},l.installModule=function(e){for(var t=[],i=arguments.length-1;i-- >0;)t[i]=arguments[i+1];var s=this;s.prototype.modules||(s.prototype.modules={});var a=e.name||Object.keys(s.prototype.modules).length+"_"+n.now();return s.prototype.modules[a]=e,e.proto&&Object.keys(e.proto).forEach((function(t){s.prototype[t]=e.proto[t]})),e.static&&Object.keys(e.static).forEach((function(t){s[t]=e.static[t]})),e.install&&e.install.apply(s,t),s},l.use=function(e){for(var t=[],i=arguments.length-1;i-- >0;)t[i]=arguments[i+1];var s=this;return Array.isArray(e)?(e.forEach((function(e){return s.installModule(e)})),s):s.installModule.apply(s,[e].concat(t))},Object.defineProperties(l,d);var h={updateSize:function(){var e,t,i=this.$el;e=void 0!==this.params.width?this.params.width:i[0].clientWidth,t=void 0!==this.params.height?this.params.height:i[0].clientHeight,0===e&&this.isHorizontal()||0===t&&this.isVertical()||(e=e-parseInt(i.css("padding-left"),10)-parseInt(i.css("padding-right"),10),t=t-parseInt(i.css("padding-top"),10)-parseInt(i.css("padding-bottom"),10),n.extend(this,{width:e,height:t,size:this.isHorizontal()?e:t}))},updateSlides:function(){var e=this.params,i=this.$wrapperEl,s=this.size,a=this.rtlTranslate,r=this.wrongRTL,o=this.virtual&&e.virtual.enabled,l=o?this.virtual.slides.length:this.slides.length,d=i.children("."+this.params.slideClass),h=o?this.virtual.slides.length:d.length,p=[],c=[],u=[];function v(t){return!e.cssMode||t!==d.length-1}var f=e.slidesOffsetBefore;"function"==typeof f&&(f=e.slidesOffsetBefore.call(this));var m=e.slidesOffsetAfter;"function"==typeof m&&(m=e.slidesOffsetAfter.call(this));var g=this.snapGrid.length,b=this.snapGrid.length,w=e.spaceBetween,y=-f,x=0,T=0;if(void 0!==s){var E,S;"string"==typeof w&&w.indexOf("%")>=0&&(w=parseFloat(w.replace("%",""))/100*s),this.virtualSize=-w,a?d.css({marginLeft:"",marginTop:""}):d.css({marginRight:"",marginBottom:""}),e.slidesPerColumn>1&&(E=Math.floor(h/e.slidesPerColumn)===h/this.params.slidesPerColumn?h:Math.ceil(h/e.slidesPerColumn)*e.slidesPerColumn,"auto"!==e.slidesPerView&&"row"===e.slidesPerColumnFill&&(E=Math.max(E,e.slidesPerView*e.slidesPerColumn)));for(var C,M=e.slidesPerColumn,P=E/M,z=Math.floor(h/e.slidesPerColumn),k=0;k<h;k+=1){S=0;var $=d.eq(k);if(e.slidesPerColumn>1){var L=void 0,I=void 0,D=void 0;if("row"===e.slidesPerColumnFill&&e.slidesPerGroup>1){var O=Math.floor(k/(e.slidesPerGroup*e.slidesPerColumn)),A=k-e.slidesPerColumn*e.slidesPerGroup*O,G=0===O?e.slidesPerGroup:Math.min(Math.ceil((h-O*M*e.slidesPerGroup)/M),e.slidesPerGroup);L=(I=A-(D=Math.floor(A/G))*G+O*e.slidesPerGroup)+D*E/M,$.css({"-webkit-box-ordinal-group":L,"-moz-box-ordinal-group":L,"-ms-flex-order":L,"-webkit-order":L,order:L})}else"column"===e.slidesPerColumnFill?(D=k-(I=Math.floor(k/M))*M,(I>z||I===z&&D===M-1)&&(D+=1)>=M&&(D=0,I+=1)):I=k-(D=Math.floor(k/P))*P;$.css("margin-"+(this.isHorizontal()?"top":"left"),0!==D&&e.spaceBetween&&e.spaceBetween+"px")}if("none"!==$.css("display")){if("auto"===e.slidesPerView){var H=t.getComputedStyle($[0],null),B=$[0].style.transform,N=$[0].style.webkitTransform;if(B&&($[0].style.transform="none"),N&&($[0].style.webkitTransform="none"),e.roundLengths)S=this.isHorizontal()?$.outerWidth(!0):$.outerHeight(!0);else if(this.isHorizontal()){var X=parseFloat(H.getPropertyValue("width")),V=parseFloat(H.getPropertyValue("padding-left")),Y=parseFloat(H.getPropertyValue("padding-right")),F=parseFloat(H.getPropertyValue("margin-left")),W=parseFloat(H.getPropertyValue("margin-right")),R=H.getPropertyValue("box-sizing");S=R&&"border-box"===R?X+F+W:X+V+Y+F+W}else{var q=parseFloat(H.getPropertyValue("height")),j=parseFloat(H.getPropertyValue("padding-top")),K=parseFloat(H.getPropertyValue("padding-bottom")),U=parseFloat(H.getPropertyValue("margin-top")),_=parseFloat(H.getPropertyValue("margin-bottom")),Z=H.getPropertyValue("box-sizing");S=Z&&"border-box"===Z?q+U+_:q+j+K+U+_}B&&($[0].style.transform=B),N&&($[0].style.webkitTransform=N),e.roundLengths&&(S=Math.floor(S))}else S=(s-(e.slidesPerView-1)*w)/e.slidesPerView,e.roundLengths&&(S=Math.floor(S)),d[k]&&(this.isHorizontal()?d[k].style.width=S+"px":d[k].style.height=S+"px");d[k]&&(d[k].swiperSlideSize=S),u.push(S),e.centeredSlides?(y=y+S/2+x/2+w,0===x&&0!==k&&(y=y-s/2-w),0===k&&(y=y-s/2-w),Math.abs(y)<.001&&(y=0),e.roundLengths&&(y=Math.floor(y)),T%e.slidesPerGroup==0&&p.push(y),c.push(y)):(e.roundLengths&&(y=Math.floor(y)),(T-Math.min(this.params.slidesPerGroupSkip,T))%this.params.slidesPerGroup==0&&p.push(y),c.push(y),y=y+S+w),this.virtualSize+=S+w,x=S,T+=1}}if(this.virtualSize=Math.max(this.virtualSize,s)+m,a&&r&&("slide"===e.effect||"coverflow"===e.effect)&&i.css({width:this.virtualSize+e.spaceBetween+"px"}),e.setWrapperSize&&(this.isHorizontal()?i.css({width:this.virtualSize+e.spaceBetween+"px"}):i.css({height:this.virtualSize+e.spaceBetween+"px"})),e.slidesPerColumn>1&&(this.virtualSize=(S+e.spaceBetween)*E,this.virtualSize=Math.ceil(this.virtualSize/e.slidesPerColumn)-e.spaceBetween,this.isHorizontal()?i.css({width:this.virtualSize+e.spaceBetween+"px"}):i.css({height:this.virtualSize+e.spaceBetween+"px"}),e.centeredSlides)){C=[];for(var Q=0;Q<p.length;Q+=1){var J=p[Q];e.roundLengths&&(J=Math.floor(J)),p[Q]<this.virtualSize+p[0]&&C.push(J)}p=C}if(!e.centeredSlides){C=[];for(var ee=0;ee<p.length;ee+=1){var te=p[ee];e.roundLengths&&(te=Math.floor(te)),p[ee]<=this.virtualSize-s&&C.push(te)}p=C,Math.floor(this.virtualSize-s)-Math.floor(p[p.length-1])>1&&p.push(this.virtualSize-s)}if(0===p.length&&(p=[0]),0!==e.spaceBetween&&(this.isHorizontal()?a?d.filter(v).css({marginLeft:w+"px"}):d.filter(v).css({marginRight:w+"px"}):d.filter(v).css({marginBottom:w+"px"})),e.centeredSlides&&e.centeredSlidesBounds){var ie=0;u.forEach((function(t){ie+=t+(e.spaceBetween?e.spaceBetween:0)}));var se=(ie-=e.spaceBetween)-s;p=p.map((function(e){return e<0?-f:e>se?se+m:e}))}if(e.centerInsufficientSlides){var ae=0;if(u.forEach((function(t){ae+=t+(e.spaceBetween?e.spaceBetween:0)})),(ae-=e.spaceBetween)<s){var re=(s-ae)/2;p.forEach((function(e,t){p[t]=e-re})),c.forEach((function(e,t){c[t]=e+re}))}}n.extend(this,{slides:d,snapGrid:p,slidesGrid:c,slidesSizesGrid:u}),h!==l&&this.emit("slidesLengthChange"),p.length!==g&&(this.params.watchOverflow&&this.checkOverflow(),this.emit("snapGridLengthChange")),c.length!==b&&this.emit("slidesGridLengthChange"),(e.watchSlidesProgress||e.watchSlidesVisibility)&&this.updateSlidesOffset()}},updateAutoHeight:function(e){var t,i=[],s=0;if("number"==typeof e?this.setTransition(e):!0===e&&this.setTransition(this.params.speed),"auto"!==this.params.slidesPerView&&this.params.slidesPerView>1)if(this.params.centeredSlides)i.push.apply(i,this.visibleSlides);else for(t=0;t<Math.ceil(this.params.slidesPerView);t+=1){var a=this.activeIndex+t;if(a>this.slides.length)break;i.push(this.slides.eq(a)[0])}else i.push(this.slides.eq(this.activeIndex)[0]);for(t=0;t<i.length;t+=1)if(void 0!==i[t]){var r=i[t].offsetHeight;s=r>s?r:s}s&&this.$wrapperEl.css("height",s+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this.params,i=this.slides,a=this.rtlTranslate;if(0!==i.length){void 0===i[0].swiperSlideOffset&&this.updateSlidesOffset();var r=-e;a&&(r=e),i.removeClass(t.slideVisibleClass),this.visibleSlidesIndexes=[],this.visibleSlides=[];for(var n=0;n<i.length;n+=1){var o=i[n],l=(r+(t.centeredSlides?this.minTranslate():0)-o.swiperSlideOffset)/(o.swiperSlideSize+t.spaceBetween);if(t.watchSlidesVisibility||t.centeredSlides&&t.autoHeight){var d=-(r-o.swiperSlideOffset),h=d+this.slidesSizesGrid[n];(d>=0&&d<this.size-1||h>1&&h<=this.size||d<=0&&h>=this.size)&&(this.visibleSlides.push(o),this.visibleSlidesIndexes.push(n),i.eq(n).addClass(t.slideVisibleClass))}o.progress=a?-l:l}this.visibleSlides=s(this.visibleSlides)}},updateProgress:function(e){if(void 0===e){var t=this.rtlTranslate?-1:1;e=this&&this.translate&&this.translate*t||0}var i=this.params,s=this.maxTranslate()-this.minTranslate(),a=this.progress,r=this.isBeginning,o=this.isEnd,l=r,d=o;0===s?(a=0,r=!0,o=!0):(r=(a=(e-this.minTranslate())/s)<=0,o=a>=1),n.extend(this,{progress:a,isBeginning:r,isEnd:o}),(i.watchSlidesProgress||i.watchSlidesVisibility||i.centeredSlides&&i.autoHeight)&&this.updateSlidesProgress(e),r&&!l&&this.emit("reachBeginning toEdge"),o&&!d&&this.emit("reachEnd toEdge"),(l&&!r||d&&!o)&&this.emit("fromEdge"),this.emit("progress",a)},updateSlidesClasses:function(){var e,t=this.slides,i=this.params,s=this.$wrapperEl,a=this.activeIndex,r=this.realIndex,n=this.virtual&&i.virtual.enabled;t.removeClass(i.slideActiveClass+" "+i.slideNextClass+" "+i.slidePrevClass+" "+i.slideDuplicateActiveClass+" "+i.slideDuplicateNextClass+" "+i.slideDuplicatePrevClass),(e=n?this.$wrapperEl.find("."+i.slideClass+'[data-swiper-slide-index="'+a+'"]'):t.eq(a)).addClass(i.slideActiveClass),i.loop&&(e.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+r+'"]').addClass(i.slideDuplicateActiveClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+r+'"]').addClass(i.slideDuplicateActiveClass));var o=e.nextAll("."+i.slideClass).eq(0).addClass(i.slideNextClass);i.loop&&0===o.length&&(o=t.eq(0)).addClass(i.slideNextClass);var l=e.prevAll("."+i.slideClass).eq(0).addClass(i.slidePrevClass);i.loop&&0===l.length&&(l=t.eq(-1)).addClass(i.slidePrevClass),i.loop&&(o.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+o.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+o.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass),l.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass))},updateActiveIndex:function(e){var t,i=this.rtlTranslate?this.translate:-this.translate,s=this.slidesGrid,a=this.snapGrid,r=this.params,o=this.activeIndex,l=this.realIndex,d=this.snapIndex,h=e;if(void 0===h){for(var p=0;p<s.length;p+=1)void 0!==s[p+1]?i>=s[p]&&i<s[p+1]-(s[p+1]-s[p])/2?h=p:i>=s[p]&&i<s[p+1]&&(h=p+1):i>=s[p]&&(h=p);r.normalizeSlideIndex&&(h<0||void 0===h)&&(h=0)}if(a.indexOf(i)>=0)t=a.indexOf(i);else{var c=Math.min(r.slidesPerGroupSkip,h);t=c+Math.floor((h-c)/r.slidesPerGroup)}if(t>=a.length&&(t=a.length-1),h!==o){var u=parseInt(this.slides.eq(h).attr("data-swiper-slide-index")||h,10);n.extend(this,{snapIndex:t,realIndex:u,previousIndex:o,activeIndex:h}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),l!==u&&this.emit("realIndexChange"),(this.initialized||this.runCallbacksOnInit)&&this.emit("slideChange")}else t!==d&&(this.snapIndex=t,this.emit("snapIndexChange"))},updateClickedSlide:function(e){var t=this.params,i=s(e.target).closest("."+t.slideClass)[0],a=!1;if(i)for(var r=0;r<this.slides.length;r+=1)this.slides[r]===i&&(a=!0);if(!i||!a)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=i,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(s(i).attr("data-swiper-slide-index"),10):this.clickedIndex=s(i).index(),t.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}};var p={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this.params,i=this.rtlTranslate,s=this.translate,a=this.$wrapperEl;if(t.virtualTranslate)return i?-s:s;if(t.cssMode)return s;var r=n.getTranslate(a[0],e);return i&&(r=-r),r||0},setTranslate:function(e,t){var i=this.rtlTranslate,s=this.params,a=this.$wrapperEl,r=this.wrapperEl,n=this.progress,o=0,l=0;this.isHorizontal()?o=i?-e:e:l=e,s.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),s.cssMode?r[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-o:-l:s.virtualTranslate||a.transform("translate3d("+o+"px, "+l+"px, 0px)"),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?o:l;var d=this.maxTranslate()-this.minTranslate();(0===d?0:(e-this.minTranslate())/d)!==n&&this.updateProgress(e),this.emit("setTranslate",this.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,i,s,a){var r;void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),void 0===s&&(s=!0);var n=this,o=n.params,l=n.wrapperEl;if(n.animating&&o.preventInteractionOnTransition)return!1;var d,h=n.minTranslate(),p=n.maxTranslate();if(d=s&&e>h?h:s&&e<p?p:e,n.updateProgress(d),o.cssMode){var c=n.isHorizontal();return 0===t?l[c?"scrollLeft":"scrollTop"]=-d:l.scrollTo?l.scrollTo(((r={})[c?"left":"top"]=-d,r.behavior="smooth",r)):l[c?"scrollLeft":"scrollTop"]=-d,!0}return 0===t?(n.setTransition(0),n.setTranslate(d),i&&(n.emit("beforeTransitionStart",t,a),n.emit("transitionEnd"))):(n.setTransition(t),n.setTranslate(d),i&&(n.emit("beforeTransitionStart",t,a),n.emit("transitionStart")),n.animating||(n.animating=!0,n.onTranslateToWrapperTransitionEnd||(n.onTranslateToWrapperTransitionEnd=function(e){n&&!n.destroyed&&e.target===this&&(n.$wrapperEl[0].removeEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.$wrapperEl[0].removeEventListener("webkitTransitionEnd",n.onTranslateToWrapperTransitionEnd),n.onTranslateToWrapperTransitionEnd=null,delete n.onTranslateToWrapperTransitionEnd,i&&n.emit("transitionEnd"))}),n.$wrapperEl[0].addEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.$wrapperEl[0].addEventListener("webkitTransitionEnd",n.onTranslateToWrapperTransitionEnd))),!0}};var c={setTransition:function(e,t){this.params.cssMode||this.$wrapperEl.transition(e),this.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var i=this.activeIndex,s=this.params,a=this.previousIndex;if(!s.cssMode){s.autoHeight&&this.updateAutoHeight();var r=t;if(r||(r=i>a?"next":i<a?"prev":"reset"),this.emit("transitionStart"),e&&i!==a){if("reset"===r)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),"next"===r?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}}},transitionEnd:function(e,t){void 0===e&&(e=!0);var i=this.activeIndex,s=this.previousIndex,a=this.params;if(this.animating=!1,!a.cssMode){this.setTransition(0);var r=t;if(r||(r=i>s?"next":i<s?"prev":"reset"),this.emit("transitionEnd"),e&&i!==s){if("reset"===r)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),"next"===r?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}}};var u={slideTo:function(e,t,i,s){var a;void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0);var r=this,n=e;n<0&&(n=0);var o=r.params,l=r.snapGrid,d=r.slidesGrid,h=r.previousIndex,p=r.activeIndex,c=r.rtlTranslate,u=r.wrapperEl;if(r.animating&&o.preventInteractionOnTransition)return!1;var v=Math.min(r.params.slidesPerGroupSkip,n),f=v+Math.floor((n-v)/r.params.slidesPerGroup);f>=l.length&&(f=l.length-1),(p||o.initialSlide||0)===(h||0)&&i&&r.emit("beforeSlideChangeStart");var m,g=-l[f];if(r.updateProgress(g),o.normalizeSlideIndex)for(var b=0;b<d.length;b+=1)-Math.floor(100*g)>=Math.floor(100*d[b])&&(n=b);if(r.initialized&&n!==p){if(!r.allowSlideNext&&g<r.translate&&g<r.minTranslate())return!1;if(!r.allowSlidePrev&&g>r.translate&&g>r.maxTranslate()&&(p||0)!==n)return!1}if(m=n>p?"next":n<p?"prev":"reset",c&&-g===r.translate||!c&&g===r.translate)return r.updateActiveIndex(n),o.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==o.effect&&r.setTranslate(g),"reset"!==m&&(r.transitionStart(i,m),r.transitionEnd(i,m)),!1;if(o.cssMode){var w=r.isHorizontal();return 0===t?u[w?"scrollLeft":"scrollTop"]=-g:u.scrollTo?u.scrollTo(((a={})[w?"left":"top"]=-g,a.behavior="smooth",a)):u[w?"scrollLeft":"scrollTop"]=-g,!0}return 0===t?(r.setTransition(0),r.setTranslate(g),r.updateActiveIndex(n),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,s),r.transitionStart(i,m),r.transitionEnd(i,m)):(r.setTransition(t),r.setTranslate(g),r.updateActiveIndex(n),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,s),r.transitionStart(i,m),r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(i,m))}),r.$wrapperEl[0].addEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(e,t,i,s){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0);var a=e;return this.params.loop&&(a+=this.loopedSlides),this.slideTo(a,t,i,s)},slideNext:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var s=this.params,a=this.animating,r=this.activeIndex<s.slidesPerGroupSkip?1:s.slidesPerGroup;if(s.loop){if(a)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}return this.slideTo(this.activeIndex+r,e,t,i)},slidePrev:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var s=this.params,a=this.animating,r=this.snapGrid,n=this.slidesGrid,o=this.rtlTranslate;if(s.loop){if(a)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}function l(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var d,h=l(o?this.translate:-this.translate),p=r.map((function(e){return l(e)})),c=(n.map((function(e){return l(e)})),r[p.indexOf(h)],r[p.indexOf(h)-1]);return void 0===c&&s.cssMode&&r.forEach((function(e){!c&&h>=e&&(c=e)})),void 0!==c&&(d=n.indexOf(c))<0&&(d=this.activeIndex-1),this.slideTo(d,e,t,i)},slideReset:function(e,t,i){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,i)},slideToClosest:function(e,t,i,s){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===s&&(s=.5);var a=this.activeIndex,r=Math.min(this.params.slidesPerGroupSkip,a),n=r+Math.floor((a-r)/this.params.slidesPerGroup),o=this.rtlTranslate?this.translate:-this.translate;if(o>=this.snapGrid[n]){var l=this.snapGrid[n];o-l>(this.snapGrid[n+1]-l)*s&&(a+=this.params.slidesPerGroup)}else{var d=this.snapGrid[n-1];o-d<=(this.snapGrid[n]-d)*s&&(a-=this.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,this.slidesGrid.length-1),this.slideTo(a,e,t,i)},slideToClickedSlide:function(){var e,t=this,i=t.params,a=t.$wrapperEl,r="auto"===i.slidesPerView?t.slidesPerViewDynamic():i.slidesPerView,o=t.clickedIndex;if(i.loop){if(t.animating)return;e=parseInt(s(t.clickedSlide).attr("data-swiper-slide-index"),10),i.centeredSlides?o<t.loopedSlides-r/2||o>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),o=a.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),n.nextTick((function(){t.slideTo(o)}))):t.slideTo(o):o>t.slides.length-r?(t.loopFix(),o=a.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),n.nextTick((function(){t.slideTo(o)}))):t.slideTo(o)}else t.slideTo(o)}};var v={loopCreate:function(){var t=this,i=t.params,a=t.$wrapperEl;a.children("."+i.slideClass+"."+i.slideDuplicateClass).remove();var r=a.children("."+i.slideClass);if(i.loopFillGroupWithBlank){var n=i.slidesPerGroup-r.length%i.slidesPerGroup;if(n!==i.slidesPerGroup){for(var o=0;o<n;o+=1){var l=s(e.createElement("div")).addClass(i.slideClass+" "+i.slideBlankClass);a.append(l)}r=a.children("."+i.slideClass)}}"auto"!==i.slidesPerView||i.loopedSlides||(i.loopedSlides=r.length),t.loopedSlides=Math.ceil(parseFloat(i.loopedSlides||i.slidesPerView,10)),t.loopedSlides+=i.loopAdditionalSlides,t.loopedSlides>r.length&&(t.loopedSlides=r.length);var d=[],h=[];r.each((function(e,i){var a=s(i);e<t.loopedSlides&&h.push(i),e<r.length&&e>=r.length-t.loopedSlides&&d.push(i),a.attr("data-swiper-slide-index",e)}));for(var p=0;p<h.length;p+=1)a.append(s(h[p].cloneNode(!0)).addClass(i.slideDuplicateClass));for(var c=d.length-1;c>=0;c-=1)a.prepend(s(d[c].cloneNode(!0)).addClass(i.slideDuplicateClass))},loopFix:function(){this.emit("beforeLoopFix");var e,t=this.activeIndex,i=this.slides,s=this.loopedSlides,a=this.allowSlidePrev,r=this.allowSlideNext,n=this.snapGrid,o=this.rtlTranslate;this.allowSlidePrev=!0,this.allowSlideNext=!0;var l=-n[t]-this.getTranslate();if(t<s)e=i.length-3*s+t,e+=s,this.slideTo(e,0,!1,!0)&&0!==l&&this.setTranslate((o?-this.translate:this.translate)-l);else if(t>=i.length-s){e=-i.length+t+s,e+=s,this.slideTo(e,0,!1,!0)&&0!==l&&this.setTranslate((o?-this.translate:this.translate)-l)}this.allowSlidePrev=a,this.allowSlideNext=r,this.emit("loopFix")},loopDestroy:function(){var e=this.$wrapperEl,t=this.params,i=this.slides;e.children("."+t.slideClass+"."+t.slideDuplicateClass+",."+t.slideClass+"."+t.slideBlankClass).remove(),i.removeAttr("data-swiper-slide-index")}};var f={setGrabCursor:function(e){if(!(o.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)){var t=this.el;t.style.cursor="move",t.style.cursor=e?"-webkit-grabbing":"-webkit-grab",t.style.cursor=e?"-moz-grabbin":"-moz-grab",t.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){o.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this.el.style.cursor="")}};var m,g,b,w,y,x,T,E,S,C,M,P,z,k,$,L={appendSlide:function(e){var t=this.$wrapperEl,i=this.params;if(i.loop&&this.loopDestroy(),"object"==typeof e&&"length"in e)for(var s=0;s<e.length;s+=1)e[s]&&t.append(e[s]);else t.append(e);i.loop&&this.loopCreate(),i.observer&&o.observer||this.update()},prependSlide:function(e){var t=this.params,i=this.$wrapperEl,s=this.activeIndex;t.loop&&this.loopDestroy();var a=s+1;if("object"==typeof e&&"length"in e){for(var r=0;r<e.length;r+=1)e[r]&&i.prepend(e[r]);a=s+e.length}else i.prepend(e);t.loop&&this.loopCreate(),t.observer&&o.observer||this.update(),this.slideTo(a,0,!1)},addSlide:function(e,t){var i=this.$wrapperEl,s=this.params,a=this.activeIndex;s.loop&&(a-=this.loopedSlides,this.loopDestroy(),this.slides=i.children("."+s.slideClass));var r=this.slides.length;if(e<=0)this.prependSlide(t);else if(e>=r)this.appendSlide(t);else{for(var n=a>e?a+1:a,l=[],d=r-1;d>=e;d-=1){var h=this.slides.eq(d);h.remove(),l.unshift(h)}if("object"==typeof t&&"length"in t){for(var p=0;p<t.length;p+=1)t[p]&&i.append(t[p]);n=a>e?a+t.length:a}else i.append(t);for(var c=0;c<l.length;c+=1)i.append(l[c]);s.loop&&this.loopCreate(),s.observer&&o.observer||this.update(),s.loop?this.slideTo(n+this.loopedSlides,0,!1):this.slideTo(n,0,!1)}},removeSlide:function(e){var t=this.params,i=this.$wrapperEl,s=this.activeIndex;t.loop&&(s-=this.loopedSlides,this.loopDestroy(),this.slides=i.children("."+t.slideClass));var a,r=s;if("object"==typeof e&&"length"in e){for(var n=0;n<e.length;n+=1)a=e[n],this.slides[a]&&this.slides.eq(a).remove(),a<r&&(r-=1);r=Math.max(r,0)}else a=e,this.slides[a]&&this.slides.eq(a).remove(),a<r&&(r-=1),r=Math.max(r,0);t.loop&&this.loopCreate(),t.observer&&o.observer||this.update(),t.loop?this.slideTo(r+this.loopedSlides,0,!1):this.slideTo(r,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},I=(m=t.navigator.platform,g=t.navigator.userAgent,b={ios:!1,android:!1,androidChrome:!1,desktop:!1,iphone:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!(!t.cordova&&!t.phonegap),phonegap:!(!t.cordova&&!t.phonegap),electron:!1},w=t.screen.width,y=t.screen.height,x=g.match(/(Android);?[\s\/]+([\d.]+)?/),T=g.match(/(iPad).*OS\s([\d_]+)/),E=g.match(/(iPod)(.*OS\s([\d_]+))?/),S=!T&&g.match(/(iPhone\sOS|iOS)\s([\d_]+)/),C=g.indexOf("MSIE ")>=0||g.indexOf("Trident/")>=0,M=g.indexOf("Edge/")>=0,P=g.indexOf("Gecko/")>=0&&g.indexOf("Firefox/")>=0,z="Win32"===m,k=g.toLowerCase().indexOf("electron")>=0,$="MacIntel"===m,!T&&$&&o.touch&&(1024===w&&1366===y||834===w&&1194===y||834===w&&1112===y||768===w&&1024===y)&&(T=g.match(/(Version)\/([\d.]+)/),$=!1),b.ie=C,b.edge=M,b.firefox=P,x&&!z&&(b.os="android",b.osVersion=x[2],b.android=!0,b.androidChrome=g.toLowerCase().indexOf("chrome")>=0),(T||S||E)&&(b.os="ios",b.ios=!0),S&&!E&&(b.osVersion=S[2].replace(/_/g,"."),b.iphone=!0),T&&(b.osVersion=T[2].replace(/_/g,"."),b.ipad=!0),E&&(b.osVersion=E[3]?E[3].replace(/_/g,"."):null,b.ipod=!0),b.ios&&b.osVersion&&g.indexOf("Version/")>=0&&"10"===b.osVersion.split(".")[0]&&(b.osVersion=g.toLowerCase().split("version/")[1].split(" ")[0]),b.webView=!(!(S||T||E)||!g.match(/.*AppleWebKit(?!.*Safari)/i)&&!t.navigator.standalone)||t.matchMedia&&t.matchMedia("(display-mode: standalone)").matches,b.webview=b.webView,b.standalone=b.webView,b.desktop=!(b.ios||b.android)||k,b.desktop&&(b.electron=k,b.macos=$,b.windows=z,b.macos&&(b.os="macos"),b.windows&&(b.os="windows")),b.pixelRatio=t.devicePixelRatio||1,b);function D(i){var a=this.touchEventsData,r=this.params,o=this.touches;if(!this.animating||!r.preventInteractionOnTransition){var l=i;l.originalEvent&&(l=l.originalEvent);var d=s(l.target);if(("wrapper"!==r.touchEventsTarget||d.closest(this.wrapperEl).length)&&(a.isTouchEvent="touchstart"===l.type,(a.isTouchEvent||!("which"in l)||3!==l.which)&&!(!a.isTouchEvent&&"button"in l&&l.button>0||a.isTouched&&a.isMoved)))if(r.noSwiping&&d.closest(r.noSwipingSelector?r.noSwipingSelector:"."+r.noSwipingClass)[0])this.allowClick=!0;else if(!r.swipeHandler||d.closest(r.swipeHandler)[0]){o.currentX="touchstart"===l.type?l.targetTouches[0].pageX:l.pageX,o.currentY="touchstart"===l.type?l.targetTouches[0].pageY:l.pageY;var h=o.currentX,p=o.currentY,c=r.edgeSwipeDetection||r.iOSEdgeSwipeDetection,u=r.edgeSwipeThreshold||r.iOSEdgeSwipeThreshold;if(!c||!(h<=u||h>=t.screen.width-u)){if(n.extend(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=p,a.touchStartTime=n.now(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,r.threshold>0&&(a.allowThresholdMove=!1),"touchstart"!==l.type){var v=!0;d.is(a.formElements)&&(v=!1),e.activeElement&&s(e.activeElement).is(a.formElements)&&e.activeElement!==d[0]&&e.activeElement.blur();var f=v&&this.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||f)&&l.preventDefault()}this.emit("touchStart",l)}}}}function O(t){var i=this.touchEventsData,a=this.params,r=this.touches,o=this.rtlTranslate,l=t;if(l.originalEvent&&(l=l.originalEvent),i.isTouched){if(!i.isTouchEvent||"mousemove"!==l.type){var d="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),h="touchmove"===l.type?d.pageX:l.pageX,p="touchmove"===l.type?d.pageY:l.pageY;if(l.preventedByNestedSwiper)return r.startX=h,void(r.startY=p);if(!this.allowTouchMove)return this.allowClick=!1,void(i.isTouched&&(n.extend(r,{startX:h,startY:p,currentX:h,currentY:p}),i.touchStartTime=n.now()));if(i.isTouchEvent&&a.touchReleaseOnEdges&&!a.loop)if(this.isVertical()){if(p<r.startY&&this.translate<=this.maxTranslate()||p>r.startY&&this.translate>=this.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(h<r.startX&&this.translate<=this.maxTranslate()||h>r.startX&&this.translate>=this.minTranslate())return;if(i.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&s(l.target).is(i.formElements))return i.isMoved=!0,void(this.allowClick=!1);if(i.allowTouchCallbacks&&this.emit("touchMove",l),!(l.targetTouches&&l.targetTouches.length>1)){r.currentX=h,r.currentY=p;var c=r.currentX-r.startX,u=r.currentY-r.startY;if(!(this.params.threshold&&Math.sqrt(Math.pow(c,2)+Math.pow(u,2))<this.params.threshold)){var v;if(void 0===i.isScrolling)this.isHorizontal()&&r.currentY===r.startY||this.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:c*c+u*u>=25&&(v=180*Math.atan2(Math.abs(u),Math.abs(c))/Math.PI,i.isScrolling=this.isHorizontal()?v>a.touchAngle:90-v>a.touchAngle);if(i.isScrolling&&this.emit("touchMoveOpposite",l),void 0===i.startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(i.startMoving=!0)),i.isScrolling)i.isTouched=!1;else if(i.startMoving){this.allowClick=!1,a.cssMode||l.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&l.stopPropagation(),i.isMoved||(a.loop&&this.loopFix(),i.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,!a.grabCursor||!0!==this.allowSlideNext&&!0!==this.allowSlidePrev||this.setGrabCursor(!0),this.emit("sliderFirstMove",l)),this.emit("sliderMove",l),i.isMoved=!0;var f=this.isHorizontal()?c:u;r.diff=f,f*=a.touchRatio,o&&(f=-f),this.swipeDirection=f>0?"prev":"next",i.currentTranslate=f+i.startTranslate;var m=!0,g=a.resistanceRatio;if(a.touchReleaseOnEdges&&(g=0),f>0&&i.currentTranslate>this.minTranslate()?(m=!1,a.resistance&&(i.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+i.startTranslate+f,g))):f<0&&i.currentTranslate<this.maxTranslate()&&(m=!1,a.resistance&&(i.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-i.startTranslate-f,g))),m&&(l.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),a.threshold>0){if(!(Math.abs(f)>a.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,void(r.diff=this.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}a.followFinger&&!a.cssMode&&((a.freeMode||a.watchSlidesProgress||a.watchSlidesVisibility)&&(this.updateActiveIndex(),this.updateSlidesClasses()),a.freeMode&&(0===i.velocities.length&&i.velocities.push({position:r[this.isHorizontal()?"startX":"startY"],time:i.touchStartTime}),i.velocities.push({position:r[this.isHorizontal()?"currentX":"currentY"],time:n.now()})),this.updateProgress(i.currentTranslate),this.setTranslate(i.currentTranslate))}}}}}else i.startMoving&&i.isScrolling&&this.emit("touchMoveOpposite",l)}function A(e){var t=this,i=t.touchEventsData,s=t.params,a=t.touches,r=t.rtlTranslate,o=t.$wrapperEl,l=t.slidesGrid,d=t.snapGrid,h=e;if(h.originalEvent&&(h=h.originalEvent),i.allowTouchCallbacks&&t.emit("touchEnd",h),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&s.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);s.grabCursor&&i.isMoved&&i.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var p,c=n.now(),u=c-i.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(h),t.emit("tap click",h),u<300&&c-i.lastClickTime<300&&t.emit("doubleTap doubleClick",h)),i.lastClickTime=n.now(),n.nextTick((function(){t.destroyed||(t.allowClick=!0)})),!i.isTouched||!i.isMoved||!t.swipeDirection||0===a.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,p=s.followFinger?r?t.translate:-t.translate:-i.currentTranslate,!s.cssMode)if(s.freeMode){if(p<-t.minTranslate())return void t.slideTo(t.activeIndex);if(p>-t.maxTranslate())return void(t.slides.length<d.length?t.slideTo(d.length-1):t.slideTo(t.slides.length-1));if(s.freeModeMomentum){if(i.velocities.length>1){var v=i.velocities.pop(),f=i.velocities.pop(),m=v.position-f.position,g=v.time-f.time;t.velocity=m/g,t.velocity/=2,Math.abs(t.velocity)<s.freeModeMinimumVelocity&&(t.velocity=0),(g>150||n.now()-v.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=s.freeModeMomentumVelocityRatio,i.velocities.length=0;var b=1e3*s.freeModeMomentumRatio,w=t.velocity*b,y=t.translate+w;r&&(y=-y);var x,T,E=!1,S=20*Math.abs(t.velocity)*s.freeModeMomentumBounceRatio;if(y<t.maxTranslate())s.freeModeMomentumBounce?(y+t.maxTranslate()<-S&&(y=t.maxTranslate()-S),x=t.maxTranslate(),E=!0,i.allowMomentumBounce=!0):y=t.maxTranslate(),s.loop&&s.centeredSlides&&(T=!0);else if(y>t.minTranslate())s.freeModeMomentumBounce?(y-t.minTranslate()>S&&(y=t.minTranslate()+S),x=t.minTranslate(),E=!0,i.allowMomentumBounce=!0):y=t.minTranslate(),s.loop&&s.centeredSlides&&(T=!0);else if(s.freeModeSticky){for(var C,M=0;M<d.length;M+=1)if(d[M]>-y){C=M;break}y=-(y=Math.abs(d[C]-y)<Math.abs(d[C-1]-y)||"next"===t.swipeDirection?d[C]:d[C-1])}if(T&&t.once("transitionEnd",(function(){t.loopFix()})),0!==t.velocity){if(b=r?Math.abs((-y-t.translate)/t.velocity):Math.abs((y-t.translate)/t.velocity),s.freeModeSticky){var P=Math.abs((r?-y:y)-t.translate),z=t.slidesSizesGrid[t.activeIndex];b=P<z?s.speed:P<2*z?1.5*s.speed:2.5*s.speed}}else if(s.freeModeSticky)return void t.slideToClosest();s.freeModeMomentumBounce&&E?(t.updateProgress(x),t.setTransition(b),t.setTranslate(y),t.transitionStart(!0,t.swipeDirection),t.animating=!0,o.transitionEnd((function(){t&&!t.destroyed&&i.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(s.speed),t.setTranslate(x),o.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()})))}))):t.velocity?(t.updateProgress(y),t.setTransition(b),t.setTranslate(y),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,o.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()})))):t.updateProgress(y),t.updateActiveIndex(),t.updateSlidesClasses()}else if(s.freeModeSticky)return void t.slideToClosest();(!s.freeModeMomentum||u>=s.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var k=0,$=t.slidesSizesGrid[0],L=0;L<l.length;L+=L<s.slidesPerGroupSkip?1:s.slidesPerGroup){var I=L<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;void 0!==l[L+I]?p>=l[L]&&p<l[L+I]&&(k=L,$=l[L+I]-l[L]):p>=l[L]&&(k=L,$=l[l.length-1]-l[l.length-2])}var D=(p-l[k])/$,O=k<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(u>s.longSwipesMs){if(!s.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(D>=s.longSwipesRatio?t.slideTo(k+O):t.slideTo(k)),"prev"===t.swipeDirection&&(D>1-s.longSwipesRatio?t.slideTo(k+O):t.slideTo(k))}else{if(!s.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(h.target===t.navigation.nextEl||h.target===t.navigation.prevEl)?h.target===t.navigation.nextEl?t.slideTo(k+O):t.slideTo(k):("next"===t.swipeDirection&&t.slideTo(k+O),"prev"===t.swipeDirection&&t.slideTo(k))}}}function G(){var e=this.params,t=this.el;if(!t||0!==t.offsetWidth){e.breakpoints&&this.setBreakpoint();var i=this.allowSlideNext,s=this.allowSlidePrev,a=this.snapGrid;this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),this.updateSlidesClasses(),("auto"===e.slidesPerView||e.slidesPerView>1)&&this.isEnd&&!this.params.centeredSlides?this.slideTo(this.slides.length-1,0,!1,!0):this.slideTo(this.activeIndex,0,!1,!0),this.autoplay&&this.autoplay.running&&this.autoplay.paused&&this.autoplay.run(),this.allowSlidePrev=s,this.allowSlideNext=i,this.params.watchOverflow&&a!==this.snapGrid&&this.checkOverflow()}}function H(e){this.allowClick||(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}function B(){var e=this.wrapperEl;this.previousTranslate=this.translate,this.translate=this.isHorizontal()?-e.scrollLeft:-e.scrollTop,-0===this.translate&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();var t=this.maxTranslate()-this.minTranslate();(0===t?0:(this.translate-this.minTranslate())/t)!==this.progress&&this.updateProgress(this.translate),this.emit("setTranslate",this.translate,!1)}var N=!1;function X(){}var V={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},Y={update:h,translate:p,transition:c,slide:u,loop:v,grabCursor:f,manipulation:L,events:{attachEvents:function(){var t=this.params,i=this.touchEvents,s=this.el,a=this.wrapperEl;this.onTouchStart=D.bind(this),this.onTouchMove=O.bind(this),this.onTouchEnd=A.bind(this),t.cssMode&&(this.onScroll=B.bind(this)),this.onClick=H.bind(this);var r=!!t.nested;if(!o.touch&&o.pointerEvents)s.addEventListener(i.start,this.onTouchStart,!1),e.addEventListener(i.move,this.onTouchMove,r),e.addEventListener(i.end,this.onTouchEnd,!1);else{if(o.touch){var n=!("touchstart"!==i.start||!o.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};s.addEventListener(i.start,this.onTouchStart,n),s.addEventListener(i.move,this.onTouchMove,o.passiveListener?{passive:!1,capture:r}:r),s.addEventListener(i.end,this.onTouchEnd,n),i.cancel&&s.addEventListener(i.cancel,this.onTouchEnd,n),N||(e.addEventListener("touchstart",X),N=!0)}(t.simulateTouch&&!I.ios&&!I.android||t.simulateTouch&&!o.touch&&I.ios)&&(s.addEventListener("mousedown",this.onTouchStart,!1),e.addEventListener("mousemove",this.onTouchMove,r),e.addEventListener("mouseup",this.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&s.addEventListener("click",this.onClick,!0),t.cssMode&&a.addEventListener("scroll",this.onScroll),t.updateOnWindowResize?this.on(I.ios||I.android?"resize orientationchange observerUpdate":"resize observerUpdate",G,!0):this.on("observerUpdate",G,!0)},detachEvents:function(){var t=this.params,i=this.touchEvents,s=this.el,a=this.wrapperEl,r=!!t.nested;if(!o.touch&&o.pointerEvents)s.removeEventListener(i.start,this.onTouchStart,!1),e.removeEventListener(i.move,this.onTouchMove,r),e.removeEventListener(i.end,this.onTouchEnd,!1);else{if(o.touch){var n=!("onTouchStart"!==i.start||!o.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};s.removeEventListener(i.start,this.onTouchStart,n),s.removeEventListener(i.move,this.onTouchMove,r),s.removeEventListener(i.end,this.onTouchEnd,n),i.cancel&&s.removeEventListener(i.cancel,this.onTouchEnd,n)}(t.simulateTouch&&!I.ios&&!I.android||t.simulateTouch&&!o.touch&&I.ios)&&(s.removeEventListener("mousedown",this.onTouchStart,!1),e.removeEventListener("mousemove",this.onTouchMove,r),e.removeEventListener("mouseup",this.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&s.removeEventListener("click",this.onClick,!0),t.cssMode&&a.removeEventListener("scroll",this.onScroll),this.off(I.ios||I.android?"resize orientationchange observerUpdate":"resize observerUpdate",G)}},breakpoints:{setBreakpoint:function(){var e=this.activeIndex,t=this.initialized,i=this.loopedSlides;void 0===i&&(i=0);var s=this.params,a=this.$el,r=s.breakpoints;if(r&&(!r||0!==Object.keys(r).length)){var o=this.getBreakpoint(r);if(o&&this.currentBreakpoint!==o){var l=o in r?r[o]:void 0;l&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach((function(e){var t=l[e];void 0!==t&&(l[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")}));var d=l||this.originalParams,h=s.slidesPerColumn>1,p=d.slidesPerColumn>1;h&&!p?a.removeClass(s.containerModifierClass+"multirow "+s.containerModifierClass+"multirow-column"):!h&&p&&(a.addClass(s.containerModifierClass+"multirow"),"column"===d.slidesPerColumnFill&&a.addClass(s.containerModifierClass+"multirow-column"));var c=d.direction&&d.direction!==s.direction,u=s.loop&&(d.slidesPerView!==s.slidesPerView||c);c&&t&&this.changeDirection(),n.extend(this.params,d),n.extend(this,{allowTouchMove:this.params.allowTouchMove,allowSlideNext:this.params.allowSlideNext,allowSlidePrev:this.params.allowSlidePrev}),this.currentBreakpoint=o,u&&t&&(this.loopDestroy(),this.loopCreate(),this.updateSlides(),this.slideTo(e-i+this.loopedSlides,0,!1)),this.emit("breakpoint",d)}}},getBreakpoint:function(e){if(e){var i=!1,s=Object.keys(e).map((function(e){if("string"==typeof e&&0===e.indexOf("@")){var i=parseFloat(e.substr(1));return{value:t.innerHeight*i,point:e}}return{value:e,point:e}}));s.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var a=0;a<s.length;a+=1){var r=s[a],n=r.point;r.value<=t.innerWidth&&(i=n)}return i||"max"}}},checkOverflow:{checkOverflow:function(){var e=this.params,t=this.isLocked,i=this.slides.length>0&&e.slidesOffsetBefore+e.spaceBetween*(this.slides.length-1)+this.slides[0].offsetWidth*this.slides.length;e.slidesOffsetBefore&&e.slidesOffsetAfter&&i?this.isLocked=i<=this.size:this.isLocked=1===this.snapGrid.length,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,t!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),t&&t!==this.isLocked&&(this.isEnd=!1,this.navigation.update())}},classes:{addClasses:function(){var e=this.classNames,t=this.params,i=this.rtl,s=this.$el,a=[];a.push("initialized"),a.push(t.direction),t.freeMode&&a.push("free-mode"),t.autoHeight&&a.push("autoheight"),i&&a.push("rtl"),t.slidesPerColumn>1&&(a.push("multirow"),"column"===t.slidesPerColumnFill&&a.push("multirow-column")),I.android&&a.push("android"),I.ios&&a.push("ios"),t.cssMode&&a.push("css-mode"),a.forEach((function(i){e.push(t.containerModifierClass+i)})),s.addClass(e.join(" "))},removeClasses:function(){var e=this.$el,t=this.classNames;e.removeClass(t.join(" "))}},images:{loadImage:function(e,i,s,a,r,n){var o;function l(){n&&n()}e.complete&&r?l():i?((o=new t.Image).onload=l,o.onerror=l,a&&(o.sizes=a),s&&(o.srcset=s),i&&(o.src=i)):l()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var i=0;i<e.imagesToLoad.length;i+=1){var s=e.imagesToLoad[i];e.loadImage(s,s.currentSrc||s.getAttribute("src"),s.srcset||s.getAttribute("srcset"),s.sizes||s.getAttribute("sizes"),!0,t)}}}},F={},W=function(e){function t(){for(var i,a,r,l=[],d=arguments.length;d--;)l[d]=arguments[d];1===l.length&&l[0].constructor&&l[0].constructor===Object?r=l[0]:(a=(i=l)[0],r=i[1]),r||(r={}),r=n.extend({},r),a&&!r.el&&(r.el=a),e.call(this,r),Object.keys(Y).forEach((function(e){Object.keys(Y[e]).forEach((function(i){t.prototype[i]||(t.prototype[i]=Y[e][i])}))}));var h=this;void 0===h.modules&&(h.modules={}),Object.keys(h.modules).forEach((function(e){var t=h.modules[e];if(t.params){var i=Object.keys(t.params)[0],s=t.params[i];if("object"!=typeof s||null===s)return;if(!(i in r&&"enabled"in s))return;!0===r[i]&&(r[i]={enabled:!0}),"object"!=typeof r[i]||"enabled"in r[i]||(r[i].enabled=!0),r[i]||(r[i]={enabled:!1})}}));var p=n.extend({},V);h.useModulesParams(p),h.params=n.extend({},p,F,r),h.originalParams=n.extend({},h.params),h.passedParams=n.extend({},r),h.$=s;var c=s(h.params.el);if(a=c[0]){if(c.length>1){var u=[];return c.each((function(e,i){var s=n.extend({},r,{el:i});u.push(new t(s))})),u}var v,f,m;return a.swiper=h,c.data("swiper",h),a&&a.shadowRoot&&a.shadowRoot.querySelector?(v=s(a.shadowRoot.querySelector("."+h.params.wrapperClass))).children=function(e){return c.children(e)}:v=c.children("."+h.params.wrapperClass),n.extend(h,{$el:c,el:a,$wrapperEl:v,wrapperEl:v[0],classNames:[],slides:s(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===h.params.direction},isVertical:function(){return"vertical"===h.params.direction},rtl:"rtl"===a.dir.toLowerCase()||"rtl"===c.css("direction"),rtlTranslate:"horizontal"===h.params.direction&&("rtl"===a.dir.toLowerCase()||"rtl"===c.css("direction")),wrongRTL:"-webkit-box"===v.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEvents:(f=["touchstart","touchmove","touchend","touchcancel"],m=["mousedown","mousemove","mouseup"],o.pointerEvents&&(m=["pointerdown","pointermove","pointerup"]),h.touchEventsTouch={start:f[0],move:f[1],end:f[2],cancel:f[3]},h.touchEventsDesktop={start:m[0],move:m[1],end:m[2]},o.touch||!h.params.simulateTouch?h.touchEventsTouch:h.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:n.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.useModules(),h.params.init&&h.init(),h}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return t.prototype.slidesPerViewDynamic=function(){var e=this.params,t=this.slides,i=this.slidesGrid,s=this.size,a=this.activeIndex,r=1;if(e.centeredSlides){for(var n,o=t[a].swiperSlideSize,l=a+1;l<t.length;l+=1)t[l]&&!n&&(r+=1,(o+=t[l].swiperSlideSize)>s&&(n=!0));for(var d=a-1;d>=0;d-=1)t[d]&&!n&&(r+=1,(o+=t[d].swiperSlideSize)>s&&(n=!0))}else for(var h=a+1;h<t.length;h+=1)i[h]-i[a]<s&&(r+=1);return r},t.prototype.update=function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,i=e.params;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(s(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||s(),i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function s(){var t=e.rtlTranslate?-1*e.translate:e.translate,i=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}},t.prototype.changeDirection=function(e,t){void 0===t&&(t=!0);var i=this.params.direction;return e||(e="horizontal"===i?"vertical":"horizontal"),e===i||"horizontal"!==e&&"vertical"!==e?this:(this.$el.removeClass(""+this.params.containerModifierClass+i).addClass(""+this.params.containerModifierClass+e),this.params.direction=e,this.slides.each((function(t,i){"vertical"===e?i.style.width="":i.style.height=""})),this.emit("changeDirection"),t&&this.update(),this)},t.prototype.init=function(){this.initialized||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.params.loop?this.slideTo(this.params.initialSlide+this.loopedSlides,0,this.params.runCallbacksOnInit):this.slideTo(this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"))},t.prototype.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var i=this,s=i.params,a=i.$el,r=i.$wrapperEl,o=i.slides;return void 0===i.params||i.destroyed?null:(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),t&&(i.removeClasses(),a.removeAttr("style"),r.removeAttr("style"),o&&o.length&&o.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach((function(e){i.off(e)})),!1!==e&&(i.$el[0].swiper=null,i.$el.data("swiper",null),n.deleteProps(i)),i.destroyed=!0,null)},t.extendDefaults=function(e){n.extend(F,e)},i.extendedDefaults.get=function(){return F},i.defaults.get=function(){return V},i.Class.get=function(){return e},i.$.get=function(){return s},Object.defineProperties(t,i),t}(l),R={name:"device",proto:{device:I},static:{device:I}},q={name:"support",proto:{support:o},static:{support:o}},j={isEdge:!!t.navigator.userAgent.match(/Edge/g),isSafari:function(){var e=t.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)},K={name:"browser",proto:{browser:j},static:{browser:j}},U={name:"resize",create:function(){var e=this;n.extend(e,{resize:{resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(){t.addEventListener("resize",this.resize.resizeHandler),t.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){t.removeEventListener("resize",this.resize.resizeHandler),t.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},_={func:t.MutationObserver||t.WebkitMutationObserver,attach:function(e,i){void 0===i&&(i={});var s=this,a=new(0,_.func)((function(e){if(1!==e.length){var i=function(){s.emit("observerUpdate",e[0])};t.requestAnimationFrame?t.requestAnimationFrame(i):t.setTimeout(i,0)}else s.emit("observerUpdate",e[0])}));a.observe(e,{attributes:void 0===i.attributes||i.attributes,childList:void 0===i.childList||i.childList,characterData:void 0===i.characterData||i.characterData}),s.observer.observers.push(a)},init:function(){if(o.observer&&this.params.observer){if(this.params.observeParents)for(var e=this.$el.parents(),t=0;t<e.length;t+=1)this.observer.attach(e[t]);this.observer.attach(this.$el[0],{childList:this.params.observeSlideChildren}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach((function(e){e.disconnect()})),this.observer.observers=[]}},Z={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){n.extend(this,{observer:{init:_.init.bind(this),attach:_.attach.bind(this),destroy:_.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},Q={update:function(e){var t=this,i=t.params,s=i.slidesPerView,a=i.slidesPerGroup,r=i.centeredSlides,o=t.params.virtual,l=o.addSlidesBefore,d=o.addSlidesAfter,h=t.virtual,p=h.from,c=h.to,u=h.slides,v=h.slidesGrid,f=h.renderSlide,m=h.offset;t.updateActiveIndex();var g,b,w,y=t.activeIndex||0;g=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",r?(b=Math.floor(s/2)+a+l,w=Math.floor(s/2)+a+d):(b=s+(a-1)+l,w=a+d);var x=Math.max((y||0)-w,0),T=Math.min((y||0)+b,u.length-1),E=(t.slidesGrid[x]||0)-(t.slidesGrid[0]||0);function S(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(n.extend(t.virtual,{from:x,to:T,offset:E,slidesGrid:t.slidesGrid}),p===x&&c===T&&!e)return t.slidesGrid!==v&&E!==m&&t.slides.css(g,E+"px"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:E,from:x,to:T,slides:function(){for(var e=[],t=x;t<=T;t+=1)e.push(u[t]);return e}()}),void S();var C=[],M=[];if(e)t.$wrapperEl.find("."+t.params.slideClass).remove();else for(var P=p;P<=c;P+=1)(P<x||P>T)&&t.$wrapperEl.find("."+t.params.slideClass+'[data-swiper-slide-index="'+P+'"]').remove();for(var z=0;z<u.length;z+=1)z>=x&&z<=T&&(void 0===c||e?M.push(z):(z>c&&M.push(z),z<p&&C.push(z)));M.forEach((function(e){t.$wrapperEl.append(f(u[e],e))})),C.sort((function(e,t){return t-e})).forEach((function(e){t.$wrapperEl.prepend(f(u[e],e))})),t.$wrapperEl.children(".swiper-slide").css(g,E+"px"),S()},renderSlide:function(e,t){var i=this.params.virtual;if(i.cache&&this.virtual.cache[t])return this.virtual.cache[t];var a=i.renderSlide?s(i.renderSlide.call(this,e,t)):s('<div class="'+this.params.slideClass+'" data-swiper-slide-index="'+t+'">'+e+"</div>");return a.attr("data-swiper-slide-index")||a.attr("data-swiper-slide-index",t),i.cache&&(this.virtual.cache[t]=a),a},appendSlide:function(e){if("object"==typeof e&&"length"in e)for(var t=0;t<e.length;t+=1)e[t]&&this.virtual.slides.push(e[t]);else this.virtual.slides.push(e);this.virtual.update(!0)},prependSlide:function(e){var t=this.activeIndex,i=t+1,s=1;if(Array.isArray(e)){for(var a=0;a<e.length;a+=1)e[a]&&this.virtual.slides.unshift(e[a]);i=t+e.length,s=e.length}else this.virtual.slides.unshift(e);if(this.params.virtual.cache){var r=this.virtual.cache,n={};Object.keys(r).forEach((function(e){var t=r[e],i=t.attr("data-swiper-slide-index");i&&t.attr("data-swiper-slide-index",parseInt(i,10)+1),n[parseInt(e,10)+s]=t})),this.virtual.cache=n}this.virtual.update(!0),this.slideTo(i,0)},removeSlide:function(e){if(null!=e){var t=this.activeIndex;if(Array.isArray(e))for(var i=e.length-1;i>=0;i-=1)this.virtual.slides.splice(e[i],1),this.params.virtual.cache&&delete this.virtual.cache[e[i]],e[i]<t&&(t-=1),t=Math.max(t,0);else this.virtual.slides.splice(e,1),this.params.virtual.cache&&delete this.virtual.cache[e],e<t&&(t-=1),t=Math.max(t,0);this.virtual.update(!0),this.slideTo(t,0)}},removeAllSlides:function(){this.virtual.slides=[],this.params.virtual.cache&&(this.virtual.cache={}),this.virtual.update(!0),this.slideTo(0,0)}},J={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create:function(){n.extend(this,{virtual:{update:Q.update.bind(this),appendSlide:Q.appendSlide.bind(this),prependSlide:Q.prependSlide.bind(this),removeSlide:Q.removeSlide.bind(this),removeAllSlides:Q.removeAllSlides.bind(this),renderSlide:Q.renderSlide.bind(this),slides:this.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){if(this.params.virtual.enabled){this.classNames.push(this.params.containerModifierClass+"virtual");var e={watchSlidesProgress:!0};n.extend(this.params,e),n.extend(this.originalParams,e),this.params.initialSlide||this.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},ee={handle:function(i){var s=this.rtlTranslate,a=i;a.originalEvent&&(a=a.originalEvent);var r=a.keyCode||a.charCode;if(!this.allowSlideNext&&(this.isHorizontal()&&39===r||this.isVertical()&&40===r||34===r))return!1;if(!this.allowSlidePrev&&(this.isHorizontal()&&37===r||this.isVertical()&&38===r||33===r))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||e.activeElement&&e.activeElement.nodeName&&("input"===e.activeElement.nodeName.toLowerCase()||"textarea"===e.activeElement.nodeName.toLowerCase()))){if(this.params.keyboard.onlyInViewport&&(33===r||34===r||37===r||39===r||38===r||40===r)){var n=!1;if(this.$el.parents("."+this.params.slideClass).length>0&&0===this.$el.parents("."+this.params.slideActiveClass).length)return;var o=t.innerWidth,l=t.innerHeight,d=this.$el.offset();s&&(d.left-=this.$el[0].scrollLeft);for(var h=[[d.left,d.top],[d.left+this.width,d.top],[d.left,d.top+this.height],[d.left+this.width,d.top+this.height]],p=0;p<h.length;p+=1){var c=h[p];c[0]>=0&&c[0]<=o&&c[1]>=0&&c[1]<=l&&(n=!0)}if(!n)return}this.isHorizontal()?(33!==r&&34!==r&&37!==r&&39!==r||(a.preventDefault?a.preventDefault():a.returnValue=!1),(34!==r&&39!==r||s)&&(33!==r&&37!==r||!s)||this.slideNext(),(33!==r&&37!==r||s)&&(34!==r&&39!==r||!s)||this.slidePrev()):(33!==r&&34!==r&&38!==r&&40!==r||(a.preventDefault?a.preventDefault():a.returnValue=!1),34!==r&&40!==r||this.slideNext(),33!==r&&38!==r||this.slidePrev()),this.emit("keyPress",r)}},enable:function(){this.keyboard.enabled||(s(e).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){this.keyboard.enabled&&(s(e).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},te={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){n.extend(this,{keyboard:{enabled:!1,enable:ee.enable.bind(this),disable:ee.disable.bind(this),handle:ee.handle.bind(this)}})},on:{init:function(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy:function(){this.keyboard.enabled&&this.keyboard.disable()}}};var ie={lastScrollTime:n.now(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return t.navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var t="onwheel"in e;if(!t){var i=e.createElement("div");i.setAttribute("onwheel","return;"),t="function"==typeof i.onwheel}return!t&&e.implementation&&e.implementation.hasFeature&&!0!==e.implementation.hasFeature("","")&&(t=e.implementation.hasFeature("Events.wheel","3.0")),t}()?"wheel":"mousewheel"},normalize:function(e){var t=0,i=0,s=0,a=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),s=10*t,a=10*i,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(s=e.deltaX),e.shiftKey&&!s&&(s=a,a=0),(s||a)&&e.deltaMode&&(1===e.deltaMode?(s*=40,a*=40):(s*=800,a*=800)),s&&!t&&(t=s<1?-1:1),a&&!i&&(i=a<1?-1:1),{spinX:t,spinY:i,pixelX:s,pixelY:a}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(e){var t=e,i=this,a=i.params.mousewheel;i.params.cssMode&&t.preventDefault();var r=i.$el;if("container"!==i.params.mousewheel.eventsTarged&&(r=s(i.params.mousewheel.eventsTarged)),!i.mouseEntered&&!r[0].contains(t.target)&&!a.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var o=0,l=i.rtlTranslate?-1:1,d=ie.normalize(t);if(a.forceToAxis)if(i.isHorizontal()){if(!(Math.abs(d.pixelX)>Math.abs(d.pixelY)))return!0;o=d.pixelX*l}else{if(!(Math.abs(d.pixelY)>Math.abs(d.pixelX)))return!0;o=d.pixelY}else o=Math.abs(d.pixelX)>Math.abs(d.pixelY)?-d.pixelX*l:-d.pixelY;if(0===o)return!0;if(a.invert&&(o=-o),i.params.freeMode){var h={time:n.now(),delta:Math.abs(o),direction:Math.sign(o)},p=i.mousewheel.lastEventBeforeSnap,c=p&&h.time<p.time+500&&h.delta<=p.delta&&h.direction===p.direction;if(!c){i.mousewheel.lastEventBeforeSnap=void 0,i.params.loop&&i.loopFix();var u=i.getTranslate()+o*a.sensitivity,v=i.isBeginning,f=i.isEnd;if(u>=i.minTranslate()&&(u=i.minTranslate()),u<=i.maxTranslate()&&(u=i.maxTranslate()),i.setTransition(0),i.setTranslate(u),i.updateProgress(),i.updateActiveIndex(),i.updateSlidesClasses(),(!v&&i.isBeginning||!f&&i.isEnd)&&i.updateSlidesClasses(),i.params.freeModeSticky){clearTimeout(i.mousewheel.timeout),i.mousewheel.timeout=void 0;var m=i.mousewheel.recentWheelEvents;m.length>=15&&m.shift();var g=m.length?m[m.length-1]:void 0,b=m[0];if(m.push(h),g&&(h.delta>g.delta||h.direction!==g.direction))m.splice(0);else if(m.length>=15&&h.time-b.time<500&&b.delta-h.delta>=1&&h.delta<=6){var w=o>0?.8:.2;i.mousewheel.lastEventBeforeSnap=h,m.splice(0),i.mousewheel.timeout=n.nextTick((function(){i.slideToClosest(i.params.speed,!0,void 0,w)}),0)}i.mousewheel.timeout||(i.mousewheel.timeout=n.nextTick((function(){i.mousewheel.lastEventBeforeSnap=h,m.splice(0),i.slideToClosest(i.params.speed,!0,void 0,.5)}),500))}if(c||i.emit("scroll",t),i.params.autoplay&&i.params.autoplayDisableOnInteraction&&i.autoplay.stop(),u===i.minTranslate()||u===i.maxTranslate())return!0}}else{var y={time:n.now(),delta:Math.abs(o),direction:Math.sign(o),raw:e},x=i.mousewheel.recentWheelEvents;x.length>=2&&x.shift();var T=x.length?x[x.length-1]:void 0;if(x.push(y),T?(y.direction!==T.direction||y.delta>T.delta)&&i.mousewheel.animateSlider(y):i.mousewheel.animateSlider(y),i.mousewheel.releaseScroll(y))return!0}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},animateSlider:function(e){return e.delta>=6&&n.now()-this.mousewheel.lastScrollTime<60||(e.direction<0?this.isEnd&&!this.params.loop||this.animating||(this.slideNext(),this.emit("scroll",e.raw)):this.isBeginning&&!this.params.loop||this.animating||(this.slidePrev(),this.emit("scroll",e.raw)),this.mousewheel.lastScrollTime=(new t.Date).getTime(),!1)},releaseScroll:function(e){var t=this.params.mousewheel;if(e.direction<0){if(this.isEnd&&!this.params.loop&&t.releaseOnEdges)return!0}else if(this.isBeginning&&!this.params.loop&&t.releaseOnEdges)return!0;return!1},enable:function(){var e=ie.event();if(this.params.cssMode)return this.wrapperEl.removeEventListener(e,this.mousewheel.handle),!0;if(!e)return!1;if(this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=s(this.params.mousewheel.eventsTarged)),t.on("mouseenter",this.mousewheel.handleMouseEnter),t.on("mouseleave",this.mousewheel.handleMouseLeave),t.on(e,this.mousewheel.handle),this.mousewheel.enabled=!0,!0},disable:function(){var e=ie.event();if(this.params.cssMode)return this.wrapperEl.addEventListener(e,this.mousewheel.handle),!0;if(!e)return!1;if(!this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=s(this.params.mousewheel.eventsTarged)),t.off(e,this.mousewheel.handle),this.mousewheel.enabled=!1,!0}},se={update:function(){var e=this.params.navigation;if(!this.params.loop){var t=this.navigation,i=t.$nextEl,s=t.$prevEl;s&&s.length>0&&(this.isBeginning?s.addClass(e.disabledClass):s.removeClass(e.disabledClass),s[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass)),i&&i.length>0&&(this.isEnd?i.addClass(e.disabledClass):i.removeClass(e.disabledClass),i[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass))}},onPrevClick:function(e){e.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(e){e.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var e,t,i=this.params.navigation;(i.nextEl||i.prevEl)&&(i.nextEl&&(e=s(i.nextEl),this.params.uniqueNavElements&&"string"==typeof i.nextEl&&e.length>1&&1===this.$el.find(i.nextEl).length&&(e=this.$el.find(i.nextEl))),i.prevEl&&(t=s(i.prevEl),this.params.uniqueNavElements&&"string"==typeof i.prevEl&&t.length>1&&1===this.$el.find(i.prevEl).length&&(t=this.$el.find(i.prevEl))),e&&e.length>0&&e.on("click",this.navigation.onNextClick),t&&t.length>0&&t.on("click",this.navigation.onPrevClick),n.extend(this.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}))},destroy:function(){var e=this.navigation,t=e.$nextEl,i=e.$prevEl;t&&t.length&&(t.off("click",this.navigation.onNextClick),t.removeClass(this.params.navigation.disabledClass)),i&&i.length&&(i.off("click",this.navigation.onPrevClick),i.removeClass(this.params.navigation.disabledClass))}},ae={update:function(){var e=this.rtl,t=this.params.pagination;if(t.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var i,a=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,r=this.pagination.$el,n=this.params.loop?Math.ceil((a-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length;if(this.params.loop?((i=Math.ceil((this.activeIndex-this.loopedSlides)/this.params.slidesPerGroup))>a-1-2*this.loopedSlides&&(i-=a-2*this.loopedSlides),i>n-1&&(i-=n),i<0&&"bullets"!==this.params.paginationType&&(i=n+i)):i=void 0!==this.snapIndex?this.snapIndex:this.activeIndex||0,"bullets"===t.type&&this.pagination.bullets&&this.pagination.bullets.length>0){var o,l,d,h=this.pagination.bullets;if(t.dynamicBullets&&(this.pagination.bulletSize=h.eq(0)[this.isHorizontal()?"outerWidth":"outerHeight"](!0),r.css(this.isHorizontal()?"width":"height",this.pagination.bulletSize*(t.dynamicMainBullets+4)+"px"),t.dynamicMainBullets>1&&void 0!==this.previousIndex&&(this.pagination.dynamicBulletIndex+=i-this.previousIndex,this.pagination.dynamicBulletIndex>t.dynamicMainBullets-1?this.pagination.dynamicBulletIndex=t.dynamicMainBullets-1:this.pagination.dynamicBulletIndex<0&&(this.pagination.dynamicBulletIndex=0)),o=i-this.pagination.dynamicBulletIndex,d=((l=o+(Math.min(h.length,t.dynamicMainBullets)-1))+o)/2),h.removeClass(t.bulletActiveClass+" "+t.bulletActiveClass+"-next "+t.bulletActiveClass+"-next-next "+t.bulletActiveClass+"-prev "+t.bulletActiveClass+"-prev-prev "+t.bulletActiveClass+"-main"),r.length>1)h.each((function(e,a){var r=s(a),n=r.index();n===i&&r.addClass(t.bulletActiveClass),t.dynamicBullets&&(n>=o&&n<=l&&r.addClass(t.bulletActiveClass+"-main"),n===o&&r.prev().addClass(t.bulletActiveClass+"-prev").prev().addClass(t.bulletActiveClass+"-prev-prev"),n===l&&r.next().addClass(t.bulletActiveClass+"-next").next().addClass(t.bulletActiveClass+"-next-next"))}));else{var p=h.eq(i),c=p.index();if(p.addClass(t.bulletActiveClass),t.dynamicBullets){for(var u=h.eq(o),v=h.eq(l),f=o;f<=l;f+=1)h.eq(f).addClass(t.bulletActiveClass+"-main");if(this.params.loop)if(c>=h.length-t.dynamicMainBullets){for(var m=t.dynamicMainBullets;m>=0;m-=1)h.eq(h.length-m).addClass(t.bulletActiveClass+"-main");h.eq(h.length-t.dynamicMainBullets-1).addClass(t.bulletActiveClass+"-prev")}else u.prev().addClass(t.bulletActiveClass+"-prev").prev().addClass(t.bulletActiveClass+"-prev-prev"),v.next().addClass(t.bulletActiveClass+"-next").next().addClass(t.bulletActiveClass+"-next-next");else u.prev().addClass(t.bulletActiveClass+"-prev").prev().addClass(t.bulletActiveClass+"-prev-prev"),v.next().addClass(t.bulletActiveClass+"-next").next().addClass(t.bulletActiveClass+"-next-next")}}if(t.dynamicBullets){var g=Math.min(h.length,t.dynamicMainBullets+4),b=(this.pagination.bulletSize*g-this.pagination.bulletSize)/2-d*this.pagination.bulletSize,w=e?"right":"left";h.css(this.isHorizontal()?w:"top",b+"px")}}if("fraction"===t.type&&(r.find("."+t.currentClass).text(t.formatFractionCurrent(i+1)),r.find("."+t.totalClass).text(t.formatFractionTotal(n))),"progressbar"===t.type){var y;y=t.progressbarOpposite?this.isHorizontal()?"vertical":"horizontal":this.isHorizontal()?"horizontal":"vertical";var x=(i+1)/n,T=1,E=1;"horizontal"===y?T=x:E=x,r.find("."+t.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+T+") scaleY("+E+")").transition(this.params.speed)}"custom"===t.type&&t.renderCustom?(r.html(t.renderCustom(this,i+1,n)),this.emit("paginationRender",this,r[0])):this.emit("paginationUpdate",this,r[0]),r[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](t.lockClass)}},render:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,i=this.pagination.$el,s="";if("bullets"===e.type){for(var a=this.params.loop?Math.ceil((t-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length,r=0;r<a;r+=1)e.renderBullet?s+=e.renderBullet.call(this,r,e.bulletClass):s+="<"+e.bulletElement+' class="'+e.bulletClass+'"></'+e.bulletElement+">";i.html(s),this.pagination.bullets=i.find("."+e.bulletClass)}"fraction"===e.type&&(s=e.renderFraction?e.renderFraction.call(this,e.currentClass,e.totalClass):'<span class="'+e.currentClass+'"></span> / <span class="'+e.totalClass+'"></span>',i.html(s)),"progressbar"===e.type&&(s=e.renderProgressbar?e.renderProgressbar.call(this,e.progressbarFillClass):'<span class="'+e.progressbarFillClass+'"></span>',i.html(s)),"custom"!==e.type&&this.emit("paginationRender",this.pagination.$el[0])}},init:function(){var e=this,t=e.params.pagination;if(t.el){var i=s(t.el);0!==i.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&i.length>1&&1===e.$el.find(t.el).length&&(i=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&i.addClass(t.clickableClass),i.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(i.addClass(""+t.modifierClass+t.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&i.addClass(t.progressbarOppositeClass),t.clickable&&i.on("click","."+t.bulletClass,(function(t){t.preventDefault();var i=s(this).index()*e.params.slidesPerGroup;e.params.loop&&(i+=e.loopedSlides),e.slideTo(i)})),n.extend(e.pagination,{$el:i,el:i[0]}))}},destroy:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),this.pagination.bullets&&this.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click","."+e.bulletClass)}}},re={setTranslate:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=this.rtlTranslate,i=this.progress,s=e.dragSize,a=e.trackSize,r=e.$dragEl,n=e.$el,o=this.params.scrollbar,l=s,d=(a-s)*i;t?(d=-d)>0?(l=s-d,d=0):-d+s>a&&(l=a+d):d<0?(l=s+d,d=0):d+s>a&&(l=a-d),this.isHorizontal()?(r.transform("translate3d("+d+"px, 0, 0)"),r[0].style.width=l+"px"):(r.transform("translate3d(0px, "+d+"px, 0)"),r[0].style.height=l+"px"),o.hide&&(clearTimeout(this.scrollbar.timeout),n[0].style.opacity=1,this.scrollbar.timeout=setTimeout((function(){n[0].style.opacity=0,n.transition(400)}),1e3))}},setTransition:function(e){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(e)},updateSize:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=e.$dragEl,i=e.$el;t[0].style.width="",t[0].style.height="";var s,a=this.isHorizontal()?i[0].offsetWidth:i[0].offsetHeight,r=this.size/this.virtualSize,o=r*(a/this.size);s="auto"===this.params.scrollbar.dragSize?a*r:parseInt(this.params.scrollbar.dragSize,10),this.isHorizontal()?t[0].style.width=s+"px":t[0].style.height=s+"px",i[0].style.display=r>=1?"none":"",this.params.scrollbar.hide&&(i[0].style.opacity=0),n.extend(e,{trackSize:a,divider:r,moveDivider:o,dragSize:s}),e.$el[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](this.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY},setDragPosition:function(e){var t,i=this.scrollbar,s=this.rtlTranslate,a=i.$el,r=i.dragSize,n=i.trackSize,o=i.dragStartPos;t=(i.getPointerPosition(e)-a.offset()[this.isHorizontal()?"left":"top"]-(null!==o?o:r/2))/(n-r),t=Math.max(Math.min(t,1),0),s&&(t=1-t);var l=this.minTranslate()+(this.maxTranslate()-this.minTranslate())*t;this.updateProgress(l),this.setTranslate(l),this.updateActiveIndex(),this.updateSlidesClasses()},onDragStart:function(e){var t=this.params.scrollbar,i=this.scrollbar,s=this.$wrapperEl,a=i.$el,r=i.$dragEl;this.scrollbar.isTouched=!0,this.scrollbar.dragStartPos=e.target===r[0]||e.target===r?i.getPointerPosition(e)-e.target.getBoundingClientRect()[this.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),s.transition(100),r.transition(100),i.setDragPosition(e),clearTimeout(this.scrollbar.dragTimeout),a.transition(0),t.hide&&a.css("opacity",1),this.params.cssMode&&this.$wrapperEl.css("scroll-snap-type","none"),this.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this.scrollbar,i=this.$wrapperEl,s=t.$el,a=t.$dragEl;this.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),i.transition(0),s.transition(0),a.transition(0),this.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this.params.scrollbar,i=this.scrollbar,s=this.$wrapperEl,a=i.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,this.params.cssMode&&(this.$wrapperEl.css("scroll-snap-type",""),s.transition("")),t.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=n.nextTick((function(){a.css("opacity",0),a.transition(400)}),1e3)),this.emit("scrollbarDragEnd",e),t.snapOnRelease&&this.slideToClosest())},enableDraggable:function(){if(this.params.scrollbar.el){var t=this.scrollbar,i=this.touchEventsTouch,s=this.touchEventsDesktop,a=this.params,r=t.$el[0],n=!(!o.passiveListener||!a.passiveListeners)&&{passive:!1,capture:!1},l=!(!o.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};o.touch?(r.addEventListener(i.start,this.scrollbar.onDragStart,n),r.addEventListener(i.move,this.scrollbar.onDragMove,n),r.addEventListener(i.end,this.scrollbar.onDragEnd,l)):(r.addEventListener(s.start,this.scrollbar.onDragStart,n),e.addEventListener(s.move,this.scrollbar.onDragMove,n),e.addEventListener(s.end,this.scrollbar.onDragEnd,l))}},disableDraggable:function(){if(this.params.scrollbar.el){var t=this.scrollbar,i=this.touchEventsTouch,s=this.touchEventsDesktop,a=this.params,r=t.$el[0],n=!(!o.passiveListener||!a.passiveListeners)&&{passive:!1,capture:!1},l=!(!o.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};o.touch?(r.removeEventListener(i.start,this.scrollbar.onDragStart,n),r.removeEventListener(i.move,this.scrollbar.onDragMove,n),r.removeEventListener(i.end,this.scrollbar.onDragEnd,l)):(r.removeEventListener(s.start,this.scrollbar.onDragStart,n),e.removeEventListener(s.move,this.scrollbar.onDragMove,n),e.removeEventListener(s.end,this.scrollbar.onDragEnd,l))}},init:function(){if(this.params.scrollbar.el){var e=this.scrollbar,t=this.$el,i=this.params.scrollbar,a=s(i.el);this.params.uniqueNavElements&&"string"==typeof i.el&&a.length>1&&1===t.find(i.el).length&&(a=t.find(i.el));var r=a.find("."+this.params.scrollbar.dragClass);0===r.length&&(r=s('<div class="'+this.params.scrollbar.dragClass+'"></div>'),a.append(r)),n.extend(e,{$el:a,el:a[0],$dragEl:r,dragEl:r[0]}),i.draggable&&e.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},ne={setTransform:function(e,t){var i=this.rtl,a=s(e),r=i?-1:1,n=a.attr("data-swiper-parallax")||"0",o=a.attr("data-swiper-parallax-x"),l=a.attr("data-swiper-parallax-y"),d=a.attr("data-swiper-parallax-scale"),h=a.attr("data-swiper-parallax-opacity");if(o||l?(o=o||"0",l=l||"0"):this.isHorizontal()?(o=n,l="0"):(l=n,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*t*r+"%":o*t*r+"px",l=l.indexOf("%")>=0?parseInt(l,10)*t+"%":l*t+"px",null!=h){var p=h-(h-1)*(1-Math.abs(t));a[0].style.opacity=p}if(null==d)a.transform("translate3d("+o+", "+l+", 0px)");else{var c=d-(d-1)*(1-Math.abs(t));a.transform("translate3d("+o+", "+l+", 0px) scale("+c+")")}},setTranslate:function(){var e=this,t=e.$el,i=e.slides,a=e.progress,r=e.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t,i){e.parallax.setTransform(i,a)})),i.each((function(t,i){var n=i.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(n+=Math.ceil(t/2)-a*(r.length-1)),n=Math.min(Math.max(n,-1),1),s(i).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t,i){e.parallax.setTransform(i,n)}))}))},setTransition:function(e){void 0===e&&(e=this.params.speed);this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t,i){var a=s(i),r=parseInt(a.attr("data-swiper-parallax-duration"),10)||e;0===e&&(r=0),a.transition(r)}))}},oe={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY,s=e.targetTouches[1].pageX,a=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(s-t,2)+Math.pow(a-i,2))},onGestureStart:function(e){var t=this.params.zoom,i=this.zoom,a=i.gesture;if(i.fakeGestureTouched=!1,i.fakeGestureMoved=!1,!o.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;i.fakeGestureTouched=!0,a.scaleStart=oe.getDistanceBetweenTouches(e)}a.$slideEl&&a.$slideEl.length||(a.$slideEl=s(e.target).closest("."+this.params.slideClass),0===a.$slideEl.length&&(a.$slideEl=this.slides.eq(this.activeIndex)),a.$imageEl=a.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),a.$imageWrapEl=a.$imageEl.parent("."+t.containerClass),a.maxRatio=a.$imageWrapEl.attr("data-swiper-zoom")||t.maxRatio,0!==a.$imageWrapEl.length)?(a.$imageEl.transition(0),this.zoom.isScaling=!0):a.$imageEl=void 0},onGestureChange:function(e){var t=this.params.zoom,i=this.zoom,s=i.gesture;if(!o.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;i.fakeGestureMoved=!0,s.scaleMove=oe.getDistanceBetweenTouches(e)}s.$imageEl&&0!==s.$imageEl.length&&(o.gestures?i.scale=e.scale*i.currentScale:i.scale=s.scaleMove/s.scaleStart*i.currentScale,i.scale>s.maxRatio&&(i.scale=s.maxRatio-1+Math.pow(i.scale-s.maxRatio+1,.5)),i.scale<t.minRatio&&(i.scale=t.minRatio+1-Math.pow(t.minRatio-i.scale+1,.5)),s.$imageEl.transform("translate3d(0,0,0) scale("+i.scale+")"))},onGestureEnd:function(e){var t=this.params.zoom,i=this.zoom,s=i.gesture;if(!o.gestures){if(!i.fakeGestureTouched||!i.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!I.android)return;i.fakeGestureTouched=!1,i.fakeGestureMoved=!1}s.$imageEl&&0!==s.$imageEl.length&&(i.scale=Math.max(Math.min(i.scale,s.maxRatio),t.minRatio),s.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+i.scale+")"),i.currentScale=i.scale,i.isScaling=!1,1===i.scale&&(s.$slideEl=void 0))},onTouchStart:function(e){var t=this.zoom,i=t.gesture,s=t.image;i.$imageEl&&0!==i.$imageEl.length&&(s.isTouched||(I.android&&e.preventDefault(),s.isTouched=!0,s.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,s.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this.zoom,i=t.gesture,s=t.image,a=t.velocity;if(i.$imageEl&&0!==i.$imageEl.length&&(this.allowClick=!1,s.isTouched&&i.$slideEl)){s.isMoved||(s.width=i.$imageEl[0].offsetWidth,s.height=i.$imageEl[0].offsetHeight,s.startX=n.getTranslate(i.$imageWrapEl[0],"x")||0,s.startY=n.getTranslate(i.$imageWrapEl[0],"y")||0,i.slideWidth=i.$slideEl[0].offsetWidth,i.slideHeight=i.$slideEl[0].offsetHeight,i.$imageWrapEl.transition(0),this.rtl&&(s.startX=-s.startX,s.startY=-s.startY));var r=s.width*t.scale,o=s.height*t.scale;if(!(r<i.slideWidth&&o<i.slideHeight)){if(s.minX=Math.min(i.slideWidth/2-r/2,0),s.maxX=-s.minX,s.minY=Math.min(i.slideHeight/2-o/2,0),s.maxY=-s.minY,s.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!s.isMoved&&!t.isScaling){if(this.isHorizontal()&&(Math.floor(s.minX)===Math.floor(s.startX)&&s.touchesCurrent.x<s.touchesStart.x||Math.floor(s.maxX)===Math.floor(s.startX)&&s.touchesCurrent.x>s.touchesStart.x))return void(s.isTouched=!1);if(!this.isHorizontal()&&(Math.floor(s.minY)===Math.floor(s.startY)&&s.touchesCurrent.y<s.touchesStart.y||Math.floor(s.maxY)===Math.floor(s.startY)&&s.touchesCurrent.y>s.touchesStart.y))return void(s.isTouched=!1)}e.preventDefault(),e.stopPropagation(),s.isMoved=!0,s.currentX=s.touchesCurrent.x-s.touchesStart.x+s.startX,s.currentY=s.touchesCurrent.y-s.touchesStart.y+s.startY,s.currentX<s.minX&&(s.currentX=s.minX+1-Math.pow(s.minX-s.currentX+1,.8)),s.currentX>s.maxX&&(s.currentX=s.maxX-1+Math.pow(s.currentX-s.maxX+1,.8)),s.currentY<s.minY&&(s.currentY=s.minY+1-Math.pow(s.minY-s.currentY+1,.8)),s.currentY>s.maxY&&(s.currentY=s.maxY-1+Math.pow(s.currentY-s.maxY+1,.8)),a.prevPositionX||(a.prevPositionX=s.touchesCurrent.x),a.prevPositionY||(a.prevPositionY=s.touchesCurrent.y),a.prevTime||(a.prevTime=Date.now()),a.x=(s.touchesCurrent.x-a.prevPositionX)/(Date.now()-a.prevTime)/2,a.y=(s.touchesCurrent.y-a.prevPositionY)/(Date.now()-a.prevTime)/2,Math.abs(s.touchesCurrent.x-a.prevPositionX)<2&&(a.x=0),Math.abs(s.touchesCurrent.y-a.prevPositionY)<2&&(a.y=0),a.prevPositionX=s.touchesCurrent.x,a.prevPositionY=s.touchesCurrent.y,a.prevTime=Date.now(),i.$imageWrapEl.transform("translate3d("+s.currentX+"px, "+s.currentY+"px,0)")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,i=e.image,s=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!i.isTouched||!i.isMoved)return i.isTouched=!1,void(i.isMoved=!1);i.isTouched=!1,i.isMoved=!1;var a=300,r=300,n=s.x*a,o=i.currentX+n,l=s.y*r,d=i.currentY+l;0!==s.x&&(a=Math.abs((o-i.currentX)/s.x)),0!==s.y&&(r=Math.abs((d-i.currentY)/s.y));var h=Math.max(a,r);i.currentX=o,i.currentY=d;var p=i.width*e.scale,c=i.height*e.scale;i.minX=Math.min(t.slideWidth/2-p/2,0),i.maxX=-i.minX,i.minY=Math.min(t.slideHeight/2-c/2,0),i.maxY=-i.minY,i.currentX=Math.max(Math.min(i.currentX,i.maxX),i.minX),i.currentY=Math.max(Math.min(i.currentY,i.maxY),i.minY),t.$imageWrapEl.transition(h).transform("translate3d("+i.currentX+"px, "+i.currentY+"px,0)")}},onTransitionEnd:function(){var e=this.zoom,t=e.gesture;t.$slideEl&&this.previousIndex!==this.activeIndex&&(t.$imageEl.transform("translate3d(0,0,0) scale(1)"),t.$imageWrapEl.transform("translate3d(0,0,0)"),e.scale=1,e.currentScale=1,t.$slideEl=void 0,t.$imageEl=void 0,t.$imageWrapEl=void 0)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(e){var t,i,s,a,r,n,o,l,d,h,p,c,u,v,f,m,g=this.zoom,b=this.params.zoom,w=g.gesture,y=g.image;(w.$slideEl||(w.$slideEl=this.slides.eq(this.activeIndex),w.$imageEl=w.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),w.$imageWrapEl=w.$imageEl.parent("."+b.containerClass)),w.$imageEl&&0!==w.$imageEl.length)&&(w.$slideEl.addClass(""+b.zoomedSlideClass),void 0===y.touchesStart.x&&e?(t="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,i="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(t=y.touchesStart.x,i=y.touchesStart.y),g.scale=w.$imageWrapEl.attr("data-swiper-zoom")||b.maxRatio,g.currentScale=w.$imageWrapEl.attr("data-swiper-zoom")||b.maxRatio,e?(f=w.$slideEl[0].offsetWidth,m=w.$slideEl[0].offsetHeight,s=w.$slideEl.offset().left+f/2-t,a=w.$slideEl.offset().top+m/2-i,o=w.$imageEl[0].offsetWidth,l=w.$imageEl[0].offsetHeight,d=o*g.scale,h=l*g.scale,u=-(p=Math.min(f/2-d/2,0)),v=-(c=Math.min(m/2-h/2,0)),(r=s*g.scale)<p&&(r=p),r>u&&(r=u),(n=a*g.scale)<c&&(n=c),n>v&&(n=v)):(r=0,n=0),w.$imageWrapEl.transition(300).transform("translate3d("+r+"px, "+n+"px,0)"),w.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+g.scale+")"))},out:function(){var e=this.zoom,t=this.params.zoom,i=e.gesture;i.$slideEl||(i.$slideEl=this.slides.eq(this.activeIndex),i.$imageEl=i.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),i.$imageWrapEl=i.$imageEl.parent("."+t.containerClass)),i.$imageEl&&0!==i.$imageEl.length&&(e.scale=1,e.currentScale=1,i.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),i.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),i.$slideEl.removeClass(""+t.zoomedSlideClass),i.$slideEl=void 0)},enable:function(){var e=this.zoom;if(!e.enabled){e.enabled=!0;var t=!("touchstart"!==this.touchEvents.start||!o.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1},i=!o.passiveListener||{passive:!1,capture:!0},s="."+this.params.slideClass;o.gestures?(this.$wrapperEl.on("gesturestart",s,e.onGestureStart,t),this.$wrapperEl.on("gesturechange",s,e.onGestureChange,t),this.$wrapperEl.on("gestureend",s,e.onGestureEnd,t)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.on(this.touchEvents.start,s,e.onGestureStart,t),this.$wrapperEl.on(this.touchEvents.move,s,e.onGestureChange,i),this.$wrapperEl.on(this.touchEvents.end,s,e.onGestureEnd,t),this.touchEvents.cancel&&this.$wrapperEl.on(this.touchEvents.cancel,s,e.onGestureEnd,t)),this.$wrapperEl.on(this.touchEvents.move,"."+this.params.zoom.containerClass,e.onTouchMove,i)}},disable:function(){var e=this.zoom;if(e.enabled){this.zoom.enabled=!1;var t=!("touchstart"!==this.touchEvents.start||!o.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1},i=!o.passiveListener||{passive:!1,capture:!0},s="."+this.params.slideClass;o.gestures?(this.$wrapperEl.off("gesturestart",s,e.onGestureStart,t),this.$wrapperEl.off("gesturechange",s,e.onGestureChange,t),this.$wrapperEl.off("gestureend",s,e.onGestureEnd,t)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.off(this.touchEvents.start,s,e.onGestureStart,t),this.$wrapperEl.off(this.touchEvents.move,s,e.onGestureChange,i),this.$wrapperEl.off(this.touchEvents.end,s,e.onGestureEnd,t),this.touchEvents.cancel&&this.$wrapperEl.off(this.touchEvents.cancel,s,e.onGestureEnd,t)),this.$wrapperEl.off(this.touchEvents.move,"."+this.params.zoom.containerClass,e.onTouchMove,i)}}},le={loadInSlide:function(e,t){void 0===t&&(t=!0);var i=this,a=i.params.lazy;if(void 0!==e&&0!==i.slides.length){var r=i.virtual&&i.params.virtual.enabled?i.$wrapperEl.children("."+i.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):i.slides.eq(e),n=r.find("."+a.elementClass+":not(."+a.loadedClass+"):not(."+a.loadingClass+")");!r.hasClass(a.elementClass)||r.hasClass(a.loadedClass)||r.hasClass(a.loadingClass)||(n=n.add(r[0])),0!==n.length&&n.each((function(e,n){var o=s(n);o.addClass(a.loadingClass);var l=o.attr("data-background"),d=o.attr("data-src"),h=o.attr("data-srcset"),p=o.attr("data-sizes");i.loadImage(o[0],d||l,h,p,!1,(function(){if(null!=i&&i&&(!i||i.params)&&!i.destroyed){if(l?(o.css("background-image",'url("'+l+'")'),o.removeAttr("data-background")):(h&&(o.attr("srcset",h),o.removeAttr("data-srcset")),p&&(o.attr("sizes",p),o.removeAttr("data-sizes")),d&&(o.attr("src",d),o.removeAttr("data-src"))),o.addClass(a.loadedClass).removeClass(a.loadingClass),r.find("."+a.preloaderClass).remove(),i.params.loop&&t){var e=r.attr("data-swiper-slide-index");if(r.hasClass(i.params.slideDuplicateClass)){var s=i.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+i.params.slideDuplicateClass+")");i.lazy.loadInSlide(s.index(),!1)}else{var n=i.$wrapperEl.children("."+i.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');i.lazy.loadInSlide(n.index(),!1)}}i.emit("lazyImageReady",r[0],o[0]),i.params.autoHeight&&i.updateAutoHeight()}})),i.emit("lazyImageLoad",r[0],o[0])}))}},load:function(){var e=this,t=e.$wrapperEl,i=e.params,a=e.slides,r=e.activeIndex,n=e.virtual&&i.virtual.enabled,o=i.lazy,l=i.slidesPerView;function d(e){if(n){if(t.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(a[e])return!0;return!1}function h(e){return n?s(e).attr("data-swiper-slide-index"):s(e).index()}if("auto"===l&&(l=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children("."+i.slideVisibleClass).each((function(t,i){var a=n?s(i).attr("data-swiper-slide-index"):s(i).index();e.lazy.loadInSlide(a)}));else if(l>1)for(var p=r;p<r+l;p+=1)d(p)&&e.lazy.loadInSlide(p);else e.lazy.loadInSlide(r);if(o.loadPrevNext)if(l>1||o.loadPrevNextAmount&&o.loadPrevNextAmount>1){for(var c=o.loadPrevNextAmount,u=l,v=Math.min(r+u+Math.max(c,u),a.length),f=Math.max(r-Math.max(u,c),0),m=r+l;m<v;m+=1)d(m)&&e.lazy.loadInSlide(m);for(var g=f;g<r;g+=1)d(g)&&e.lazy.loadInSlide(g)}else{var b=t.children("."+i.slideNextClass);b.length>0&&e.lazy.loadInSlide(h(b));var w=t.children("."+i.slidePrevClass);w.length>0&&e.lazy.loadInSlide(h(w))}}},de={LinearSpline:function(e,t){var i,s,a,r,n,o=function(e,t){for(s=-1,i=e.length;i-s>1;)e[a=i+s>>1]<=t?s=a:i=a;return i};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(n=o(this.x,e),r=n-1,(e-this.x[r])*(this.y[n]-this.y[r])/(this.x[n]-this.x[r])+this.y[r]):0},this},getInterpolateFunction:function(e){this.controller.spline||(this.controller.spline=this.params.loop?new de.LinearSpline(this.slidesGrid,e.slidesGrid):new de.LinearSpline(this.snapGrid,e.snapGrid))},setTranslate:function(e,t){var i,s,a=this,r=a.controller.control;function n(e){var t=a.rtlTranslate?-a.translate:a.translate;"slide"===a.params.controller.by&&(a.controller.getInterpolateFunction(e),s=-a.controller.spline.interpolate(-t)),s&&"container"!==a.params.controller.by||(i=(e.maxTranslate()-e.minTranslate())/(a.maxTranslate()-a.minTranslate()),s=(t-a.minTranslate())*i+e.minTranslate()),a.params.controller.inverse&&(s=e.maxTranslate()-s),e.updateProgress(s),e.setTranslate(s,a),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(r))for(var o=0;o<r.length;o+=1)r[o]!==t&&r[o]instanceof W&&n(r[o]);else r instanceof W&&t!==r&&n(r)},setTransition:function(e,t){var i,s=this,a=s.controller.control;function r(t){t.setTransition(e,s),0!==e&&(t.transitionStart(),t.params.autoHeight&&n.nextTick((function(){t.updateAutoHeight()})),t.$wrapperEl.transitionEnd((function(){a&&(t.params.loop&&"slide"===s.params.controller.by&&t.loopFix(),t.transitionEnd())})))}if(Array.isArray(a))for(i=0;i<a.length;i+=1)a[i]!==t&&a[i]instanceof W&&r(a[i]);else a instanceof W&&t!==a&&r(a)}},he={makeElFocusable:function(e){return e.attr("tabIndex","0"),e},addElRole:function(e,t){return e.attr("role",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){var t=this.params.a11y;if(13===e.keyCode){var i=s(e.target);this.navigation&&this.navigation.$nextEl&&i.is(this.navigation.$nextEl)&&(this.isEnd&&!this.params.loop||this.slideNext(),this.isEnd?this.a11y.notify(t.lastSlideMessage):this.a11y.notify(t.nextSlideMessage)),this.navigation&&this.navigation.$prevEl&&i.is(this.navigation.$prevEl)&&(this.isBeginning&&!this.params.loop||this.slidePrev(),this.isBeginning?this.a11y.notify(t.firstSlideMessage):this.a11y.notify(t.prevSlideMessage)),this.pagination&&i.is("."+this.params.pagination.bulletClass)&&i[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){if(!this.params.loop&&this.navigation){var e=this.navigation,t=e.$nextEl,i=e.$prevEl;i&&i.length>0&&(this.isBeginning?this.a11y.disableEl(i):this.a11y.enableEl(i)),t&&t.length>0&&(this.isEnd?this.a11y.disableEl(t):this.a11y.enableEl(t))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each((function(i,a){var r=s(a);e.a11y.makeElFocusable(r),e.a11y.addElRole(r,"button"),e.a11y.addElLabel(r,t.paginationBulletMessage.replace(/{{index}}/,r.index()+1))}))},init:function(){this.$el.append(this.a11y.liveRegion);var e,t,i=this.params.a11y;this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(t=this.navigation.$prevEl),e&&(this.a11y.makeElFocusable(e),this.a11y.addElRole(e,"button"),this.a11y.addElLabel(e,i.nextSlideMessage),e.on("keydown",this.a11y.onEnterKey)),t&&(this.a11y.makeElFocusable(t),this.a11y.addElRole(t,"button"),this.a11y.addElLabel(t,i.prevSlideMessage),t.on("keydown",this.a11y.onEnterKey)),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.on("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)},destroy:function(){var e,t;this.a11y.liveRegion&&this.a11y.liveRegion.length>0&&this.a11y.liveRegion.remove(),this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(t=this.navigation.$prevEl),e&&e.off("keydown",this.a11y.onEnterKey),t&&t.off("keydown",this.a11y.onEnterKey),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.off("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)}},pe={init:function(){if(this.params.history){if(!t.history||!t.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);var e=this.history;e.initialized=!0,e.paths=pe.getPathValues(),(e.paths.key||e.paths.value)&&(e.scrollToSlide(0,e.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||t.addEventListener("popstate",this.history.setHistoryPopState))}},destroy:function(){this.params.history.replaceState||t.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=pe.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(){var e=t.location.pathname.slice(1).split("/").filter((function(e){return""!==e})),i=e.length;return{key:e[i-2],value:e[i-1]}},setHistory:function(e,i){if(this.history.initialized&&this.params.history.enabled){var s=this.slides.eq(i),a=pe.slugify(s.attr("data-history"));t.location.pathname.includes(e)||(a=e+"/"+a);var r=t.history.state;r&&r.value===a||(this.params.history.replaceState?t.history.replaceState({value:a},null,a):t.history.pushState({value:a},null,a))}},slugify:function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,i){if(t)for(var s=0,a=this.slides.length;s<a;s+=1){var r=this.slides.eq(s);if(pe.slugify(r.attr("data-history"))===t&&!r.hasClass(this.params.slideDuplicateClass)){var n=r.index();this.slideTo(n,e,i)}}else this.slideTo(0,e,i)}},ce={onHashCange:function(){var t=e.location.hash.replace("#","");if(t!==this.slides.eq(this.activeIndex).attr("data-hash")){var i=this.$wrapperEl.children("."+this.params.slideClass+'[data-hash="'+t+'"]').index();if(void 0===i)return;this.slideTo(i)}},setHash:function(){if(this.hashNavigation.initialized&&this.params.hashNavigation.enabled)if(this.params.hashNavigation.replaceState&&t.history&&t.history.replaceState)t.history.replaceState(null,null,"#"+this.slides.eq(this.activeIndex).attr("data-hash")||"");else{var i=this.slides.eq(this.activeIndex),s=i.attr("data-hash")||i.attr("data-history");e.location.hash=s||""}},init:function(){if(!(!this.params.hashNavigation.enabled||this.params.history&&this.params.history.enabled)){this.hashNavigation.initialized=!0;var i=e.location.hash.replace("#","");if(i)for(var a=0,r=this.slides.length;a<r;a+=1){var n=this.slides.eq(a);if((n.attr("data-hash")||n.attr("data-history"))===i&&!n.hasClass(this.params.slideDuplicateClass)){var o=n.index();this.slideTo(o,0,this.params.runCallbacksOnInit,!0)}}this.params.hashNavigation.watchState&&s(t).on("hashchange",this.hashNavigation.onHashCange)}},destroy:function(){this.params.hashNavigation.watchState&&s(t).off("hashchange",this.hashNavigation.onHashCange)}},ue={run:function(){var e=this,t=e.slides.eq(e.activeIndex),i=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(i=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=n.nextTick((function(){e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),e.params.cssMode&&e.autoplay.running&&e.autoplay.run()}),i)},start:function(){return void 0===this.autoplay.timeout&&(!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0))},stop:function(){return!!this.autoplay.running&&(void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0))},pause:function(e){this.autoplay.running&&(this.autoplay.paused||(this.autoplay.timeout&&clearTimeout(this.autoplay.timeout),this.autoplay.paused=!0,0!==e&&this.params.autoplay.waitForTransition?(this.$wrapperEl[0].addEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].addEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd)):(this.autoplay.paused=!1,this.autoplay.run())))}},ve={setTranslate:function(){for(var e=this.slides,t=0;t<e.length;t+=1){var i=this.slides.eq(t),s=-i[0].swiperSlideOffset;this.params.virtualTranslate||(s-=this.translate);var a=0;this.isHorizontal()||(a=s,s=0);var r=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(i[0].progress),0):1+Math.min(Math.max(i[0].progress,-1),0);i.css({opacity:r}).transform("translate3d("+s+"px, "+a+"px, 0px)")}},setTransition:function(e){var t=this,i=t.slides,s=t.$wrapperEl;if(i.transition(e),t.params.virtualTranslate&&0!==e){var a=!1;i.transitionEnd((function(){if(!a&&t&&!t.destroyed){a=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],i=0;i<e.length;i+=1)s.trigger(e[i])}}))}}},fe={setTranslate:function(){var e,t=this.$el,i=this.$wrapperEl,a=this.slides,r=this.width,n=this.height,o=this.rtlTranslate,l=this.size,d=this.params.cubeEffect,h=this.isHorizontal(),p=this.virtual&&this.params.virtual.enabled,c=0;d.shadow&&(h?(0===(e=i.find(".swiper-cube-shadow")).length&&(e=s('<div class="swiper-cube-shadow"></div>'),i.append(e)),e.css({height:r+"px"})):0===(e=t.find(".swiper-cube-shadow")).length&&(e=s('<div class="swiper-cube-shadow"></div>'),t.append(e)));for(var u=0;u<a.length;u+=1){var v=a.eq(u),f=u;p&&(f=parseInt(v.attr("data-swiper-slide-index"),10));var m=90*f,g=Math.floor(m/360);o&&(m=-m,g=Math.floor(-m/360));var b=Math.max(Math.min(v[0].progress,1),-1),w=0,y=0,x=0;f%4==0?(w=4*-g*l,x=0):(f-1)%4==0?(w=0,x=4*-g*l):(f-2)%4==0?(w=l+4*g*l,x=l):(f-3)%4==0&&(w=-l,x=3*l+4*l*g),o&&(w=-w),h||(y=w,w=0);var T="rotateX("+(h?0:-m)+"deg) rotateY("+(h?m:0)+"deg) translate3d("+w+"px, "+y+"px, "+x+"px)";if(b<=1&&b>-1&&(c=90*f+90*b,o&&(c=90*-f-90*b)),v.transform(T),d.slideShadows){var E=h?v.find(".swiper-slide-shadow-left"):v.find(".swiper-slide-shadow-top"),S=h?v.find(".swiper-slide-shadow-right"):v.find(".swiper-slide-shadow-bottom");0===E.length&&(E=s('<div class="swiper-slide-shadow-'+(h?"left":"top")+'"></div>'),v.append(E)),0===S.length&&(S=s('<div class="swiper-slide-shadow-'+(h?"right":"bottom")+'"></div>'),v.append(S)),E.length&&(E[0].style.opacity=Math.max(-b,0)),S.length&&(S[0].style.opacity=Math.max(b,0))}}if(i.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),d.shadow)if(h)e.transform("translate3d(0px, "+(r/2+d.shadowOffset)+"px, "+-r/2+"px) rotateX(90deg) rotateZ(0deg) scale("+d.shadowScale+")");else{var C=Math.abs(c)-90*Math.floor(Math.abs(c)/90),M=1.5-(Math.sin(2*C*Math.PI/360)/2+Math.cos(2*C*Math.PI/360)/2),P=d.shadowScale,z=d.shadowScale/M,k=d.shadowOffset;e.transform("scale3d("+P+", 1, "+z+") translate3d(0px, "+(n/2+k)+"px, "+-n/2/z+"px) rotateX(-90deg)")}var $=j.isSafari||j.isUiWebView?-l/2:0;i.transform("translate3d(0px,0,"+$+"px) rotateX("+(this.isHorizontal()?0:c)+"deg) rotateY("+(this.isHorizontal()?-c:0)+"deg)")},setTransition:function(e){var t=this.$el;this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(".swiper-cube-shadow").transition(e)}},me={setTranslate:function(){for(var e=this.slides,t=this.rtlTranslate,i=0;i<e.length;i+=1){var a=e.eq(i),r=a[0].progress;this.params.flipEffect.limitRotation&&(r=Math.max(Math.min(a[0].progress,1),-1));var n=-180*r,o=0,l=-a[0].swiperSlideOffset,d=0;if(this.isHorizontal()?t&&(n=-n):(d=l,l=0,o=-n,n=0),a[0].style.zIndex=-Math.abs(Math.round(r))+e.length,this.params.flipEffect.slideShadows){var h=this.isHorizontal()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),p=this.isHorizontal()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom");0===h.length&&(h=s('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"left":"top")+'"></div>'),a.append(h)),0===p.length&&(p=s('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"right":"bottom")+'"></div>'),a.append(p)),h.length&&(h[0].style.opacity=Math.max(-r,0)),p.length&&(p[0].style.opacity=Math.max(r,0))}a.transform("translate3d("+l+"px, "+d+"px, 0px) rotateX("+o+"deg) rotateY("+n+"deg)")}},setTransition:function(e){var t=this,i=t.slides,s=t.activeIndex,a=t.$wrapperEl;if(i.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var r=!1;i.eq(s).transitionEnd((function(){if(!r&&t&&!t.destroyed){r=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],i=0;i<e.length;i+=1)a.trigger(e[i])}}))}}},ge={setTranslate:function(){for(var e=this.width,t=this.height,i=this.slides,a=this.$wrapperEl,r=this.slidesSizesGrid,n=this.params.coverflowEffect,l=this.isHorizontal(),d=this.translate,h=l?e/2-d:t/2-d,p=l?n.rotate:-n.rotate,c=n.depth,u=0,v=i.length;u<v;u+=1){var f=i.eq(u),m=r[u],g=(h-f[0].swiperSlideOffset-m/2)/m*n.modifier,b=l?p*g:0,w=l?0:p*g,y=-c*Math.abs(g),x=n.stretch;"string"==typeof x&&-1!==x.indexOf("%")&&(x=parseFloat(n.stretch)/100*m);var T=l?0:x*g,E=l?x*g:0;Math.abs(E)<.001&&(E=0),Math.abs(T)<.001&&(T=0),Math.abs(y)<.001&&(y=0),Math.abs(b)<.001&&(b=0),Math.abs(w)<.001&&(w=0);var S="translate3d("+E+"px,"+T+"px,"+y+"px)  rotateX("+w+"deg) rotateY("+b+"deg)";if(f.transform(S),f[0].style.zIndex=1-Math.abs(Math.round(g)),n.slideShadows){var C=l?f.find(".swiper-slide-shadow-left"):f.find(".swiper-slide-shadow-top"),M=l?f.find(".swiper-slide-shadow-right"):f.find(".swiper-slide-shadow-bottom");0===C.length&&(C=s('<div class="swiper-slide-shadow-'+(l?"left":"top")+'"></div>'),f.append(C)),0===M.length&&(M=s('<div class="swiper-slide-shadow-'+(l?"right":"bottom")+'"></div>'),f.append(M)),C.length&&(C[0].style.opacity=g>0?g:0),M.length&&(M[0].style.opacity=-g>0?-g:0)}}(o.pointerEvents||o.prefixedPointerEvents)&&(a[0].style.perspectiveOrigin=h+"px 50%")},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},be={init:function(){var e=this.params.thumbs,t=this.constructor;e.swiper instanceof t?(this.thumbs.swiper=e.swiper,n.extend(this.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),n.extend(this.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):n.isObject(e.swiper)&&(this.thumbs.swiper=new t(n.extend({},e.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),this.thumbs.swiperCreated=!0),this.thumbs.swiper.$el.addClass(this.params.thumbs.thumbsContainerClass),this.thumbs.swiper.on("tap",this.thumbs.onThumbClick)},onThumbClick:function(){var e=this.thumbs.swiper;if(e){var t=e.clickedIndex,i=e.clickedSlide;if(!(i&&s(i).hasClass(this.params.thumbs.slideThumbActiveClass)||null==t)){var a;if(a=e.params.loop?parseInt(s(e.clickedSlide).attr("data-swiper-slide-index"),10):t,this.params.loop){var r=this.activeIndex;this.slides.eq(r).hasClass(this.params.slideDuplicateClass)&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,r=this.activeIndex);var n=this.slides.eq(r).prevAll('[data-swiper-slide-index="'+a+'"]').eq(0).index(),o=this.slides.eq(r).nextAll('[data-swiper-slide-index="'+a+'"]').eq(0).index();a=void 0===n?o:void 0===o?n:o-r<r-n?o:n}this.slideTo(a)}}},update:function(e){var t=this.thumbs.swiper;if(t){var i="auto"===t.params.slidesPerView?t.slidesPerViewDynamic():t.params.slidesPerView;if(this.realIndex!==t.realIndex){var s,a=t.activeIndex;if(t.params.loop){t.slides.eq(a).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,a=t.activeIndex);var r=t.slides.eq(a).prevAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index(),n=t.slides.eq(a).nextAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index();s=void 0===r?n:void 0===n?r:n-a==a-r?a:n-a<a-r?n:r}else s=this.realIndex;t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(s)<0&&(t.params.centeredSlides?s=s>a?s-Math.floor(i/2)+1:s+Math.floor(i/2)-1:s>a&&(s=s-i+1),t.slideTo(s,e?0:void 0))}var o=1,l=this.params.thumbs.slideThumbActiveClass;if(this.params.slidesPerView>1&&!this.params.centeredSlides&&(o=this.params.slidesPerView),this.params.thumbs.multipleActiveThumbs||(o=1),o=Math.floor(o),t.slides.removeClass(l),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(var d=0;d<o;d+=1)t.$wrapperEl.children('[data-swiper-slide-index="'+(this.realIndex+d)+'"]').addClass(l);else for(var h=0;h<o;h+=1)t.slides.eq(this.realIndex+h).addClass(l)}}},we=[R,q,K,U,Z,J,te,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){n.extend(this,{mousewheel:{enabled:!1,enable:ie.enable.bind(this),disable:ie.disable.bind(this),handle:ie.handle.bind(this),handleMouseEnter:ie.handleMouseEnter.bind(this),handleMouseLeave:ie.handleMouseLeave.bind(this),animateSlider:ie.animateSlider.bind(this),releaseScroll:ie.releaseScroll.bind(this),lastScrollTime:n.now(),lastEventBeforeSnap:void 0,recentWheelEvents:[]}})},on:{init:function(){!this.params.mousewheel.enabled&&this.params.cssMode&&this.mousewheel.disable(),this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy:function(){this.params.cssMode&&this.mousewheel.enable(),this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){n.extend(this,{navigation:{init:se.init.bind(this),update:se.update.bind(this),destroy:se.destroy.bind(this),onNextClick:se.onNextClick.bind(this),onPrevClick:se.onPrevClick.bind(this)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(e){var t,i=this.navigation,a=i.$nextEl,r=i.$prevEl;!this.params.navigation.hideOnClick||s(e.target).is(r)||s(e.target).is(a)||(a?t=a.hasClass(this.params.navigation.hiddenClass):r&&(t=r.hasClass(this.params.navigation.hiddenClass)),!0===t?this.emit("navigationShow",this):this.emit("navigationHide",this),a&&a.toggleClass(this.params.navigation.hiddenClass),r&&r.toggleClass(this.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){n.extend(this,{pagination:{init:ae.init.bind(this),render:ae.render.bind(this),update:ae.update.bind(this),destroy:ae.destroy.bind(this),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){this.params.loop?this.pagination.update():void 0===this.snapIndex&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(e){this.params.pagination.el&&this.params.pagination.hideOnClick&&this.pagination.$el.length>0&&!s(e.target).hasClass(this.params.pagination.bulletClass)&&(!0===this.pagination.$el.hasClass(this.params.pagination.hiddenClass)?this.emit("paginationShow",this):this.emit("paginationHide",this),this.pagination.$el.toggleClass(this.params.pagination.hiddenClass))}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){n.extend(this,{scrollbar:{init:re.init.bind(this),destroy:re.destroy.bind(this),updateSize:re.updateSize.bind(this),setTranslate:re.setTranslate.bind(this),setTransition:re.setTransition.bind(this),enableDraggable:re.enableDraggable.bind(this),disableDraggable:re.disableDraggable.bind(this),setDragPosition:re.setDragPosition.bind(this),getPointerPosition:re.getPointerPosition.bind(this),onDragStart:re.onDragStart.bind(this),onDragMove:re.onDragMove.bind(this),onDragEnd:re.onDragEnd.bind(this),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(e){this.scrollbar.setTransition(e)},destroy:function(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){n.extend(this,{parallax:{setTransform:ne.setTransform.bind(this),setTranslate:ne.setTranslate.bind(this),setTransition:ne.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},init:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTransition:function(e){this.params.parallax.enabled&&this.parallax.setTransition(e)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this,t={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach((function(i){t[i]=oe[i].bind(e)})),n.extend(e,{zoom:t});var i=1;Object.defineProperty(e.zoom,"scale",{get:function(){return i},set:function(t){if(i!==t){var s=e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,a=e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0;e.emit("zoomChange",t,s,a)}i=t}})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(e){this.zoom.enabled&&this.zoom.onTouchStart(e)},touchEnd:function(e){this.zoom.enabled&&this.zoom.onTouchEnd(e)},doubleTap:function(e){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(e)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()},slideChange:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.params.cssMode&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){n.extend(this,{lazy:{initialImageLoaded:!1,load:le.load.bind(this),loadInSlide:le.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){this.params.lazy.enabled&&(this.params.lazy.loadOnTransitionStart||!this.params.lazy.loadOnTransitionStart&&!this.lazy.initialImageLoaded)&&this.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()},slideChange:function(){this.params.lazy.enabled&&this.params.cssMode&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){n.extend(this,{controller:{control:this.params.controller.control,getInterpolateFunction:de.getInterpolateFunction.bind(this),setTranslate:de.setTranslate.bind(this),setTransition:de.setTransition.bind(this)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(e,t){this.controller.control&&this.controller.setTranslate(e,t)},setTransition:function(e,t){this.controller.control&&this.controller.setTransition(e,t)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var e=this;n.extend(e,{a11y:{liveRegion:s('<span class="'+e.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')}}),Object.keys(he).forEach((function(t){e.a11y[t]=he[t].bind(e)}))},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){n.extend(this,{history:{init:pe.init.bind(this),setHistory:pe.setHistory.bind(this),setHistoryPopState:pe.setHistoryPopState.bind(this),scrollToSlide:pe.scrollToSlide.bind(this),destroy:pe.destroy.bind(this)}})},on:{init:function(){this.params.history.enabled&&this.history.init()},destroy:function(){this.params.history.enabled&&this.history.destroy()},transitionEnd:function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)},slideChange:function(){this.history.initialized&&this.params.cssMode&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){n.extend(this,{hashNavigation:{initialized:!1,init:ce.init.bind(this),destroy:ce.destroy.bind(this),setHash:ce.setHash.bind(this),onHashCange:ce.onHashCange.bind(this)}})},on:{init:function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy:function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd:function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()},slideChange:function(){this.hashNavigation.initialized&&this.params.cssMode&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){var e=this;n.extend(e,{autoplay:{running:!1,paused:!1,run:ue.run.bind(e),start:ue.start.bind(e),stop:ue.stop.bind(e),pause:ue.pause.bind(e),onVisibilityChange:function(){"hidden"===document.visibilityState&&e.autoplay.running&&e.autoplay.pause(),"visible"===document.visibilityState&&e.autoplay.paused&&(e.autoplay.run(),e.autoplay.paused=!1)},onTransitionEnd:function(t){e&&!e.destroyed&&e.$wrapperEl&&t.target===this&&(e.$wrapperEl[0].removeEventListener("transitionend",e.autoplay.onTransitionEnd),e.$wrapperEl[0].removeEventListener("webkitTransitionEnd",e.autoplay.onTransitionEnd),e.autoplay.paused=!1,e.autoplay.running?e.autoplay.run():e.autoplay.stop())}}})},on:{init:function(){this.params.autoplay.enabled&&(this.autoplay.start(),document.addEventListener("visibilitychange",this.autoplay.onVisibilityChange))},beforeTransitionStart:function(e,t){this.autoplay.running&&(t||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(e):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},touchEnd:function(){this.params.cssMode&&this.autoplay.paused&&!this.params.autoplay.disableOnInteraction&&this.autoplay.run()},destroy:function(){this.autoplay.running&&this.autoplay.stop(),document.removeEventListener("visibilitychange",this.autoplay.onVisibilityChange)}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){n.extend(this,{fadeEffect:{setTranslate:ve.setTranslate.bind(this),setTransition:ve.setTransition.bind(this)}})},on:{beforeInit:function(){if("fade"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"fade");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};n.extend(this.params,e),n.extend(this.originalParams,e)}},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(e){"fade"===this.params.effect&&this.fadeEffect.setTransition(e)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){n.extend(this,{cubeEffect:{setTranslate:fe.setTranslate.bind(this),setTransition:fe.setTransition.bind(this)}})},on:{beforeInit:function(){if("cube"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"cube"),this.classNames.push(this.params.containerModifierClass+"3d");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};n.extend(this.params,e),n.extend(this.originalParams,e)}},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(e){"cube"===this.params.effect&&this.cubeEffect.setTransition(e)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){n.extend(this,{flipEffect:{setTranslate:me.setTranslate.bind(this),setTransition:me.setTransition.bind(this)}})},on:{beforeInit:function(){if("flip"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"flip"),this.classNames.push(this.params.containerModifierClass+"3d");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};n.extend(this.params,e),n.extend(this.originalParams,e)}},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(e){"flip"===this.params.effect&&this.flipEffect.setTransition(e)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){n.extend(this,{coverflowEffect:{setTranslate:ge.setTranslate.bind(this),setTransition:ge.setTransition.bind(this)}})},on:{beforeInit:function(){"coverflow"===this.params.effect&&(this.classNames.push(this.params.containerModifierClass+"coverflow"),this.classNames.push(this.params.containerModifierClass+"3d"),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(e){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(e)}}},{name:"thumbs",params:{thumbs:{multipleActiveThumbs:!0,swiper:null,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){n.extend(this,{thumbs:{swiper:null,init:be.init.bind(this),update:be.update.bind(this),onThumbClick:be.onThumbClick.bind(this)}})},on:{beforeInit:function(){var e=this.params.thumbs;e&&e.swiper&&(this.thumbs.init(),this.thumbs.update(!0))},slideChange:function(){this.thumbs.swiper&&this.thumbs.update()},update:function(){this.thumbs.swiper&&this.thumbs.update()},resize:function(){this.thumbs.swiper&&this.thumbs.update()},observerUpdate:function(){this.thumbs.swiper&&this.thumbs.update()},setTransition:function(e){var t=this.thumbs.swiper;t&&t.setTransition(e)},beforeDestroy:function(){var e=this.thumbs.swiper;e&&this.thumbs.swiperCreated&&e&&e.destroy()}}}];return void 0===W.use&&(W.use=W.Class.use,W.installModule=W.Class.installModule),W.use(we),W}));
/*# sourceMappingURL=swiper.min.js.map*/var geoXml,tooltip,overlay,marker,map="",markers=new Array,markersDirecciones=[],showingEmp=-1,showingidEmp=-1,LoadEmp=-1,LoadingMarker=!1,top_map=-1,bottom_map=-1,left_map=-1,right_map=-1;if(!tick)var tick=function(){};var boundSW,boundNE,Instalaciones=new Array,nInstalaciones=0,mapIcons=new Array,mapIcons2=new Array,mapIcons3=new Array,mapIconsLanding=null,clusterMarkersImgPath=globals.subdomain_cdn_css+"/assets/img/maps/cluster/mp";function initMaps(){for(i=0;i<50;i++)mapIcons[i]=new google.maps.MarkerImage(globals.subdomain_cdn_css+"/assets/img/maps/bg_marker.png",new google.maps.Size(30,30),new google.maps.Point(0,0),new google.maps.Point(7,38),new google.maps.Size(30,30));for(i=1;i<100;i++)if(17===i||18===i||19===i);else mapIcons2[i]=new google.maps.MarkerImage(globals.subdomain_cdn_css+"/assets/img/maps/bg_marker.png",new google.maps.Size(30,30),new google.maps.Point(0,0),new google.maps.Point(15,15),new google.maps.Size(30,30)),mapIcons3[i]=new google.maps.MarkerImage(globals.subdomain_cdn_css+"/assets/img/maps/bg_marker.png",new google.maps.Size(30,30),new google.maps.Point(0,0),new google.maps.Point(7,38),new google.maps.Size(30,30));mapIcons2[17]=new google.maps.MarkerImage(globals.subdomain_cdn_css+"/assets/img/maps/bg_marker-fav.png",new google.maps.Size(9,9),new google.maps.Point(0,0),new google.maps.Point(4.5,4.5),new google.maps.Size(9,9)),mapIcons3[17]=new google.maps.MarkerImage(globals.subdomain_cdn_css+"/assets/img/maps/bg_marker-events-fav.png",new google.maps.Size(11,11),new google.maps.Point(0,0),new google.maps.Point(15,15),new google.maps.Size(11,11)),mapIcons2[18]=new google.maps.MarkerImage(globals.subdomain_cdn_css+"/assets/img/maps/bg_marked.png",new google.maps.Size(9,9),new google.maps.Point(0,0),new google.maps.Point(4.5,4.5),new google.maps.Size(9,9)),mapIcons2[19]=new google.maps.MarkerImage(globals.subdomain_cdn_css+"/assets/img/maps/bg_marker.png",new google.maps.Size(30,30),new google.maps.Point(0,0),new google.maps.Point(15,15),new google.maps.Size(30,30)),mapIconsLanding=new google.maps.MarkerImage(globals.subdomain_cdn_css+"/assets/img/maps/bg_marker-fav-small.png",new google.maps.Size(10,10),new google.maps.Point(0,0),new google.maps.Point(4.5,4.5),new google.maps.Size(10,10))}function showTooltip(e){tooltip.innerHTML=e.tooltip;var o=(projection=overlay.getProjection()).fromLatLngToDivPixel(projection.fromDivPixelToLatLng(new google.maps.Point(0,0))),a=projection.fromLatLngToDivPixel(e.getPosition()),t=e.getIcon().anchor,e=e.getIcon().size.width;tooltip.style.left=a.x-o.x-t.x+e+"px",tooltip.style.top=a.y-o.y-Math.round(t.y/2)+0+"px",tooltip.style.visibility="visible"}var map_mini="";function GLoadMapMini(){if(""===map_mini)map_mini=new google.maps.Map(document.getElementById("map_mini"))}function GShowMiniEmp(e,o,a){GLoadMapMini();e=new google.maps.LatLng(e,o),o={center:e,zoom:a,mapTypeId:google.maps.MapTypeId.ROADMAP},map_mini.setOptions(o),a=new google.maps.MarkerImage(globals.subdomain_cdn_css+"/assets/img/maps/bg_marker.png",null,null,null,new google.maps.Size(29,29));new google.maps.Marker({position:e,map:map_mini,icon:a})}function GLoad(e){map=new google.maps.Map(document.getElementById(e))}function GLoadMap(){if(""===map)GLoad("map")}function GShowEmp(e,o,a,t,n){GLoadMap();var o=new google.maps.LatLng(o,a),a={center:o,zoom:t,mapTypeId:google.maps.MapTypeId.ROADMAP},t=(map.setOptions(a),new google.maps.MarkerImage(globals.subdomain_cdn_css+"/assets/img/maps/bg_marker.png",null,null,null,new google.maps.Size(29,29))),i=new google.maps.Marker({position:o,map:map,icon:t}),s=new google.maps.InfoWindow;google.maps.event.addListener(i,"click",function(){s.setContent(e),s.open(map,i)})}function GShowCustomEmp(e,o,a,t,n,i,s){GLoadMap();var n=new google.maps.LatLng(n,i),i={center:n,zoom:s,mapTypeId:google.maps.MapTypeId.ROADMAP},s=(map.setOptions(i),map.centeredMode=!0,overlay=new google.maps.OverlayView,new google.maps.MarkerImage(globals.subdomain_cdn_css+"/assets/img/maps/bg_marker.png",new google.maps.Size(30,30),null,new google.maps.Point(15,15),new google.maps.Size(30,30))),m=new google.maps.Marker({position:n,map:map,icon:s,idEmpresa:e,idEscaparate:o,idSector:t,Nombre:"emp"});if(null!==e)google.maps.event.addListener(m,"click",function(){showMarker(m)}),google.maps.event.addListenerOnce(map,"idle",function(){showMarker(m)})}function GShowDirecciones(e){GLoadMap();var o=new google.maps.LatLng(e.latitude,e.longitude),a={center:o,zoom:e.zoom,mapTypeId:google.maps.MapTypeId.ROADMAP},a=(map.setOptions(a),overlay=new google.maps.OverlayView,new google.maps.MarkerImage(globals.subdomain_cdn_css+"/assets/img/maps/bg_marker.png",new google.maps.Size(30,30),null,new google.maps.Point(15,15),new google.maps.Size(30,30))),t=new google.maps.Marker({position:o,map:map,icon:a,idEmpresa:e.idEmpresa,idEscaparate:"",idDireccion:e.idDireccion,Nombre:"emp"});if(markersDirecciones.push({idDireccion:e.idDireccion,marker:t}),null!==e.idEmpresa)google.maps.event.addListener(t,"click",function(){map.setCenter(t.getPosition()),showMarker(t,e.idDireccion)}),google.maps.event.addListenerOnce(map,"idle",function(){showMarker(t,e.idDireccion)});if(e.main)new google.maps.event.trigger(t,"click")}function initializeVendorsResultsMap(){initMaps(),GLoadMap();var e=document.getElementById("map"),e=e&&e.getAttribute("data-strvw")?1==e.getAttribute("data-strvw"):!0,e={mapTypeId:google.maps.MapTypeId.ROADMAP,gestureHandling:"greedy",streetViewControl:e};function o(e){this.setMap(e)}map.setOptions(e),map.centeredMode=!0,(tooltip=document.createElement("div")).style.position="absolute",tooltip.style.visibility="hidden",(o.prototype=new google.maps.OverlayView).onAdd=function(){},o.prototype.onRemove=function(){},o.prototype.draw=function(){},overlay=new o(map),google.maps.event.addListener(map,"idle",function(){overlay.getPanes().floatPane.appendChild(tooltip)})}function createMarkersFromHTML(e,o){if(o=o||!1,document.LoadedMarkers)for(var a=0;a<document.LoadedMarkers.length;a++)document.LoadedMarkers[a].setMap(null);for(var t=new Array,n=0,i=(top_map=-1,null),s=1,a=e.length-1;0<=a;a--){if("0"!=e[a].tipo&&"-1"!=e[a].tipo){var m="emp",p=e[a].idEmpresa,r=e[a].idEscaparate,l=e[a].idSector,c=e[a].tipo,d=unescape(e[a].nombre),g=createMarker(new google.maps.LatLng(parseFloat(e[a].lat),parseFloat(e[a].lng)),m,p,r,l,a,c,d);if(t[n]=g,ylatitud=parseFloat(e[a].lat),xlongitude=parseFloat(e[a].lng),-1==top_map)top_map=ylatitud,bottom_map=ylatitud,left_map=xlongitude,right_map=xlongitude;if(top_map>ylatitud)top_map=ylatitud;if(bottom_map<ylatitud)bottom_map=ylatitud;if(left_map>xlongitude)left_map=xlongitude;if(right_map<xlongitude)right_map=xlongitude;n++}google.maps.event.addListenerOnce(map,"bounds_changed",function(){if(i!=map.getZoom()){if(!1!==o)s=4;i=map.getZoom()+s,map.setZoom(i)}})}for(a=0;a<e.length;a++)if("0"==e[a].tipo){m="emp",p=e[a].idEmpresa,r=e[a].idEscaparate,l=e[a].idSector,c=e[a].tipo,d=unescape(e[a].nombre),g=createMarker(new google.maps.LatLng(parseFloat(e[a].lat),parseFloat(e[a].lng)),m,p,r,l,a,c,d);if(t[n]=g,ylatitud=parseFloat(e[a].lat),xlongitude=parseFloat(e[a].lng),-1==top_map)top_map=ylatitud,bottom_map=ylatitud,left_map=xlongitude,right_map=xlongitude;if(top_map>ylatitud)top_map=ylatitud;if(bottom_map<ylatitud)bottom_map=ylatitud;if(left_map>xlongitude)left_map=xlongitude;if(right_map<xlongitude)right_map=xlongitude;n++}for(a=0;a<e.length&&a<500;a++)if("-1"==e[a].tipo){m="emp",p=e[a].idEmpresa,r=e[a].idEscaparate,l=e[a].idSector,c=e[a].tipo,d=unescape(e[a].nombre),g=createMarker(new google.maps.LatLng(parseFloat(e[a].lat),parseFloat(e[a].lng)),m,p,r,l,a,c,d);if(t[n]=g,ylatitud=parseFloat(e[a].lat),xlongitude=parseFloat(e[a].lng),-1==top_map)top_map=ylatitud,bottom_map=ylatitud,left_map=xlongitude,right_map=xlongitude;if(top_map>ylatitud)top_map=ylatitud;if(bottom_map<ylatitud)bottom_map=ylatitud;if(left_map>xlongitude)left_map=xlongitude;if(right_map<xlongitude)right_map=xlongitude;n++}if(boundSW=new google.maps.LatLng(bottom_map,left_map),boundNE=new google.maps.LatLng(top_map,right_map),bounds=new google.maps.LatLngBounds(boundSW,boundNE),map.fitBounds(afinarZoom(bounds)),map.getZoom()>parseInt(globals.Request_Map_Zoom_Max))map.setZoom(parseInt(globals.Request_Map_Zoom_Max));if(document.LoadedMarkers=t,!o||"undefined"==typeof MarkerClusterer)addMarkers(t,0);else setClusterMarkers()}function setClusterMarkers(){if(document.markerCluster||"undefined"!=typeof MarkerClusterer){var e=new MarkerClusterer(map,document.LoadedMarkers,{imagePath:clusterMarkersImgPath,gridSize:35,minimumClusterSize:5});e.getStyles().forEach(function(e){e.textColor="white"}),document.markerCluster=e}}function afinarZoom(e){var o=e.getSouthWest(),e=e.getNorthEast(),a=o.lat(),t=o.lng(),n=e.lat(),i=(t-(r=e.lng()))/2,s=(a-n)/2,m=(t+r)/2,p=(a+n)/2,t=m+i,r=m-i,a=p+s,n=p-s,o=new google.maps.LatLng(a,t),e=new google.maps.LatLng(n,r);return new google.maps.LatLngBounds(o,e)}function addMarkers(e,o,a){var t=o,n=!1,i=Math.min(o+10,e.length);if(a<5&&200<o)n=!0;else if(a<8&&400<o)n=!0;if(!n){for(o=t;o<i;o++)e[o].setMap(map);if(o<e.length)setTimeout(function(){addMarkers(e,o,a)},0)}}function createMarker(e,o,a,t,n,i,s,m){var p;if("0"==s)p={position:e,map:map,zIndex:1,icon:mapIcons2[17],tooltip:m};else if("-1"==s)p={position:e,map:map,zIndex:0,icon:mapIcons2[18],tooltip:m};else if("-2"==s)p={position:e,map:map,zIndex:0,icon:mapIcons2[19],tooltip:m};else if("2"==s)p={position:e,map:map,zIndex:1,icon:mapIconsLanding,tooltip:m};else p={position:e,map:map,zIndex:9999999999,icon:mapIcons2[s],tooltip:m};var r=new google.maps.Marker(p);return r.idEmpresa=a,r.idEscaparate=t,r.idSector=n,r.Nombre=o,r.tooltip='<div class="tooltip"><nobr>'+m+"</nobr></div>",markers[i]=r,google.maps.event.addListener(r,"click",function(){showMarker(r)}),google.maps.event.addListener(r,"mouseover",function(){showTooltip(r)}),google.maps.event.addListener(r,"mouseout",function(){tooltip.style.visibility="hidden"}),r}function showMarker(e,o){if(null===e);else LoadEmpMarker(e,o)}function showMarkerEvento(e){if(null!=document.getElementById("esl_"+e.idEmpresa))obj=document.getElementById("esl_"+e.idEmpresa),leh(obj);LoadEmpMarkerEvento(e)}function LoadEmpMarker(e,o){var a=document.getElementById("map"),t="/list-LoadMarker.php?idEscaparate="+e.idEscaparate+"&id_empresa="+e.idEmpresa;if(void 0!==o)t=t+"&idDireccion="+o;gmaps_openLayerFunc(t,"capaListEmp",a,e)}function gmaps_openLayerFunc(e,c,d,g){$("#"+c).remove();function a(e){if(0!=e)e=!0;var o=document.getElementById(c);if(null===o);else{o.style.visibility="hidden",o.style.display="";var a,t,n=gmaps_getPositionByMarker(g),i=d.offsetWidth,s=(d.offsetHeight,g.getIcon()),m=o.offsetHeight+20;if(void 0===s.size)s.size={width:29,height:29};if(u)if(9==s.size.width)a=-2,t=-4;else a=-2,t=6;else a=Math.round(s.size.width/2),t=Math.round(s.size.height);var p=0,r=0;if(!e){if(n.x-125<10)p=Math.round(n.x-125)-20;if(n.y-m<40)r=Math.round(n.y-m)-40;if(n.x+125+10>i)p=Math.round(125-(i-n.x))+10;var l=!1;if(0!==p||0!==r)l=!0,map.panBy(p,r),o.style.display="none"}if(30<=s.size.width&&!u)p-=10;if(o.style.top=n.y-r-m-t+"px",o.style.left=n.x-p-Math.round(125)-a+(u?0:15)+"px",o.style.zIndex=10,o.style.position="absolute",!l)o.style.visibility="visible"}}var u=map.centeredMode,t=document.createElement("div");t.setAttribute("id",c),t.style.display="none",d.appendChild(t);google.maps.event.clearListeners(map,"drag"),google.maps.event.clearListeners(map,"idle"),google.maps.event.addListener(map,"drag",a),google.maps.event.addListener(map,"idle",a),$.ajax({url:e,success:function(e){$(t).html(e);var o=$("#"+c);t.onclick=function(e){if(void 0!==e&&"layer-map"==e.target.className)o.remove()},a(!1),setClusterMarkers()}})}function gmaps_openSmallLayerFunc(e,r,l,c){$("#"+r).remove();function a(){var e=l.offsetLeft,o=l.offsetTop,a=document.getElementById(r);if(null===a);else{a.style.visibility="hidden",a.style.display="";var t=gmaps_getPositionByMarker(c),n=l.offsetWidth,i=l.offsetHeight,s=c.getIcon(),m=Math.round(s.size.width/2),p=Math.round(s.size.height/2);if(t.x<0||t.x>n||t.y<0||t.y>i)a.style.display="none";else{if(30<=s.size.width)m=Math.round(s.size.width/4),p=Math.round(3*s.size.height/4);a.style.top=t.y+o-135-p+"px",a.style.left=t.x+e-Math.round(135)-m+"px",a.style.zIndex=10,a.style.position="absolute",a.style.display="",a.style.visibility="visible"}}}var t=document.createElement("div");t.setAttribute("id",r),t.style.display="none",$(t).appendTo("body");google.maps.event.clearListeners(map,"drag"),google.maps.event.clearListeners(map,"idle"),google.maps.event.addListener(map,"drag",a),google.maps.event.addListener(map,"idle",a),$.ajax({url:e,success:function(e){$(t).html(e);var o=$("#"+r);t.onclick=function(e){if(void 0!==e&&"layer-map"==e.target.className)o.remove()},a(),setClusterMarkers()}})}function gmaps_getPositionByMarker(e){var o=Math.pow(2,map.getZoom()),a=new google.maps.LatLng(map.getBounds().getNorthEast().lat(),map.getBounds().getSouthWest().lng()),a=map.getProjection().fromLatLngToPoint(a),e=map.getProjection().fromLatLngToPoint(e.getPosition());return new google.maps.Point(Math.floor((e.x-a.x)*o),Math.floor((e.y-a.y)*o))}function LoadEmpMarkerEvento(e){if(0==e.propia)window.location="/emp-ShowEvento.php?id_empresa="+e.idEmpresa+"&id_evento="+e.idEvento;else if(1==e.propia)window.location="/eventos-Show.php?id_evento="+e.idEvento}function closeEmpMarker(e){e.className=""}function GShow(e,o,a,t,n){var i;if(null==n)i=document.frmEmpresa;else i=document.getElementById(n);GLoadMap();var n=new google.maps.LatLng(o,a),o={center:n,zoom:t,mapTypeId:google.maps.MapTypeId.ROADMAP},s=(map.setOptions(o),marker=new google.maps.Marker({position:n,map:map,draggable:!0}),google.maps.event.addListener(marker,"dragend",function(){i.latitud.value=marker.getPosition().lat(),i.longitud.value=marker.getPosition().lng()}),new google.maps.InfoWindow);google.maps.event.addListener(marker,"click",function(){s.setContent(e),s.open(map,marker)})}function showDireccionSuggest(e){if("select"===e.Pais.type)showAddress(e,e.Direccion.value,e.txtStrPoblacion.value," ","",e.Pais.options[e.Pais.selectedIndex].text);else showAddress(e,e.Direccion.value,e.txtStrPoblacion.value," ","",e.Pais.value)}function showDireccionSuggestEvento(e){showAddressEvento(e,e.Direccion.value,e.txtStrPoblacion.value," ","",globals.REQUEST_COUNTRY)}function showDireccion(){if(-1!=document.frmEmpresa.Provincia.options[document.frmEmpresa.Provincia.selectedIndex].value&&-1!=document.frmEmpresa.Poblacion.options[document.frmEmpresa.Poblacion.selectedIndex].value)showAddress(document.frmEmpresa,document.frmEmpresa.Direccion.value,document.frmEmpresa.Poblacion.options[document.frmEmpresa.Poblacion.selectedIndex].text,document.frmEmpresa.Provincia.options[document.frmEmpresa.Provincia.selectedIndex].text,document.frmEmpresa.Pais.options[document.frmEmpresa.Pais.selectedIndex].text,"")}function showDireccionEmp(){if(-1!=document.frmEmpresa.Provincia.options[document.frmEmpresa.Provincia.selectedIndex].value&&-1!=document.frmEmpresa.Poblacion.options[document.frmEmpresa.Poblacion.selectedIndex].value)showAddress(document.frmEmpresa,document.frmEmpresa.Direccion.value,document.frmEmpresa.Poblacion.options[document.frmEmpresa.Poblacion.selectedIndex].text,document.frmEmpresa.Provincia.options[document.frmEmpresa.Provincia.selectedIndex].text,document.frmEmpresa.Pais.options[document.frmEmpresa.Pais.selectedIndex].text,"")}function showDireccionSuggestDirecciones(e){showAddressDirecciones(e,e.address1.value,e.txtStrPoblacion.value,$(e).find("select[name=country] option:selected").text())}function showAddressDirecciones(e,o,a,t){if(direccionCompletatmp="",GLoadMap(),""!==o)direccionCompletatmp=direccionCompletatmp.concat(o);if(""!==a)direccionCompletatmp=(direccionCompletatmp=direccionCompletatmp.concat(",")).concat(a);if(""!==t)direccionCompletatmp=(direccionCompletatmp=direccionCompletatmp.concat(",")).concat(t);console.log(direccionCompletatmp),Geolocalizacion(direccionCompletatmp,e)}function showAddress(e,o,a,t,n,i){if(direccionCompletatmp="",GLoadMap(),""!==o)direccionCompletatmp=direccionCompletatmp.concat(o);if(""!==a)direccionCompletatmp=(direccionCompletatmp=direccionCompletatmp.concat(",")).concat(a);if(""!==t)direccionCompletatmp=(direccionCompletatmp=direccionCompletatmp.concat(",")).concat(t);if(""!==n)direccionCompletatmp=(direccionCompletatmp=direccionCompletatmp.concat(",")).concat(n);if(""!==i)direccionCompletatmp=(direccionCompletatmp=direccionCompletatmp.concat(",")).concat(i);Geolocalizacion(direccionCompletatmp,e)}function showAddressEvento(e,o,a,t,n,i){if(direccionCompletatmp="",GLoadMap(),""!==o)direccionCompletatmp=direccionCompletatmp.concat(o);if(""!==a)direccionCompletatmp=(direccionCompletatmp=direccionCompletatmp.concat(",")).concat(a);if(""!==t)direccionCompletatmp=(direccionCompletatmp=direccionCompletatmp.concat(",")).concat(t);if(""!==n)direccionCompletatmp=(direccionCompletatmp=direccionCompletatmp.concat(",")).concat(n);if(""!==i)direccionCompletatmp=(direccionCompletatmp=direccionCompletatmp.concat(",")).concat(i);Geolocalizacion(direccionCompletatmp,e)}function Geolocalizacion(n,i){var s,m,e={address:n};(new google.maps.Geocoder).geocode(e,function(e,o){var a=$(".app-address-msgerror");if(o==google.maps.GeocoderStatus.OK){if(map.setCenter(e[0].geometry.location,10),marker&&marker.setMap)marker.setMap(null);if(marker=new google.maps.Marker({position:e[0].geometry.location}),GShow(n,marker.getPosition().lat(),marker.getPosition().lng(),16,i.name),null!=i.countryCode&&null!=e[0])for(var t=0;t<e[0].address_components.length;t++)if("country"==(address_component=e[0].address_components[t]).types[0])i.countryCode.value=address_component.short_name;if(s=marker.getPosition().lat(),m=marker.getPosition().lng(),!s&&!m)common_inputAlertwithMessageForAnimated(a,n+"  "+'no encontrado');else i.latitud.value=marker.getPosition().lat(),i.longitud.value=marker.getPosition().lng()}else common_inputAlertwithMessageForAnimated(a,n+"  "+'no encontrado')})}function LoadPoblaciones(){ajaxpage("/utils-ShowLoading.php","BuscarPoblacion"),ajaxpage("/emp-LoadPoblaciones.php?id_provincia="+document.frmEmpresa.Provincia.value+"&cod_postal="+document.frmEmpresa.CodigoPostal.value,"BuscarPoblacion")}function LoadProvinciasCom(e){if(ajaxpage("/utils-ShowLoading.php","BuscarPoblacion"),1)ajaxpage("/emp-LoadProvincias.php?id_pais="+document.frmComunidad.Pais.value+"&id_prov="+e,"BuscarProvincia");else ajaxpage("/emp-LoadProvincias.php?id_pais="+document.frmComunidad.Pais.value,"BuscarProvincia")}function LoadPoblacionesCom(){ajaxpage("/utils-ShowLoading.php","BuscarPoblacion"),ajaxpage("/emp-LoadPoblaciones.php?id_provincia="+document.frmComunidad.Provincia.value+"&cod_postal="+document.frmComunidad.CodigoPostal.value,"BuscarPoblacion")}function is_array(e){return"object"==typeof e&&e instanceof Array}function GLoadSite(e){if(!is_array(marker))marker=new Array;GLoad(e)}function GShowSite(e,o,a,t,n,i){GLoadSite(e);var e=new google.maps.LatLng(a,t),a={center:e,zoom:n,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1},s=(map.setOptions(a),marker[i]=new google.maps.Marker({position:e,map:map,draggable:!0}),new google.maps.InfoWindow);google.maps.event.addListener(marker[i],"click",function(){s.setContent(o),s.open(map,marker[i])})}function GShowSiteWebsite(e,o,a,t){GLoadSite(e);e=new google.maps.LatLng(o,a),o={center:e,zoom:t,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1},map.setOptions(o),a=new google.maps.MarkerImage(globals.subdomain_cdn_css+"/assets/img/maps/bg_marker.png",null,null,null,new google.maps.Size(29,29));new google.maps.Marker({position:e,map:map,icon:a,draggable:!0})}function GShowEvento(e,o,a,t){GLoad("map");var o=new google.maps.LatLng(o,a),a={center:o,zoom:t,mapTypeId:google.maps.MapTypeId.ROADMAP},n=(map.setOptions(a),marker=new google.maps.Marker({position:o,map:map,draggable:!0}),new google.maps.InfoWindow);google.maps.event.addListener(marker,"dragend",function(){document.formEventos.latitud.value=marker.getPosition().lat(),document.formEventos.longitud.value=marker.getPosition().lng()}),google.maps.event.addListener(marker,"click",function(){n.setContent(e),n.open(map,marker)})}function GShowMX(e,o,a,t){GLoad(e);e=new google.maps.LatLng(o,a),o={center:e,zoom:t,mapTypeId:google.maps.MapTypeId.ROADMAP};map.setOptions(o),marker=new google.maps.Marker({position:e,map:map,draggable:!0})}function GShowQuienesSomos(e,o,a,t){GLoadMap();var o=new google.maps.LatLng(o,a),a={center:o,zoom:t,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0},t=(map.setOptions(a),new google.maps.MarkerImage(globals.subdomain_cdn_css+"/assets/img/maps/bg_marker.png",null,null,null,new google.maps.Size(29,29))),n=new google.maps.Marker({position:o,map:map,icon:t}),i=new google.maps.InfoWindow;google.maps.event.addListener(n,"click",function(){i.setContent(e),i.open(map,n)})}function gmaps_showEmpLayerStaticMap(e,a){$.ajax({url:"/list-LoadMarker.php?id_empresa="+e+"&layout=storefront",success:function(e){$("#capaListEmp").remove();var o=$("<div/>",{id:"capaListEmp"});o.html(e),o.prependTo(a),o.show()}})}function initializeStaticGmapOnDemand(e,o){function a(){if(null==t)t=window.setTimeout(function(){if(Math.round(n-$(window).scrollTop())<400){if(window.clearTimeout(t),window.removeEventListener("scroll",a),initializeStaticGmap(),null!=o)o()}else window.clearTimeout(t),t=null},100)}var t,e=$("#"+e),n=e.position().top-e.height()-$(window).height();e.css({height:"auto"});window.addEventListener("scroll",a,!1),a()}function initializeStaticGmap(){(object=document.getElementById("staticmap")).src=object.getAttribute("data-src")}/*!
 * iro.js v5.2.3
 * 2016-2020 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).iro=t()}(this,function(){"use strict";var m,s,t,i,o,k={},M=[],r=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function j(n,t){for(var i in t)n[i]=t[i];return n}function y(n){var t=n.parentNode;t&&t.removeChild(n)}function d(n,t,i){var r,e,u,o,l=arguments;if(t=j({},t),3<arguments.length)for(i=[i],r=3;r<arguments.length;r++)i.push(l[r]);if(null!=i&&(t.children=i),null!=n&&null!=n.defaultProps)for(e in n.defaultProps)void 0===t[e]&&(t[e]=n.defaultProps[e]);return o=t.key,null!=(u=t.ref)&&delete t.ref,null!=o&&delete t.key,c(n,t,o,u)}function c(n,t,i,r){var e={type:n,props:t,key:i,ref:r,n:null,i:null,e:0,o:null,l:null,c:null,constructor:void 0};return m.vnode&&m.vnode(e),e}function O(n){return n.children}function I(n,t){this.props=n,this.context=t}function w(n,t){if(null==t)return n.i?w(n.i,n.i.n.indexOf(n)+1):null;for(var i;t<n.n.length;t++)if(null!=(i=n.n[t])&&null!=i.o)return i.o;return"function"==typeof n.type?w(n):null}function f(n){var t,i;if(null!=(n=n.i)&&null!=n.c){for(n.o=n.c.base=null,t=0;t<n.n.length;t++)if(null!=(i=n.n[t])&&null!=i.o){n.o=n.c.base=i.o;break}return f(n)}}function e(n){(!n.f&&(n.f=!0)&&1===s.push(n)||i!==m.debounceRendering)&&(i=m.debounceRendering,(m.debounceRendering||t)(u))}function u(){var n,t,i,r,e,u,o,l;for(s.sort(function(n,t){return t.p.e-n.p.e});n=s.pop();)n.f&&(r=i=void 0,u=(e=(t=n).p).o,o=t.w,l=t.u,t.u=!1,o&&(i=[],r=x(o,e,j({},e),t.m,void 0!==o.ownerSVGElement,null,i,l,null==u?w(e):u),v(i,e),r!=u&&f(e)))}function A(t,i,n,r,e,u,o,l,s){var c,f,a,h,v,d,g,b=n&&n.n||M,p=b.length;if(l==k&&(l=null!=u?u[0]:p?w(n,0):null),c=0,i.n=S(i.n,function(n){if(null!=n){if(n.i=i,n.e=i.e+1,null===(a=b[c])||a&&n.key==a.key&&n.type===a.type)b[c]=void 0;else for(f=0;f<p;f++){if((a=b[f])&&n.key==a.key&&n.type===a.type){b[f]=void 0;break}a=null}if(h=x(t,n,a=a||k,r,e,u,o,null,l,s),(f=n.ref)&&a.ref!=f&&(g=g||[]).push(f,n.c||h,n),null!=h){if(null==d&&(d=h),null!=n.l)h=n.l,n.l=null;else if(u==a||h!=l||null==h.parentNode){n:if(null==l||l.parentNode!==t)t.appendChild(h);else{for(v=l,f=0;(v=v.nextSibling)&&f<p;f+=2)if(v==h)break n;t.insertBefore(h,l)}"option"==i.type&&(t.value="")}l=h.nextSibling,"function"==typeof i.type&&(i.l=h)}}return c++,n}),i.o=d,null!=u&&"function"!=typeof i.type)for(c=u.length;c--;)null!=u[c]&&y(u[c]);for(c=p;c--;)null!=b[c]&&R(b[c],b[c]);if(g)for(c=0;c<g.length;c++)N(g[c],g[++c],g[++c])}function S(n,t,i){if(null==i&&(i=[]),null==n||"boolean"==typeof n)t&&i.push(t(null));else if(Array.isArray(n))for(var r=0;r<n.length;r++)S(n[r],t,i);else i.push(t?t(function(n){if(null==n||"boolean"==typeof n)return null;if("string"==typeof n||"number"==typeof n)return c(null,n,null,null);if(null==n.o&&null==n.c)return n;var t=c(n.type,n.props,n.key,null);return t.o=n.o,t}(n)):n);return i}function a(n,t,i){"-"===t[0]?n.setProperty(t,i):n[t]="number"==typeof i&&!1===r.test(t)?i+"px":null==i?"":i}function E(n,t,i,r,e){var u,o,l,s,c;if("key"===(t=e?"className"===t?"class":t:"class"===t?"className":t)||"children"===t);else if("style"===t)if(u=n.style,"string"==typeof i)u.cssText=i;else{if("string"==typeof r&&(u.cssText="",r=null),r)for(o in r)i&&o in i||a(u,o,"");if(i)for(l in i)r&&i[l]===r[l]||a(u,l,i[l])}else"o"===t[0]&&"n"===t[1]?(s=t!==(t=t.replace(/Capture$/,"")),t=((c=t.toLowerCase())in n?c:t).slice(2),i?(r||n.addEventListener(t,h,s),(n.t||(n.t={}))[t]=i):n.removeEventListener(t,h,s)):"list"!==t&&"tagName"!==t&&"form"!==t&&!e&&t in n?n[t]=null==i?"":i:"function"!=typeof i&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==i||!1===i?n.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):n.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):null==i||!1===i?n.removeAttribute(t):n.setAttribute(t,i))}function h(n){return this.t[n.type](m.event?m.event(n):n)}function x(n,t,i,r,e,u,o,l,s,c){var f,a,h,v,d,g,b,p,y,w,x=t.type;if(void 0!==t.constructor)return null;(f=m.e)&&f(t);try{n:if("function"==typeof x){if(p=t.props,y=(f=x.contextType)&&r[f.c],w=f?y?y.props.value:f.i:r,i.c?b=(a=t.c=i.c).i=a.k:("prototype"in x&&x.prototype.render?t.c=a=new x(p,w):(t.c=a=new I(p,w),a.constructor=x,a.render=_),y&&y.sub(a),a.props=p,a.state||(a.state={}),a.context=w,a.m=r,h=a.f=!0,a.M=[]),null==a.j&&(a.j=a.state),null!=x.getDerivedStateFromProps&&j(a.j==a.state?a.j=j({},a.j):a.j,x.getDerivedStateFromProps(p,a.j)),h)null==x.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&o.push(a);else{if(null==x.getDerivedStateFromProps&&null==l&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(p,w),!l&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(p,a.j,w)){for(a.props=p,a.state=a.j,a.f=!1,(a.p=t).o=null!=s?s!==i.o?s:i.o:null,t.n=i.n,f=0;f<t.n.length;f++)t.n[f]&&(t.n[f].i=t);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(p,a.j,w)}for(v=a.props,d=a.state,a.context=w,a.props=p,a.state=a.j,(f=m.O)&&f(t),a.f=!1,a.p=t,a.w=n,f=a.render(a.props,a.state,a.context),t.n=S(null!=f&&f.type==O&&null==f.key?f.props.children:f),null!=a.getChildContext&&(r=j(j({},r),a.getChildContext())),h||null==a.getSnapshotBeforeUpdate||(g=a.getSnapshotBeforeUpdate(v,d)),A(n,t,i,r,e,u,o,s,c),a.base=t.o;f=a.M.pop();)a.j&&(a.state=a.j),f.call(a);h||null==v||null==a.componentDidUpdate||a.componentDidUpdate(v,d,g),b&&(a.k=a.i=null)}else t.o=function(n,t,i,r,e,u,o,l){var s,c,f,a,h=i.props,v=t.props;if(e="svg"===t.type||e,null==n&&null!=u)for(s=0;s<u.length;s++)if(null!=(c=u[s])&&(null===t.type?3===c.nodeType:c.localName===t.type)){n=c,u[s]=null;break}if(null==n){if(null===t.type)return document.createTextNode(v);n=e?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type),u=null}return null===t.type?h!==v&&(null!=u&&(u[u.indexOf(n)]=null),n.data=v):t!==i&&(null!=u&&(u=M.slice.call(n.childNodes)),f=(h=i.props||k).dangerouslySetInnerHTML,a=v.dangerouslySetInnerHTML,l||(a||f)&&(a&&f&&a.I==f.I||(n.innerHTML=a&&a.I||"")),function(n,t,i,r,e){var u;for(u in i)u in t||E(n,u,null,i[u],r);for(u in t)e&&"function"!=typeof t[u]||"value"===u||"checked"===u||i[u]===t[u]||E(n,u,t[u],i[u],r)}(n,v,h,e,l),t.n=t.props.children,a||A(n,t,i,r,"foreignObject"!==t.type&&e,u,o,k,l),l||("value"in v&&void 0!==v.value&&v.value!==n.value&&(n.value=null==v.value?"":v.value),"checked"in v&&void 0!==v.checked&&v.checked!==n.checked&&(n.checked=v.checked))),n}(i.o,t,i,r,e,u,o,c);(f=m.diffed)&&f(t)}catch(n){m.o(n,t,i)}return t.o}function v(n,t){for(var i;i=n.pop();)try{i.componentDidMount()}catch(n){m.o(n,i.p)}m.c&&m.c(t)}function N(n,t,i){try{"function"==typeof n?n(t):n.current=t}catch(n){m.o(n,i)}}function R(n,t,i){var r,e,u;if(m.unmount&&m.unmount(n),(r=n.ref)&&N(r,null,t),i||"function"==typeof n.type||(i=null!=(e=n.o)),n.o=n.l=null,null!=(r=n.c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(n){m.o(n,t)}r.base=r.w=null}if(r=n.n)for(u=0;u<r.length;u++)r[u]&&R(r[u],t,i);null!=e&&y(e)}function _(n,t,i){return this.constructor(n,i)}m={},I.prototype.setState=function(n,t){var i=this.j!==this.state&&this.j||(this.j=j({},this.state));"function"==typeof n&&!(n=n(i,this.props))||j(i,n),null!=n&&this.p&&(this.u=!1,t&&this.M.push(t),e(this))},I.prototype.forceUpdate=function(n){this.p&&(n&&this.M.push(n),this.u=!0,e(this))},I.prototype.render=O,s=[],t="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i=m.debounceRendering,m.o=function(n,t,i){for(var r;t=t.i;)if((r=t.c)&&!r.i)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError)r.setState(r.constructor.getDerivedStateFromError(n));else{if(null==r.componentDidCatch)continue;r.componentDidCatch(n)}return e(r.k=r)}catch(t){n=t}throw n},o=k;var n="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",l="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",g="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",b=new RegExp("rgb"+l),p=new RegExp("rgba"+g),P=new RegExp("hsl"+l),z=new RegExp("hsla"+g),$="^(?:#?|0x?)",H="([0-9a-fA-F]{1})",T="([0-9a-fA-F]{2})",W=new RegExp($+H+H+H+"$"),C=new RegExp($+H+H+H+H+"$"),D=new RegExp($+T+T+T+"$"),F=new RegExp($+T+T+T+T+"$"),G=Math.log,L=Math.round,B=Math.floor;function U(n,t,i){return Math.min(Math.max(n,t),i)}function q(n,t){var i=-1<n.indexOf("%"),r=parseFloat(n);return i?t/100*r:r}function J(n){return parseInt(n,16)}function K(n){return n.toString(16).padStart(2,"0")}var Q=function(n,t){this.$={h:0,s:0,v:0,a:1},n&&this.set(n),this.onChange=t,this.initialValue=Object.assign({},this.$)},V={hsv:{configurable:!0},hsva:{configurable:!0},hue:{configurable:!0},saturation:{configurable:!0},value:{configurable:!0},alpha:{configurable:!0},kelvin:{configurable:!0},red:{configurable:!0},green:{configurable:!0},blue:{configurable:!0},rgb:{configurable:!0},rgba:{configurable:!0},hsl:{configurable:!0},hsla:{configurable:!0},rgbString:{configurable:!0},rgbaString:{configurable:!0},hexString:{configurable:!0},hex8String:{configurable:!0},hslString:{configurable:!0},hslaString:{configurable:!0}};Q.prototype.set=function(n){if("string"==typeof n)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(n)?this.hexString=n:/^rgba?/.test(n)?this.rgbString=n:/^hsla?/.test(n)&&(this.hslString=n);else{if("object"!=typeof n)throw new Error("Invalid color value");n instanceof Q?this.hsv=n.hsv:"object"==typeof n&&"r"in n&&"g"in n&&"b"in n?this.rgb=n:"object"==typeof n&&"h"in n&&"s"in n&&"v"in n?this.hsv=n:"object"==typeof n&&"h"in n&&"s"in n&&"l"in n&&(this.hsl=n)}},Q.prototype.setChannel=function(n,t,i){var r;this[n]=Object.assign({},this[n],((r={})[t]=i,r))},Q.prototype.reset=function(){this.hsva=this.initialValue},Q.prototype.clone=function(){return new Q(this)},Q.prototype.unbind=function(){this.onChange=void 0},Q.hsvToRgb=function(n){var t=n.h/60,i=n.s/100,r=n.v/100,e=B(t),u=t-e,o=r*(1-i),l=r*(1-u*i),s=r*(1-(1-u)*i),c=e%6,f=[s,r,r,l,o,o][c],a=[o,o,s,r,r,l][c];return{r:U(255*[r,l,o,o,s,r][c],0,255),g:U(255*f,0,255),b:U(255*a,0,255)}},Q.rgbToHsv=function(n){var t=n.r/255,i=n.g/255,r=n.b/255,e=Math.max(t,i,r),u=Math.min(t,i,r),o=e-u,l=0,s=e,c=0===e?0:o/e;switch(e){case u:l=0;break;case t:l=(i-r)/o+(i<r?6:0);break;case i:l=(r-t)/o+2;break;case r:l=(t-i)/o+4}return{h:60*l%360,s:U(100*c,0,100),v:U(100*s,0,100)}},Q.hsvToHsl=function(n){var t=n.s/100,i=n.v/100,r=(2-t)*i,e=r<=1?r:2-r,u=e<1e-9?0:t*i/e;return{h:n.h,s:U(100*u,0,100),l:U(50*r,0,100)}},Q.hslToHsv=function(n){var t=2*n.l,i=n.s*(t<=100?t:200-t)/100,r=t+i<1e-9?0:2*i/(t+i);return{h:n.h,s:U(100*r,0,100),v:U((t+i)/2,0,100)}},Q.kelvinToRgb=function(n){var t,i,r,e=n/100;return r=e<66?(t=255,i=-155.25485562709179-.44596950469579133*(i=e-2)+104.49216199393888*G(i),e<20?0:.8274096064007395*(r=e-10)-254.76935184120902+115.67994401066147*G(r)):(t=351.97690566805693+.114206453784165*(t=e-55)-40.25366309332127*G(t),i=325.4494125711974+.07943456536662342*(i=e-50)-28.0852963507957*G(i),255),{r:U(B(t),0,255),g:U(B(i),0,255),b:U(B(r),0,255)}},Q.rgbToKelvin=function(n){for(var t,i=n.r,r=n.b,e=1e3,u=4e4;.4<u-e;){t=.5*(u+e);var o=Q.kelvinToRgb(t);o.b/o.r>=r/i?u=t:e=t}return t},V.hsv.get=function(){var n=this.$;return{h:n.h,s:n.s,v:n.v}},V.hsv.set=function(n){var t=this.$;if(n=Object.assign({},t,n),this.onChange){var i={h:!1,v:!1,s:!1,a:!1};for(var r in t)i[r]=n[r]!=t[r];this.$=n,(i.h||i.s||i.v||i.a)&&this.onChange(this,i)}else this.$=n},V.hsva.get=function(){return Object.assign({},this.$)},V.hsva.set=function(n){this.hsv=n},V.hue.get=function(){return this.$.h},V.hue.set=function(n){this.hsv={h:n}},V.saturation.get=function(){return this.$.s},V.saturation.set=function(n){this.hsv={s:n}},V.value.get=function(){return this.$.v},V.value.set=function(n){this.hsv={v:n}},V.alpha.get=function(){return this.$.a},V.alpha.set=function(n){this.hsv=Object.assign({},this.hsv,{a:n})},V.kelvin.get=function(){return Q.rgbToKelvin(this.rgb)},V.kelvin.set=function(n){this.rgb=Q.kelvinToRgb(n)},V.red.get=function(){return this.rgb.r},V.red.set=function(n){this.rgb=Object.assign({},this.rgb,{r:n})},V.green.get=function(){return this.rgb.g},V.green.set=function(n){this.rgb=Object.assign({},this.rgb,{g:n})},V.blue.get=function(){return this.rgb.b},V.blue.set=function(n){this.rgb=Object.assign({},this.rgb,{b:n})},V.rgb.get=function(){var n=Q.hsvToRgb(this.$),t=n.r,i=n.g,r=n.b;return{r:L(t),g:L(i),b:L(r)}},V.rgb.set=function(n){this.hsv=Object.assign({},Q.rgbToHsv(n),{a:void 0===n.a?1:n.a})},V.rgba.get=function(){return Object.assign({},this.rgb,{a:this.alpha})},V.rgba.set=function(n){this.rgb=n},V.hsl.get=function(){var n=Q.hsvToHsl(this.$),t=n.h,i=n.s,r=n.l;return{h:L(t),s:L(i),l:L(r)}},V.hsl.set=function(n){this.hsv=Object.assign({},Q.hslToHsv(n),{a:void 0===n.a?1:n.a})},V.hsla.get=function(){return Object.assign({},this.hsl,{a:this.alpha})},V.hsla.set=function(n){this.hsl=n},V.rgbString.get=function(){var n=this.rgb;return"rgb("+n.r+", "+n.g+", "+n.b+")"},V.rgbString.set=function(n){var t,i,r,e,u=1;if((t=b.exec(n))?(i=q(t[1],255),r=q(t[2],255),e=q(t[3],255)):(t=p.exec(n))&&(i=q(t[1],255),r=q(t[2],255),e=q(t[3],255),u=q(t[4],1)),!t)throw new Error("Invalid rgb string");this.rgb={r:i,g:r,b:e,a:u}},V.rgbaString.get=function(){var n=this.rgba;return"rgba("+n.r+", "+n.g+", "+n.b+", "+n.a+")"},V.rgbaString.set=function(n){this.rgbString=n},V.hexString.get=function(){var n=this.rgb;return"#"+K(n.r)+K(n.g)+K(n.b)},V.hexString.set=function(n){var t,i,r,e,u=255;if((t=W.exec(n))?(i=17*J(t[1]),r=17*J(t[2]),e=17*J(t[3])):(t=C.exec(n))?(i=17*J(t[1]),r=17*J(t[2]),e=17*J(t[3]),u=17*J(t[4])):(t=D.exec(n))?(i=J(t[1]),r=J(t[2]),e=J(t[3])):(t=F.exec(n))&&(i=J(t[1]),r=J(t[2]),e=J(t[3]),u=J(t[4])),!t)throw new Error("Invalid hex string");this.rgb={r:i,g:r,b:e,a:u/255}},V.hex8String.get=function(){var n=this.rgba;return"#"+K(n.r)+K(n.g)+K(n.b)+K(B(255*n.a))},V.hex8String.set=function(n){this.hexString=n},V.hslString.get=function(){var n=this.hsl;return"hsl("+n.h+", "+n.s+"%, "+n.l+"%)"},V.hslString.set=function(n){var t,i,r,e,u=1;if((t=P.exec(n))?(i=q(t[1],360),r=q(t[2],100),e=q(t[3],100)):(t=z.exec(n))&&(i=q(t[1],360),r=q(t[2],100),e=q(t[3],100),u=q(t[4],1)),!t)throw new Error("Invalid hsl string");this.hsl={h:i,s:r,l:e,a:u}},V.hslaString.get=function(){var n=this.hsla;return"hsl("+n.h+", "+n.s+"%, "+n.l+"%, "+n.a+")"},V.hslaString.set=function(n){this.hslString=n},Object.defineProperties(Q.prototype,V);var X;function Y(n){var t=n.width,i=n.sliderSize,r=n.borderWidth,e=n.handleRadius,u=n.padding,o=n.sliderShape,l="horizontal"===n.layoutDirection;return i=i||2*u+2*e+2*r,"circle"===o?{handleStart:n.padding+n.handleRadius,handleRange:t-2*u-2*e-2*r,width:t,height:t,cx:t/2,cy:t/2,radius:t/2-r/2}:{handleStart:i/2,handleRange:t-i,radius:i/2,x:0,y:0,width:l?i:t,height:l?t:i}}function Z(n,t){var i=Y(n),r=i.width,e=i.height,u=i.handleRange,o=i.handleStart,l="horizontal"===n.layoutDirection,s=l?r/2:e/2,c=o+function(n,t){var i=t.hsva,r=t.rgb;switch(n.sliderType){case"red":return r.r/2.55;case"green":return r.g/2.55;case"blue":return r.b/2.55;case"alpha":return 100*i.a;case"kelvin":var e=n.minTemperature,u=n.maxTemperature-e,o=(t.kelvin-e)/u*100;return Math.max(0,Math.min(o,100));case"hue":return i.h/=3.6;case"saturation":return i.s;case"value":default:return i.v}}(n,t)/100*u;return l&&(c=-1*c+u+2*o),{x:l?s:c,y:l?c:s}}function nn(n){var t=n.width/2;return{width:n.width,radius:t-n.borderWidth,cx:t,cy:t}}function tn(n,t,i){var r=n.wheelAngle,e=n.wheelDirection;return((t=!i&&"clockwise"===e||i&&"anticlockwise"===e?(i?180:360)-(r-t):r+t)%360+360)%360}function rn(n,t,i){var r=nn(n),e=r.cx,u=r.cy,o=n.width/2-n.padding-n.handleRadius-n.borderWidth;t=e-t,i=u-i;var l=tn(n,Math.atan2(-i,-t)*(180/Math.PI)),s=Math.min(Math.sqrt(t*t+i*i),o);return{h:Math.round(l),s:Math.round(100/o*s)}}function en(n){var t=n.width;return{width:t,height:t,radius:n.padding+n.handleRadius}}function un(n,t,i){var r=en(n),e=r.width,u=r.height,o=r.radius,l=(t-o)/(e-2*o)*100,s=(i-o)/(u-2*o)*100;return{s:Math.max(0,Math.min(l,100)),v:Math.max(0,Math.min(100-s,100))}}function on(n){X=X||document.getElementsByTagName("base");var t=window.navigator.userAgent,i=/^((?!chrome|android).)*safari/i.test(t),r=/iPhone|iPod|iPad/i.test(t),e=window.location;return(i||r)&&0<X.length?e.protocol+"//"+e.host+e.pathname+e.search+n:n}function ln(n,t,i,r){for(var e=0;e<r.length;e++){var u=r[e].x-t,o=r[e].y-i;if(Math.sqrt(u*u+o*o)<n.handleRadius)return e}return null}var sn=["mousemove","touchmove","mouseup","touchend"],cn=function(t){function n(n){t.call(this,n),this.uid=(Math.random()+1).toString(36).substring(5)}return t&&(n.__proto__=t),((n.prototype=Object.create(t&&t.prototype)).constructor=n).prototype.render=function(n){var t=this.handleEvent.bind(this),i={onMouseDown:t,ontouchstart:t},r="horizontal"===n.layoutDirection,e=null===n.margin?n.sliderMargin:n.margin,u={overflow:"visible",display:r?"inline-block":"block"};return 0<n.index&&(u[r?"marginLeft":"marginTop"]=e),d(O,null,n.children(this.uid,i,u))},n.prototype.handleEvent=function(n){var t=this,i=this.props.onInput,r=this.base.getBoundingClientRect();n.preventDefault();var e=n.touches?n.changedTouches[0]:n,u=e.clientX-r.left,o=e.clientY-r.top;switch(n.type){case"mousedown":case"touchstart":sn.forEach(function(n){document.addEventListener(n,t,{passive:!1})}),i(u,o,0);break;case"mousemove":case"touchmove":i(u,o,1);break;case"mouseup":case"touchend":i(u,o,2),sn.forEach(function(n){document.removeEventListener(n,t)})}},n}(I);function fn(n){var t=n.r,i=n.url;return d("svg",{className:"IroHandle IroHandle--"+n.index+" "+(n.isActive?"IroHandle--isActive":""),x:n.x,y:n.y,style:{overflow:"visible"}},i&&d("use",Object.assign({xlinkHref:on(i)},n.props)),!i&&d("circle",{r:t,fill:"none","stroke-width":2,stroke:"#000"}),!i&&d("circle",{r:t-2,fill:n.fill,"stroke-width":2,stroke:"#fff"}))}function an(e){var n=e.activeIndex,u=void 0!==n&&n<e.colors.length?e.colors[n]:e.color,t=Y(e),r=t.width,o=t.height,l=t.radius,s=Z(e,u),c=function(n,t){var i=t.hsv,r=t.rgb;switch(n.sliderType){case"red":return[[0,"rgb(0,"+r.g+","+r.b+")"],[100,"rgb(255,"+r.g+","+r.b+")"]];case"green":return[[0,"rgb("+r.r+",0,"+r.b+")"],[100,"rgb("+r.r+",255,"+r.b+")"]];case"blue":return[[0,"rgb("+r.r+","+r.g+",0)"],[100,"rgb("+r.r+","+r.g+",255)"]];case"alpha":return[[0,"rgba("+r.r+","+r.g+","+r.b+",0)"],[100,"rgb("+r.r+","+r.g+","+r.b+")"]];case"kelvin":for(var e=[],u=n.minTemperature,o=n.maxTemperature,l=o-u,s=u,c=0;s<o;s+=l/8,c+=1){var f=Q.kelvinToRgb(s),a=f.r,h=f.g,v=f.b;e.push([12.5*c,"rgb("+a+","+h+","+v+")"])}return e;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var d=Q.hsvToHsl({h:i.h,s:0,v:i.v}),g=Q.hsvToHsl({h:i.h,s:100,v:i.v});return[[0,"hsl("+d.h+","+d.s+"%,"+d.l+"%)"],[100,"hsl("+g.h+","+g.s+"%,"+g.l+"%)"]];case"value":default:var b=Q.hsvToHsl({h:i.h,s:i.s,v:100});return[[0,"#000"],[100,"hsl("+b.h+","+b.s+"%,"+b.l+"%)"]]}}(e,u),f="alpha"===e.sliderType;return d(cn,Object.assign({},e,{onInput:function(n,t,i){var r=function(n,t,i){var r,e=Y(n),u=e.handleRange,o=e.handleStart;r="horizontal"===n.layoutDirection?-1*i+u+o:t-o,r=Math.max(Math.min(r,u),0);var l=Math.round(100/u*r);switch(n.sliderType){case"kelvin":var s=n.minTemperature;return s+l/100*(n.maxTemperature-s);case"alpha":return l/100;case"hue":return 3.6*l;case"red":case"blue":case"green":return 2.55*l;default:return l}}(e,n,t);e.parent.inputActive=!0,u[e.sliderType]=r,e.onInput(i)}}),function(n,t,i){return d("svg",Object.assign({},t,{className:"IroSlider",width:r,height:o,style:i}),d("defs",null,d("linearGradient",Object.assign({id:"g"+n},function(n){var t="horizontal"===n.layoutDirection;return{x1:"0%",y1:t?"100%":"0%",x2:t?"0%":"100%",y2:"0%"}}(e)),c.map(function(n){return d("stop",{offset:n[0]+"%","stop-color":n[1]})})),f&&d("pattern",{id:"b"+n,width:"8",height:"8",patternUnits:"userSpaceOnUse"},d("rect",{x:"0",y:"0",width:"8",height:"8",fill:"#fff"}),d("rect",{x:"0",y:"0",width:"4",height:"4",fill:"#ccc"}),d("rect",{x:"4",y:"4",width:"4",height:"4",fill:"#ccc"})),f&&d("pattern",{id:"f"+n,width:"100%",height:"100%"},d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+on("#b"+n)+")"}),d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+on("#g"+n)+")"}))),d("rect",{className:"IroSliderBg",rx:l,ry:l,x:e.borderWidth/2,y:e.borderWidth/2,width:r-e.borderWidth,height:o-e.borderWidth,"stroke-width":e.borderWidth,stroke:e.borderColor,fill:"url("+on((f?"#f":"#g")+n)+")"}),d(fn,{isActive:!0,index:u.index,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:s.x,y:s.y}))})}function hn(e){var n=en(e),r=n.width,u=n.height,o=n.radius,l=e.colors,s=e.parent,t=e.activeIndex,c=void 0!==t&&t<e.colors.length?e.colors[t]:e.color,f=function(n,t){return[[[0,"#fff"],[100,"hsl("+t.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}(0,c),a=l.map(function(n){return function(n,t){var i=en(n),r=i.width,e=i.height,u=i.radius,o=t.hsv,l=u,s=r-2*u,c=e-2*u;return{x:l+o.s/100*s,y:l+(c-o.v/100*c)}}(e,n)});return d(cn,Object.assign({},e,{onInput:function(n,t,i){if(0===i){var r=ln(e,n,t,a);null!==r?s.setActiveColor(r):(s.inputActive=!0,c.hsv=un(e,n,t),e.onInput(i))}else 1===i&&(s.inputActive=!0,c.hsv=un(e,n,t));e.onInput(i)}}),function(n,t,i){return d("svg",Object.assign({},t,{className:"IroBox",width:r,height:u,style:i}),d("defs",null,d("linearGradient",{id:"s"+n,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},f[0].map(function(n){return d("stop",{offset:n[0]+"%","stop-color":n[1]})})),d("linearGradient",{id:"l"+n,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},f[1].map(function(n){return d("stop",{offset:n[0]+"%","stop-color":n[1]})})),d("pattern",{id:"f"+n,width:"100%",height:"100%"},d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+on("#s"+n)+")"}),d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+on("#l"+n)+")"}))),d("rect",{rx:o,ry:o,x:e.borderWidth/2,y:e.borderWidth/2,width:r-e.borderWidth,height:u-e.borderWidth,"stroke-width":e.borderWidth,stroke:e.borderColor,fill:"url("+on("#f"+n)+")"}),l.filter(function(n){return n!==c}).map(function(n){return d(fn,{isActive:!1,index:n.index,fill:n.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:a[n.index].x,y:a[n.index].y})}),d(fn,{isActive:!0,index:c.index,fill:c.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:a[c.index].x,y:a[c.index].y}))})}fn.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},an.defaultProps=Object.assign({},{sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3});var vn=Array.apply(null,{length:360}).map(function(n,t){return t});function dn(e){var n=nn(e),r=n.width,u=n.radius,o=n.cx,l=n.cy,s=e.colors,c=e.borderWidth,f=e.parent,a=e.color,h=a.hsv,v=s.map(function(n){return function(n,t){var i=t.hsv,r=nn(n),e=r.cx,u=r.cy,o=n.width/2-n.padding-n.handleRadius-n.borderWidth,l=(180+tn(n,i.h,!0))*(Math.PI/180),s=i.s/100*o,c="clockwise"===n.wheelDirection?-1:1;return{x:e+s*Math.cos(l)*c,y:u+s*Math.sin(l)*c}}(e,n)});return d(cn,Object.assign({},e,{onInput:function(n,t,i){if(0===i){var r=ln(e,n,t,v);null!==r?f.setActiveColor(r):(f.inputActive=!0,a.hsv=rn(e,n,t),e.onInput(i))}else 1===i&&(f.inputActive=!0,a.hsv=rn(e,n,t));e.onInput(i)}}),function(n,t,i){return d("svg",Object.assign({},t,{className:"IroWheel",width:r,height:r,style:i}),d("defs",null,d("radialGradient",{id:n},d("stop",{offset:"0%","stop-color":"#fff"}),d("stop",{offset:"100%","stop-color":"#fff","stop-opacity":"0"}))),d("g",{className:"IroWheelHue","stroke-width":u,fill:"none"},vn.map(function(n){return d("path",{key:n,d:function(n,t,i,r,e){var u=e-r<=180?0:1;return r*=Math.PI/180,e*=Math.PI/180,"M "+(n+i*Math.cos(e))+" "+(t+i*Math.sin(e))+" A "+i+" "+i+" 0 "+u+" 0 "+(n+i*Math.cos(r))+" "+(t+i*Math.sin(r))}(o,l,u/2,n,n+1.5),stroke:"hsl("+tn(e,n)+", 100%, 50%)"})})),d("circle",{className:"IroWheelSaturation",cx:o,cy:l,r:u,fill:"url("+on("#"+n)+")"}),e.wheelLightness&&d("circle",{className:"IroWheelLightness",cx:o,cy:l,r:u,fill:"#000",opacity:1-h.v/100}),d("circle",{className:"IroWheelBorder",cx:o,cy:l,r:u,fill:"none",stroke:e.borderColor,"stroke-width":c}),s.filter(function(n){return n!==a}).map(function(n){return d(fn,{isActive:!1,index:n.index,fill:n.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:v[n.index].x,y:v[n.index].y})}),d(fn,{isActive:!0,index:a.index,fill:a.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:v[a.index].x,y:v[a.index].y}))})}var gn=function(i){function n(n){var t=this;i.call(this,n),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=n.id,(0<n.colors.length?n.colors:[n.color]).forEach(function(n){return t.addColor(n)}),this.setActiveColor(0),this.state=Object.assign({},n,{color:this.color,colors:this.colors,layout:n.layout})}return i&&(n.__proto__=i),((n.prototype=Object.create(i&&i.prototype)).constructor=n).prototype.addColor=function(n,t){void 0===t&&(t=this.colors.length);var i=new Q(n,this.onColorChange.bind(this));this.colors.splice(t,0,i),this.colors.forEach(function(n,t){return n.index=t}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",i)},n.prototype.removeColor=function(n){var t=this.colors.splice(n,1)[0];t.unbind(),this.colors.forEach(function(n,t){return n.index=t}),this.state&&this.setState({colors:this.colors}),t.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",t)},n.prototype.setActiveColor=function(n){this.color=this.colors[n],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},n.prototype.setColors=function(n){var t=this;this.colors.forEach(function(n){return n.unbind()}),this.colors=[],n.forEach(function(n){return t.addColor(n)}),this.setActiveColor(0),this.emit("color:setAll",this.colors)},n.prototype.on=function(n,t){var i=this,r=this.events;(Array.isArray(n)?n:[n]).forEach(function(n){(r[n]||(r[n]=[])).push(t),i.deferredEvents[n]&&(i.deferredEvents[n].forEach(function(n){t.apply(null,n)}),i.deferredEvents[n]=[])})},n.prototype.off=function(n,i){var r=this;(Array.isArray(n)?n:[n]).forEach(function(n){var t=r.events[n];t&&t.splice(t.indexOf(i),1)})},n.prototype.emit=function(n){for(var t=this,i=[],r=arguments.length-1;0<r--;)i[r]=arguments[r+1];var e=this.activeEvents;!!e.hasOwnProperty(n)&&e[n]||(e[n]=!0,(this.events[n]||[]).forEach(function(n){return n.apply(t,i)}),e[n]=!1)},n.prototype.deferredEmit=function(n){for(var t,i=[],r=arguments.length-1;0<r--;)i[r]=arguments[r+1];var e=this.deferredEvents;(t=this).emit.apply(t,[n].concat(i)),(e[n]||(e[n]=[])).push(i)},n.prototype.setOptions=function(n){this.setState(Object.assign({},this.state,n))},n.prototype.resize=function(n){this.setOptions({width:n})},n.prototype.reset=function(){this.colors.forEach(function(n){return n.reset()}),this.setState({colors:this.colors})},n.prototype.onMount=function(n){this.el=n,this.deferredEmit("mount",this)},n.prototype.onColorChange=function(n,t){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",n,t)),this.emit("color:change",n,t)},n.prototype.emitInputEvent=function(n){0===n?this.emit("input:start",this.color):1===n?this.emit("input:move",this.color):2===n&&this.emit("input:end",this.color)},n.prototype.render=function(n,e){var u=this,t=e.layout;return Array.isArray(t)||(t=[{component:dn},{component:an}],e.transparency&&t.push({component:an,options:{sliderType:"alpha"}})),d("div",{class:"IroColorPicker",id:e.id,style:{display:e.display}},t.map(function(n,t){var i=n.component,r=n.options;return d(i,Object.assign({},e,r,{ref:void 0,onInput:u.emitInputEvent.bind(u),parent:u,index:t}))}))},n}(I);gn.defaultProps=Object.assign({},{width:300,height:300,handleRadius:8,handleSvg:null,handleProps:{x:0,y:0},color:"#fff",colors:[],borderColor:"#fff",borderWidth:0,wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",layoutDirection:"vertical",sliderSize:null,sliderMargin:12,padding:6},{colors:[],display:"block",id:null,layout:"default",margin:null});var bn,pn,yn,wn,xn=(mn.prototype=(bn=gn).prototype,Object.assign(mn,bn),mn.A=bn,mn);function mn(t,n){var i,r=document.createElement("div");function e(){var n=t instanceof Element?t:document.querySelector(t);n.appendChild(i.base),i.onMount(n)}return function(n,t,i){var r,e,u;m.i&&m.i(n,t),e=(r=i===o)?null:i&&i.n||t.n,n=d(O,null,[n]),u=[],x(t,r?t.n=n:(i||t).n=n,e||k,k,void 0!==t.ownerSVGElement,i&&!r?[i]:e?null:M.slice.call(t.childNodes),u,!1,i||k,r),v(u,n)}(d(bn,Object.assign({},{ref:function(n){return i=n}},n)),r),"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e),i}return(yn=pn=pn||{}).version="5.2.3",yn.Color=Q,yn.ColorPicker=xn,(wn=yn.ui||(yn.ui={})).h=d,wn.ComponentBase=cn,wn.Handle=fn,wn.Slider=an,wn.Wheel=dn,wn.Box=hn,pn});
var SidebarDomClassesConfig={getConfig:function(){return{sidebar:".app-websites-admin-sidebar",wrapper:".app-websites-admin-sidebar-wrapper",item:".app-websites-admin-sidebar-item",section:".app-websites-admin-sidebar-section",back:".app-websites-admin-sidebar-back",close:".app-websites-admin-sidebar-close"}}},HeaderDomClassesConfig={getConfig:function(){return{header:".app-websites-admin-header",openSidebar:".app-websites-admin-sidebar-open"}}},ShareZoneDomClassesConfig={getConfig:function(){return{button:".app-website-share-zone-button",content:".app-website-share-zone-content"}}},ContentDomClassesConfig={getConfig:function(){return{content:".app-websites-admin-content"}}},SwitchPlatformDomClassesConfig={getConfig:function(){return{wrapper:".app-websites-switch-platform-wrapper",button:".app-websites-switch-platform-button",mobileSimulatorContent:".app-websites-switch-platform-mobile-content"}}},SwitchDesignLayoutDomClassesConfig={getConfig:function(){return{wrapper:".app-change-design-layout-wrapper",button:".app-change-design-layout-button"}}};function AbstractSidebarManager(e,a,t,r){if(this.domClasses=a,this.$currentMenuObject=$("<div/>").append(e).find(this.domClasses.item),this.elementToScroll=t,this.section=r,void 0===window.sidebarPages)window.sidebarPages={};this.order=Object.entries(window.sidebarPages).length+1}function AbstractSidebarManagerDesign(e,a,t,r){AbstractSidebarManager.call(this,e,a,t,r)}AbstractSidebarManager.prototype.init=function(){var a=this;if(this.$currentMenuObject.hasClass(this.domClasses.item.replace(".","")))return new Promise(function(e){if(a.globalEvents(),a.events(),a.beforeLoad(),void 0===window.sidebarPages[a.section])a.appendTemplate();else a.reloadTemplate(window.sidebarPages[a.section]);a.afterLoad(),a.scrollTo(),a.addSectionToMemory(),window.pageGlobals.isShareFromTopBar?a.disableBackButton():a.enableBackButton(),e()});throw"Missing classes: template not valid"},AbstractSidebarManager.prototype.globalEvents=function(){var e=this;this.$currentMenuObject.find(this.domClasses.back).on("click",function(){if($(this).data("section"))$(document.body).one("SidebarHandler::pageLoaded",function(){e.closeSidebarSection(),e.afterClose()});else e.closeSidebarSection(),e.afterClose()}),this.$currentMenuObject.find(this.domClasses.close).on("click",function(){e.closeAllChildrenSidebarSection(),e.afterClose()}),$(document.body).on("AjaxUpdateUrlWebsiteRun::updated",function(e,a){var t=$(".app-websites-admin-url-share"),r=$(".app-websites-admin-url-display"),n=$(".app-websites-admin-url-display-header");t.data("clipboard-text",a.urlShare),r.html(a.urlDisplay).attr("title",a.urlShare).attr("src",a.urlShare),n.html(a.urlDisplay).attr("title",a.urlShare).attr("href",a.urlShare)})},AbstractSidebarManager.prototype.appendTemplate=function(){var e=this,a=100*(Object.keys(window.sidebarPages).length+1);$(this.domClasses.wrapper).append(this.$currentMenuObject),setTimeout(function(){$(e.domClasses.wrapper).css("transform","translate(-"+a+"%, 0)")},10)},AbstractSidebarManager.prototype.reloadTemplate=function(e){e.$currentMenuObject.replaceWith(this.$currentMenuObject)},AbstractSidebarManager.prototype.closeSidebarSection=function(){var e=this,a=$(this.domClasses.wrapper),t=100*(Object.keys(window.sidebarPages).length-1);a.css("transform","translate(-"+t+"%, 0)"),setTimeout(function(){e.$currentMenuObject.remove(),e.dropSectionFromMemory(e.section)},400)},AbstractSidebarManager.prototype.closeSidebarChildren=function(){var t=this,a=$(t.domClasses.wrapper);new Promise(function(e){for(var a in window.sidebarPages)if(window.sidebarPages[a].order<=t.order);else window.sidebarPages[a].$currentMenuObject.remove(),t.dropSectionFromMemory(window.sidebarPages[a].section);e()}).then(function(){var e=100*Object.keys(window.sidebarPages).length;a.css("transform","translate(-"+e+"%, 0)")})},AbstractSidebarManager.prototype.closeAllChildrenSidebarSection=function(){var e=$(this.domClasses.wrapper);e.css("transform","translate(0, 0)"),setTimeout(function(){e.find(".app-websites-admin-sidebar-item").each(function(e,a){a=$(a);if(0<e)a.remove()}),window.sidebarPages={}},400)},AbstractSidebarManager.prototype.scrollTo=function(){var e=this;if(e.elementToScroll){var a=$(e.elementToScroll),t={scrollContainer:e.domClasses.item};setTimeout(function(){a.addClass("highlight"),common_scrollElementIntoViewport(a,t).promise().done(function(){e.scrolledTo(),setTimeout(function(){a.removeClass("highlight")},3e3)})},300)}},AbstractSidebarManager.prototype.isMobile=function(){return globals.isMobile},AbstractSidebarManager.prototype.isSmallScreen=function(){return window.innerWidth<=768},AbstractSidebarManager.prototype.addSectionToMemory=function(e){window.sidebarPages[e||this.section]=this},AbstractSidebarManager.prototype.dropSectionFromMemory=function(e){delete window.sidebarPages[e||this.section]},AbstractSidebarManager.prototype.events=function(){},AbstractSidebarManager.prototype.beforeLoad=function(){},AbstractSidebarManager.prototype.afterLoad=function(){},AbstractSidebarManager.prototype.disableBackButton=function(){},AbstractSidebarManager.prototype.enableBackButton=function(){},AbstractSidebarManager.prototype.scrolledTo=function(){},AbstractSidebarManager.prototype.afterClose=function(){},AbstractSidebarManagerDesign.prototype=Object.create(AbstractSidebarManager.prototype),(AbstractSidebarManagerDesign.prototype.constructor=AbstractSidebarManagerDesign)._super=AbstractSidebarManager.prototype,AbstractSidebarManagerDesign.prototype.initColorPicker=function(){var t={height:120,width:315,layout:[{component:iro.ui.Box},{component:iro.ui.Slider,options:{sliderType:"hue"}}]};function r(e){if(e)$(e).contrastColor()}function s(e,a){CustomTemplateOptions.setColor(a.data("type"),e,{selectorData:a.data("selector-metadata")}),setTimeout(function(){$(a.data("selector-metadata")).each(function(){$($(this).selector).contrastColor()})},200)}$(".app-websites-admin-sidebar-color-palette").each(function(e,t){var a=t.querySelectorAll(".app-websites-admin-sidebar-color-palette-preview"),r=t.querySelectorAll(".app-websites-admin-sidebar-color-palette-custom");a.forEach(function(t){t.addEventListener("click",function(){var e=$(this).closest(".app-websites-admin-sidebar-color-palette-parent"),a=(e.find("li.active").removeClass("active"),e.find(".app-websites-admin-sidebar-color-palette-picker"));if($(this).addClass("active"),a)a.addClass("dnone");s(t.dataset.value,$(t)),d(t.dataset.value,$(t));e.find(r).css("background","#000");a=e.find(".app-websites-admin-sidebar-color-picker-preview");a.val(t.dataset.value),a.trigger("blur",!0)})}),r.forEach(function(e){e.addEventListener("click",function(){var e=$(this).data("id"),a=t.querySelector("#"+e),e=$(t).find("[data-id='"+e+"']").closest(".app-websites-admin-sidebar-color-palette-parent");a.classList.toggle("dnone"),e.find("li.active").removeClass("active"),$(this).addClass("active")})})}),$(".app-websites-admin-sidebar-color-picker").each(function(e,a){var n=new iro.ColorPicker("#"+$(a).attr("id"),t),i=$(n.el).find(".app-websites-admin-sidebar-color-picker-preview"),o=$(a).parents(".app-websites-admin-sidebar-color-palette-parent").find(".app-websites-admin-sidebar-color-palette-custom");n.colors[0].hexString=i.val(),r(o),n.on("color:change",function(e,a){if(i.val(e.hexString),!a)$(o).css("background",e.hexString);s(e.hexString,i),r(o)}),n.on("input:end",function(e){$(o).css("background",e.hexString),d(e.hexString,i)}),i.on("keyup",function(e){if("Enter"!==e.key)return!0;$(this).trigger("blur")}),i.on("blur",function(e,a){var t=$(this),r=t.val();if(r.length<6||0!==r.indexOf())if(r="#"+(r=r.replace("#",""))+"000000".substr(0,6-r.length),t.val(r),!a)o.css("background",r);s(n.color.hexString=r,i),d(r,i)})});var n=null;function d(e,a){LoaderHandler.addLoader(LoaderHandler.type.sidebar),clearTimeout(n),n=setTimeout(function(){CustomTemplateOptions.setColor(a.data("type"),e,{selectorData:a.data("selector-metadata"),forcePersist:!0},function(){LoaderHandler.removeLoader(LoaderHandler.type.sidebar)})},1e3)}},AbstractSidebarManagerDesign.prototype.uploadersBackground=function(t){if(t=$.extend({containerId:"",dropElementId:"",browseButtonId:"",isHeader:!0,isFooter:!1},t),0===$("#"+t.containerId).length||window.isNativeAndroidApp);else{var e={container:t.containerId,drop_element:t.dropElementId,browse_button:t.browseButtonId,url:"/uploaders/upload-CustomBackgroundPhotos.php?isHeader="+t.isHeader+"&isFooter="+t.isFooter,avoidHide:!0,onFileUploaded:function(e,a){$("#"+t.containerId).find("img").removeClass("dnone").attr("src",a.urlFoto)}};window.uploaderFloat=va_plupload_initGalleryUploader(1,!1,e)}};var SwitchPlatformHandler=function(){var r=SwitchPlatformDomClassesConfig.getConfig(),t=function(e){var a,t=document.querySelector(r.mobileSimulatorContent);switch(e){case"desktop":t.style.display="none",document.body.style.overflow="";break;case"mobile":t.style.display="flex",document.body.style.overflow="hidden",(a=$(".app-iframe-mobile").find("iframe")).hide(),website_admin_reloadIframe().then(function(){a.show()});break;default:new TypeError("The assigned platform ("+e+") does not exist")}};return{create:function(){var a;(a=document.querySelectorAll(r.button)).forEach(function(e){e.addEventListener("click",function(){t(this.dataset.platform),a.forEach(function(e){e.classList.remove("selected")}),this.classList.add("selected")})})}}}(),LoaderHandler=function(e,a){function t(e){switch(e){case s.header:var a=$(r.header);break;case s.content:a=$(i.content);break;case s.sidebar:a=$(n.sidebar);break;default:a=$("body")}return a}var r=HeaderDomClassesConfig.getConfig(),n=e.getConfig(),i=a.getConfig(),o=$(document.body),s={header:"header",content:"content",sidebar:"sidebar"},d=function(e){o.addClass("websitesAdminLoading"),t(e).append('<div class="loaderBar" />')},c=function(e){o.removeClass("websitesAdminLoading"),t(e).find(".loaderBar").remove()};return{create:function(){$(document.body).on("Loader::add",function(e,a){d((a=a||{}).type)}),$(document.body).on("Loader::remove",function(e,a){c((a=a||{}).type)})},addLoader:d,removeLoader:c,type:s}}(SidebarDomClassesConfig,ContentDomClassesConfig),LayoutHandler=function(e,a){var t=SidebarDomClassesConfig.getConfig(),r=e.getConfig(),n=a.getConfig(),i=function(){$("body").removeClass("websitesAdminSidebarOpen"),$(t.sidebar).removeClass("websitesAdminSidebar--open"),$(r.content).removeClass("websitesAdminContent--sidebarOpen"),$(n.mobileSimulatorContent).removeClass("websitesButtonSwitchPlatformMobileContent--sidebarOpen")},o=function(e){var e=$(e.target),a=$(".app-websites-admin-sidebar-edit-website-desktop");if(a.is(":hidden"))return!0;var t=$(".app-websites-admin-sidebar"),r=$(".suggest-navigation"),n=$(".modal");if(t)if(!t.hasClass("websitesAdminSidebar--open"))return!0;else if(e.closest(".app-websites-admin-sidebar").length)return!0;if(a)if(e===a)return!0;if(r){if(e===r)return!0;if(e.closest(".suggest-navigation").length)return!0}if(n){if(e===n)return!0;if(e.closest(".modal").length)return!0}i()};return{create:function(){$(document.body).on("click",t.close,function(){i()}),$(document.body).on("click",".app-create-domain-admin-sidebar-section",function(){var e=$(this).data("url"),a=$(this).data("section");SidebarHandler.openSection(e,a)}),$(document.body).off("click",".app-registry-activate-button"),$(document.body).on("click",".app-registry-activate-button",website_registry_make_it_visible),$(document.body).on("click",function(e){o(e)})},close:i,open:function(){$("body").addClass("websitesAdminSidebarOpen"),$(t.sidebar).addClass("websitesAdminSidebar--open"),$(r.content).addClass("websitesAdminContent--sidebarOpen"),$(n.mobileSimulatorContent).addClass("websitesButtonSwitchPlatformMobileContent--sidebarOpen")}}}(ContentDomClassesConfig,SwitchPlatformDomClassesConfig),AjaxContentManager={get:function(e,a){return $.ajax({url:e,data:a,cache:!1}).fail(function(){website_error_toast(null,'Ups. Parece que ha habido un error.'),LoaderHandler.removeLoader(LoaderHandler.type.sidebar)})},post:function(e,a){return $.ajax({url:e,type:"POST",data:a,cache:!1}).fail(function(){website_error_toast(null,'Ups. Parece que ha habido un error.'),LoaderHandler.removeLoader(LoaderHandler.type.sidebar)})}};function SidebarManagerDesign(e,a,t,r){AbstractSidebarManagerDesign.call(this,e,a,t,r)}function SidebarManagerDesignCouplesName(e,a,t,r){AbstractSidebarManagerDesign.call(this,e,a,t,r)}function SidebarManagerDesignNavigationFooter(e,a,t,r){AbstractSidebarManagerDesign.call(this,e,a,t,r)}function SidebarManagerDesignTitles(e,a,t,r){AbstractSidebarManagerDesign.call(this,e,a,t,r)}function SidebarManagerDesignParagraphs(e,a,t,r){AbstractSidebarManagerDesign.call(this,e,a,t,r)}function SidebarManagerDesignBackground(e,a,t,r){AbstractSidebarManagerDesign.call(this,e,a,t,r)}function SidebarManagerPages(e,a,t,r){AbstractSidebarManager.call(this,e,a,t,r)}function SidebarManagerReloadDesign(){$('.app-websites-admin-sidebar-section[data-section="design"]').trigger("click")}function SidebarManagerDeleteLogo(e,a,t,r){AbstractSidebarManagerDesign.call(this,e,a,t,r)}function SidebarManagerPageManagerList(e,a,t,r){AbstractSidebarManager.call(this,e,a,t,r)}function SidebarManagerPagesCreateNewType(e,a,t,r){AbstractSidebarManager.call(this,e,a,t,r)}function SidebarManagerPagesEdit(e,a,t,r){AbstractSidebarManager.call(this,e,a,t,r)}function SidebarManagerSettings(e,a,t,r){AbstractSidebarManager.call(this,e,a,t,r)}function SidebarManagerSettingsPassword(e,a,t,r){AbstractSidebarManager.call(this,e,a,t,r)}function SidebarManagerActivity(e,a,t,r){AbstractSidebarManager.call(this,e,a,t,r)}function SidebarManagerSettingsCustomDomain(e,a,t,r){AbstractSidebarManager.call(this,e,a,t,r)}function SidebarManagerSettingsCustomDomainPremium(e,a,t,r){AbstractSidebarManager.call(this,e,a,t,r)}function SidebarManagerShareWebsite(e,a,t,r){AbstractSidebarManager.call(this,e,a,t,r)}SidebarManagerDesign.prototype=Object.create(AbstractSidebarManagerDesign.prototype),(SidebarManagerDesign.prototype.constructor=SidebarManagerDesign)._super=AbstractSidebarManagerDesign.prototype,SidebarManagerDesign.prototype.events=function(){var e=this,t=(this.$currentMenuObject.on("click",".app-websites-select-option, .app-websites-select-custom-template",function(){e.setTemplate($(this))}),SwitchDesignLayoutDomClassesConfig.getConfig());this.$currentMenuObject.on("click",t.button,function(e){if($(this).hasClass("selected"))e.preventDefault();else{$(t.button).each(function(){$(this).toggleClass("selected")});var a=$(".app-preview-spinner-sidebar");a.removeClass("dnone"),$(".app-website-admin-themes").html(""),$.post("/website/admin/website-AjaxGetDesigns",{layoutId:$(this).data("layout")}).done(function(e){if(e.success&&e.designHtml)a.addClass("dnone"),$(".app-website-admin-themes").html(e.designHtml);else website_error_toast("","Error loading designs")})}})},SidebarManagerDesign.prototype.setTemplate=function(e){if(this.isSmallScreen())LayoutHandler.close();else this.$currentMenuObject.find(this.domClasses.item).animate({scrollTop:0},500)},SidebarManagerDesignCouplesName.prototype=Object.create(AbstractSidebarManagerDesign.prototype),(SidebarManagerDesignCouplesName.prototype.constructor=SidebarManagerDesignCouplesName)._super=AbstractSidebarManagerDesign.prototype,SidebarManagerDesignCouplesName.prototype.afterLoad=function(){this.initColorPicker()},SidebarManagerDesignNavigationFooter.prototype=Object.create(AbstractSidebarManagerDesign.prototype),(SidebarManagerDesignNavigationFooter.prototype.constructor=SidebarManagerDesignNavigationFooter)._super=AbstractSidebarManagerDesign.prototype,SidebarManagerDesignNavigationFooter.prototype.afterLoad=function(){this.initColorPicker()},SidebarManagerDesignTitles.prototype=Object.create(AbstractSidebarManagerDesign.prototype),(SidebarManagerDesignTitles.prototype.constructor=SidebarManagerDesignTitles)._super=AbstractSidebarManagerDesign.prototype,SidebarManagerDesignTitles.prototype.afterLoad=function(){this.initColorPicker()},SidebarManagerDesignParagraphs.prototype=Object.create(AbstractSidebarManagerDesign.prototype),(SidebarManagerDesignParagraphs.prototype.constructor=SidebarManagerDesignParagraphs)._super=AbstractSidebarManagerDesign.prototype,SidebarManagerDesignParagraphs.prototype.afterLoad=function(){this.initColorPicker()},SidebarManagerDesignBackground.prototype=Object.create(AbstractSidebarManagerDesign.prototype),(SidebarManagerDesignBackground.prototype.constructor=SidebarManagerDesignBackground)._super=AbstractSidebarManagerDesign.prototype,SidebarManagerDesignBackground.prototype.afterLoad=function(){this.initColorPicker()},SidebarManagerPages.prototype=Object.create(AbstractSidebarManager.prototype),(SidebarManagerPages.prototype.constructor=SidebarManagerPages)._super=AbstractSidebarManager.prototype,SidebarManagerPages.prototype.afterLoad=function(){website_admin_enableSorting()},SidebarManagerPages.prototype.events=function(){var t=this;$(document.body).on("AjaxPageRun::created",function(e,a){if(t.closeSidebarChildren(),t.isSmallScreen())LayoutHandler.close();t.$currentMenuObject.find("#app-menu-sortable").append(a.elementHTML),website_admin_enableSorting(),website_success_toast("",'¡Sección creada en tu web!')})},SidebarManagerDeleteLogo.prototype=Object.create(AbstractSidebarManagerDesign.prototype),(SidebarManagerDeleteLogo.prototype.constructor=SidebarManagerDeleteLogo)._super=AbstractSidebarManagerDesign.prototype,SidebarManagerDeleteLogo.prototype.afterLoad=function(){website_admin_enableSorting()},SidebarManagerPageManagerList.prototype=Object.create(AbstractSidebarManager.prototype),(SidebarManagerPageManagerList.prototype.constructor=SidebarManagerPageManagerList)._super=AbstractSidebarManager.prototype,SidebarManagerPagesCreateNewType.prototype=Object.create(AbstractSidebarManager.prototype),(SidebarManagerPagesCreateNewType.prototype.constructor=SidebarManagerPagesCreateNewType)._super=AbstractSidebarManager.prototype,SidebarManagerPagesEdit.prototype=Object.create(AbstractSidebarManager.prototype),(SidebarManagerPagesEdit.prototype.constructor=SidebarManagerPagesEdit)._super=AbstractSidebarManager.prototype,SidebarManagerPagesEdit.prototype.updateTagsFromList=function(e){var a={0:'No visible',1:'Público',2:'Privado'};this.$elementFromList.find(".app-websites-admin-sidebar-pages-list-tag").removeClass("websitesSidebarSubMenuSortPages__tag--private websitesSidebarSubMenuSortPages__tag--public websitesSidebarSubMenuSortPages__tag--hide").addClass({0:"websitesSidebarSubMenuSortPages__tag--hide",1:"websitesSidebarSubMenuSortPages__tag--public",2:"websitesSidebarSubMenuSortPages__tag--private"}[e]).html(a[e])},SidebarManagerPagesEdit.prototype.updateNameFromList=function(e){this.$elementFromList.find(".app-websites-admin-sidebar-pages-list-name").html(e)},SidebarManagerPagesEdit.prototype.removePageFromList=function(){this.$elementFromList.remove()},SidebarManagerPagesEdit.prototype.events=function(){var t=this;$(document.body).one("AjaxPageRun::removed",function(){t.closeSidebarSection(),t.removePageFromList(),website_admin_reloadIframe(!0)}),$(document.body).one("AjaxPageRun::updated",function(e,a){a=a||{},t.closeSidebarSection(),t.updateNameFromList(a.name),t.updateTagsFromList(a.statusTag)}),this.$currentMenuObject.find(".app-websites-admin-sidebar-page-edit-input-status-name").on("click",function(){var r=$(this),e=r.closest(".app-websites-admin-sidebar-page-edit-input-status-wrapper"),n=e.find(".app-websites-admin-sidebar-page-edit-input-status"),i=e.find(".app-websites-admin-sidebar-page-edit-input-status-dropdown"),o=e.find(".app-websites-admin-sidebar-page-edit-input-status-dropdown-item");i.show(),$(document.body).one("mousedown",function(e){var a=$(e.target),t=a.closest(".app-websites-admin-sidebar-page-edit-input-status-dropdown-item");if(o.is(e.target))n.val(a.data("value")),r.val(a.data("name"));else if(t.length)n.val(t.data("value")),r.val(t.data("name"));i.hide()})})},SidebarManagerPagesEdit.prototype.afterLoad=function(){var e=this.$currentMenuObject.find('input[name="idPage"]').val();this.$elementFromList=$("#app-menu-sortable").find('li[data-id="'+e+'"]')},SidebarManagerSettings.prototype=Object.create(AbstractSidebarManager.prototype),(SidebarManagerSettings.prototype.constructor=SidebarManagerSettings)._super=AbstractSidebarManager.prototype,SidebarManagerSettings.prototype.events=function(){var a=this;this.$currentMenuObject.on("click",".app-websites-admin-settings-load-password",function(){if(this.checked)a.loadPasswordFormEvent();else AjaxContentManager.get("/website/admin/website-AjaxUpdateWebsiteRun.php",{option:"removePassword"})}),this.$currentMenuObject.on("click",".app-websites-admin-settings-option",function(e){e.preventDefault(),a.setOption(this)}),this.$currentMenuObject.on("submit",".app-websites-admin-settings-custom-data",function(e){e.preventDefault(),a.setCustomData($(this))}),this.$currentMenuObject.on("click",".app-websites-admin-settings-buy-pack",function(e){e.preventDefault(),LayoutHandler.close()})},SidebarManagerSettings.prototype.scrolledTo=function(){var e=$(".app-website-setting-login");if(!e.prop("checked"))e.trigger("click")},SidebarManagerSettings.prototype.setCustomData=function(r){var e=this,a=r.serialize()+"&option=setCustomData";LoaderHandler.addLoader(LoaderHandler.type.sidebar),AjaxContentManager.get("/website/admin/website-AjaxUpdateWebsiteRun.php",a).then(function(e){var a=$(r).find("*[name="+e.name+"]"),t=e.message;if(0==e.errCode)website_admin_reloadContenido("setCustomData",null),website_admin_reloadIframe(),website_success_toast("",'Cambios guardados con éxito');else LoaderHandler.removeLoader(LoaderHandler.type.sidebar),common_inputAlertwithMessageForAnimated(a,t)}),$(document.body).one("AjaxReloadContent::loaded",function(){LoaderHandler.removeLoader(LoaderHandler.type.sidebar),e.closeSidebarSection()})},SidebarManagerSettings.prototype.loadPasswordFormEvent=function(){SidebarHandler.openSection("/website/admin/website-AjaxConfSetPassword.php","settingsPassword")},SidebarManagerSettings.prototype.setOption=function(a){var t=a.name,e={option:t,value:a.checked?1:0};LoaderHandler.addLoader(LoaderHandler.type.sidebar),AjaxContentManager.get("/website/admin/website-AjaxUpdateWebsiteRun.php",e).then(function(e){if(1==e.errCode)LoaderHandler.removeLoader(LoaderHandler.type.sidebar),alert(e.message);else website_admin_reloadContenido(t,null),a.checked=!a.checked}),$(document.body).one("AjaxReloadContent::loaded",function(){LoaderHandler.removeLoader(LoaderHandler.type.sidebar)})},SidebarManagerSettingsPassword.prototype=Object.create(AbstractSidebarManager.prototype),(SidebarManagerSettingsPassword.prototype.constructor=SidebarManagerSettingsPassword)._super=AbstractSidebarManager.prototype,SidebarManagerSettingsPassword.prototype.afterLoad=function(){this.hasPass=!1},SidebarManagerSettingsPassword.prototype.afterClose=function(){if(!this.hasPass)$(".app-websites-admin-settings-load-password").attr("checked",!1)},SidebarManagerSettingsPassword.prototype.events=function(){var a=this;this.$currentMenuObject.on("submit",".app-websites-admin-settings-submit-password",function(e){e.preventDefault(),a.submitPassword($(this))})},SidebarManagerSettingsPassword.prototype.submitPassword=function(r){var n=this,e=r.serialize()+"&option=setPassword";LoaderHandler.addLoader(LoaderHandler.type.sidebar),AjaxContentManager.post("/website/admin/website-AjaxUpdateWebsiteRun.php",e).then(function(e){var a=$(r).find("*[name="+e.name+"]"),t=e.message;if(LoaderHandler.removeLoader(LoaderHandler.type.sidebar),0==e.errCode)n.closeSidebarSection(),n.hasPass=!0;else common_inputAlertwithMessageForAnimated(a,t)})},SidebarManagerActivity.prototype=Object.create(AbstractSidebarManager.prototype),(SidebarManagerActivity.prototype.constructor=SidebarManagerActivity)._super=AbstractSidebarManager.prototype,SidebarManagerSettingsCustomDomain.prototype=Object.create(AbstractSidebarManager.prototype),(SidebarManagerSettingsCustomDomain.prototype.constructor=SidebarManagerSettingsCustomDomain)._super=AbstractSidebarManager.prototype,SidebarManagerSettingsCustomDomain.prototype.events=function(){var e=this;this.$currentMenuObject.find(".app-websites-admin-update-url").on("click",function(){var e=$(this);LoaderHandler.addLoader(LoaderHandler.type.sidebar),website_admin_updateUrlWebsite(e.closest("form"),e)}),$(document.body).one("AjaxUpdateUrlWebsiteRun::updated",function(){LoaderHandler.removeLoader(LoaderHandler.type.sidebar),e.closeSidebarSection(),website_success_toast("",'URL actualizada')})},SidebarManagerSettingsCustomDomainPremium.prototype=Object.create(AbstractSidebarManager.prototype),(SidebarManagerSettingsCustomDomainPremium.prototype.constructor=SidebarManagerSettingsCustomDomainPremium)._super=AbstractSidebarManager.prototype,SidebarManagerSettingsCustomDomainPremium.prototype.events=function(){$(document.body).one("AjaxCreateDomain:created",function(){var e=$("#app-search-domain-frm"),a=e.find("input[name=domain]"),t=e.find("select"),e=e.find(".app-domain-btn");a.attr("disabled","disabled"),t.attr("disabled","disabled"),e.attr("data-status","disabled"),e.removeClass("app-website-create-domain")})},SidebarManagerShareWebsite.prototype=Object.create(AbstractSidebarManager.prototype),(SidebarManagerShareWebsite.prototype.constructor=SidebarManagerShareWebsite)._super=AbstractSidebarManager.prototype,SidebarManagerShareWebsite.prototype.afterLoad=function(){website_init_recaptcha(this.$currentMenuObject.find(".app-website-admin-share-form"))},SidebarManagerShareWebsite.prototype.disableBackButton=function(){$(".app-websites-admin-sidebar-back").hide()},SidebarManagerShareWebsite.prototype.enableBackButton=function(){$(".app-websites-admin-sidebar-back").show()},SidebarManagerShareWebsite.prototype.events=function(){var a=this;this.$currentMenuObject.find(".app-website-admin-share-guestlist-action").on("click",function(){$(this).toggleClass("open"),a.toggleGuestlist(!$(this).hasClass("open"))}),this.$currentMenuObject.find(".app-website-admin-share-form").on("submit",function(e){e.preventDefault(),a.submitShare($(this))})},SidebarManagerShareWebsite.prototype.bindGuestlistEvents=function(){var a=this;this.$currentMenuObject.find(".app-website-admin-share-guestlist-form").on("submit",function(e){e.preventDefault(),a.checkGuestlist()}),this.$currentMenuObject.find(".app-website-admin-share-guestlist-check-all").on("change",function(){$(".app-website-admin-share-guestlist-checkbox").prop("checked",$(this).is(":checked")?"checked":null)})},SidebarManagerShareWebsite.prototype.toggleGuestlist=function(e){var a=this,t=$(".app-website-admin-share-guestlist-wrapper");if(e)t.html("");else LoaderHandler.addLoader(LoaderHandler.type.sidebar),AjaxContentManager.get("/website/admin/website-AjaxShareWebsiteUsers.php",{}).then(function(e){t.append(e),a.bindGuestlistEvents(),LoaderHandler.removeLoader(LoaderHandler.type.sidebar)})},SidebarManagerShareWebsite.prototype.checkGuestlist=function(){var a=[],e=$(".app-website-admin-share-guestlist-checkbox:checked:enabled");if(e.length){var t=$('input[name="mails"]');if(0<t.val().length)a.push(t.val());e.each(function(){var e=$(this).data("mail");if(e)a.push(e)}),t.val(a.join(", ")),t.nextAll(".textfield__hint").remove(),t.closest(".textfield--error").removeClass("textfield--error"),this.$currentMenuObject.find(".app-website-admin-share-guestlist-action").trigger("click")}else alert('No se ha seleccionado ningún invitado');return!1},SidebarManagerShareWebsite.prototype.submitShare=function(t){var r=this,n=t.find("*[name='recaptcha']");return LoaderHandler.addLoader(LoaderHandler.type.sidebar),AjaxContentManager.get("/website/admin/website-AjaxShareWebsiteRun.php",t.serialize()).then(function(e){if(0==e.errCode){var a={eventType:website_getTrackingTypes().type_share_mail,eventSource:t.find("input[name=eventSource]").val()};website_success_toast("",e.message),website_tracking(a),r.closeSidebarSection()}else website_error_inline(t,e,n);LoaderHandler.removeLoader(LoaderHandler.type.sidebar)}),!1};var SidebarFactory=function(n){return{createSection:function(e,a,t){var r=n.getConfig();switch(e){case"activity":return new SidebarManagerActivity(a,r,t,e);case"design":return new SidebarManagerDesign(a,r,t,e);case"designCouplesName":return new SidebarManagerDesignCouplesName(a,r,t,e);case"designNavigationFooter":return new SidebarManagerDesignNavigationFooter(a,r,t,e);case"designTitles":return new SidebarManagerDesignTitles(a,r,t,e);case"designParagraphs":return new SidebarManagerDesignParagraphs(a,r,t,e);case"designBackground":return new SidebarManagerDesignBackground(a,r,t,e);case"pages":return new SidebarManagerPages(a,r,t,e);case"pageManagerList":return new SidebarManagerPageManagerList(a,r,t,e);case"pagesCreateNewType":return new SidebarManagerPagesCreateNewType(a,r,t,e);case"pagesEdit":return new SidebarManagerPagesEdit(a,r,t,e);case"settings":return new SidebarManagerSettings(a,r,t,e);case"settingsCustomDomain":return new SidebarManagerSettingsCustomDomain(a,r,t,e);case"settingsCustomDomainPremium":return new SidebarManagerSettingsCustomDomainPremium(a,r,t,e);case"settingsPassword":return new SidebarManagerSettingsPassword(a,r,t,e);case"shareWebsite":return new SidebarManagerShareWebsite(a,r,t,e);case"deleteLogo":return new SidebarManagerDeleteLogo(a,r,t,e);default:throw new Error("The type section is wrong [Class in factory not found]")}}}}(SidebarDomClassesConfig),SidebarHandler=function(n,i,o,s){var e=SidebarDomClassesConfig.getConfig(),d=!1,c=function(e,a,t,r){if(r=r||"",t=t||"",a=!0===(a=a||{}).fromGuest?null:$.extend(CustomTemplateOptions.getAll(),TemplateManager.getCurrentTemplateData(),a),!e)throw new TypeError("Missing URL");if(d);else return d=!0,s.addLoader(s.type.sidebar),n.get(e,a).then(function(e){if(!1===e.success)Toastada.deleteAll(),Toastada.warn(e.message).duration(4).show(),s.removeLoader(s.type.sidebar),d=!1;else i.createSection(t,e,r).init().then(function(){o.open(),s.removeLoader(s.type.sidebar),$(document.body).trigger("SidebarHandler::pageLoaded"),d=!1})})};return{create:function(){$(document.body).on("click",e.section,function(){var e=$(this),a=e.data("url"),t=e.data("section"),r=e.data("extra"),e=e.data("scrollto"),n=$(this).parents(".modal");window.pageGlobals.isShareFromTopBar=!!n.length,c(a,r,t,e)}),$(document.body).on("click",".app-link-share-websites",function(){if(window.location.href.includes("ShareWebsite"))window.location.reload();else window.location=$(this).data("url")}),$(document.body).ready(function(){var e=new URLSearchParams(window.location.search);if(e.has("backToEdit")&&"1"===e.get("backToEdit"))o.open();var e=window.location.hash.split("-"),a="",t={fromGuest:!1};if(e.length<2||"#opentab"!==e[0]);else{if(e.length&&"#opentab"===e[0]&&"ShareWebsite"===e[1])t={fromGuest:!0};if(e.length&&"#opentab"===e[0]&&"ShareZoneModal"===e[1])a=$(".app-websites-share-top-bar-button").data("urlModal"),ShareZoneHandler.showShareZone(a);else a="/website/admin/website-Ajax"+e[1]+".php",e=e[1].charAt(0).toLowerCase()+e[1].slice(1),c(a,t,e).then(function(){o.open()})}})},openSection:function(e,a){s.addLoader(s.type.header),c(e,{},a).then(function(){o.open(),s.removeLoader(s.type.header)})}}}(AjaxContentManager,SidebarFactory,LayoutHandler,LoaderHandler),HeaderHandler=function(t,e){var a=HeaderDomClassesConfig.getConfig(),r=e.getConfig();return{create:function(){$(a.openSidebar).on("click",function(e){if(e.stopPropagation(),t.open(),$(".app-websites-admin-sidebar-back").show(),$(document.body).data("is-landing-premium")){var a=$(".app-preview-spinner");a.removeClass("dnone"),TemplateManager.loadPage().then(function(){a.addClass("dnone"),$(document.body).removeAttr("data-is-landing-premium"),$(r.wrapper).removeClass("dnone")})}}),$(".app-websites-share-top-bar-button").on("click",function(){var e=$(this).data("urlModal");ShareZoneHandler.showShareZone(e)})}}}(LayoutHandler,SwitchPlatformDomClassesConfig),ShareZoneHandler={create:function(){var e,a;e=ShareZoneDomClassesConfig.getConfig(),(a=$(e.button)).on("mouseover",function(){ga_trackEventAllByData(a)})},showShareZone:function(e){$.ajax({type:"GET",url:e,data:{isModeAdmin:document.body.classList.contains("websites-mode-admin")?1:0},success:function(e){$("#app-common-layer").html(e).addClass("websiteModal").modal()}})}},AdminInitializator=function(e,a,t,r,n,i){return{init:function(){e.create(),a.create(),t.create(),r.create(),n.create(),i.create()}}}(LayoutHandler,SidebarHandler,HeaderHandler,LoaderHandler,SwitchPlatformHandler,ShareZoneHandler),ModalHandler=function(){var n=function(e){var a=e.data("domain-expired"),t=e.data("forced"),r=e.data("modal-payment"),n=e.data("redirect-payment")??0,r=r?r:0;if(a&&2==a)$("#app-common-layer").load("/website/templates/admin/website-admin-premiumExpiredDomain.php",{forced:t},function(){$(this).addClass("websiteModal"),$(this).modal("show")});else if(1==r)$("#app-common-layer").load(e.attr("data-href"),{forced:t},function(){if($(this).hasClass("websiteModalMsg"))$(this).removeClass("websiteModalMsg");else $(this).addClass("websiteModal");$(this).modal({backdrop:"static",keyboard:!1,show:!0}),adyenSkinWWs.init()});else{a=e.attr("data-href");if(1==n)window.location.href=a;else $(document.body).append('<iframe src="'+a+'" class="dnone"></iframe>')}},i=function(e){if(window.history&&window.history.pushState)window.history.pushState("forward",null,"./#forward"),$(window).on("popstate",function(){e.modal("hide")})},o=function(a){$(document.body).on("click",".modal-backdrop",function(e){e.stopPropagation(),a.modal("hide")})};return{init:function(){var e=$(".app-url-buy-pack").data("is-disclaimer-enabled"),r=e?e:0;$(document.body).on("click",".app-url-buy-pack",function(){var a,t,e=GetCookie("wws_payment_disclaimer");if(1===r&&"1"!==e)a=$(this),(e=document.querySelector(".app-disclaimer-content").cloneNode(!0)).classList.remove("websitesPaymentDisclaimer--hidden"),(t=$("#app-common-layer")).html(e.outerHTML).addClass("websiteModal").modal(),i(t),o(t),$(document.body).on("click",".app-disclaimer-button",function(e){e.preventDefault(),SetCookie("wws_payment_disclaimer",1),t.modal("hide"),setTimeout(function(){n(a)},1e3)});else n($(this))})}}}();$(document).ready(function(){AdminInitializator.init(),ModalHandler.init()});var AdyenDomElements={getClasses:function(){return{notification:"notification",notificationError:"notification--error",notificationSuccess:"notification--success",adyenErrorNotification:"adyenErrorNotification",showError:".app-show-error",spinner:".app-adyen-loader",showAdyenForm:".app-show-adyen-form",adyenPayButton:".adyen-checkout__button",adyenTermsBox:"adyen-checkout__label__terms",adyenTermsInputError:"adyen-checkout__label__text--legal--error",adyenTermsUrl:".app-adyen-terms-url",adyenTermsCheckbox:"app-adyen-terms-checkbox"}},getElements:function(){return{sessionIdInput:"item-session-id",redirectResultsInput:"item-redirect-results",referenceInput:"item-reference",sessionUrlInput:"item-session-url",returnUrlInput:"item-return-url",actionInput:"item-action-url",TCCheckbox:"app-adyen-terms-checkbox",TCLabel:"app-adyen-terms-label",TCError:"adyen-terms-error"}}},AdyenConfig={getConfig:function(e,n){return{environment:AdyenCommons.getAdyenEnvironment(),clientKey:AdyenCommons.getAdyenPublicKey(),translations:AdyenSkin.getTranslations(),locale:AdyenCommons.getAdyenLocale(),session:e,onPaymentCompleted:n,onError:AdyenCommons.onError,paymentMethodsConfiguration:{card:{hasHolderName:!0,holderNameRequired:!0,enableStoreDetails:!1,onFocus:function(){setTimeout(function(){AdyenError.clearBoxChanges()},300)}},paypal:{merchantId:AdyenCommons.getAdyenPayPalPublicKey(),environment:AdyenCommons.getAdyenPayPalEnvironment(),countryCode:AdyenCommons._getCountryCode(),amount:{currency:AdyenCommons.getAdyenCurrency()},blockPayPalPayLaterButton:!0,blockPayPalCreditButton:!0,onCancel:function(e,n){n.setStatus("ready")}},threeDS2:{challengeWindowSize:"05"}}}}},AdyenError=function(){const o={TOAST:"1",HINT:"2"};function r(e,n,t=o.TOAST){var r=`
            <i class="svgIcon notification__icon">
                <svg viewBox="0 0 46 46" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd">
                        <path d="M22.875,0.25 C35.3704425,0.25 45.5,10.3795575 45.5,22.875 C45.5,35.3704425 35.3704425,45.5 22.875,45.5 C10.3795575,45.5 0.25,35.3704425 0.25,22.875 C0.25,10.3795575 10.3795575,0.25 22.875,0.25 Z M22.875,1.75 C11.2079847,1.75 1.75,11.2079847 1.75,22.875 C1.75,34.5420153 11.2079847,44 22.875,44 C34.5420153,44 44,34.5420153 44,22.875 C44,11.2079847 34.5420153,1.75 22.875,1.75 Z M22.875,30.875 L23.0174528,30.8817716 C23.767538,30.9534511 24.3542,31.5853402 24.3542,32.3542 C24.3542,33.1711263 23.6919008,33.8333 22.875,33.8333 C22.0580992,33.8333 21.3958,33.1711263 21.3958,32.3542 C21.3958,31.5853402 21.982462,30.9534511 22.7325472,30.8817716 L22.875,30.875 Z M22.875,9 C23.2546958,9 23.568491,9.28215388 23.6181534,9.64822944 L23.625,9.75 L23.625,25.7917 C23.625,26.2059136 23.2892136,26.5417 22.875,26.5417 C22.4953042,26.5417 22.181509,26.2595461 22.1318466,25.8934706 L22.125,25.7917 L22.125,9.75 C22.125,9.33578644 22.4607864,9 22.875,9 Z" fill-rule="nonzero"></path>
                    </g>
                </svg>
            </i>
        `,n=`
            <div class="${a.notification} ${n}">
                <div class="notification__content">${r} ${e}</div>
            </div>
        `,r=`
            <div class="${AdyenDomElements.getElements().TCError} textfield__hint textfield__hint--red flex-center">
                ${r}
                <div class="ml5">${e}</div>
            </div>
        `;return t===o.TOAST?n:r}var a=AdyenDomElements.getClasses();return{setGenericBannerServiceNotPrivileges:function(){AdyenCommons.hideSpinner();var e=$(a.showError);if(e.length)e.append(r(function(){var e=AdyenCommons._getCountryCode();if("US"===e||"CA"===e)return 'You don\'t have the permission to add credit card information.';else return 'No tienes permiso para hacer esta acción'}(),a.notificationError)).show()},setGenericBannerServiceNotAvailable:function(){var e='Servicio temporalmente no disponible'+"<br/>"+'Disculpa las molestias.',n=(AdyenCommons.hideSpinner(),$(a.showError));if(n.length)n.append(r(e,a.notificationError)).show()},setBoxChanges:function(e,n){var t=$(a.showError);if(t.length)t.addClass(a.adyenErrorNotification),t.append(r(e,n)).show()},clearBoxChanges:function(){$(a.showError).removeClass(a.adyenErrorNotification),$(a.showError).html("").hide()},templateType:o,templateError:r}}(),AdyenCommons=function(){var t=AdyenDomElements.getClasses(),o=AdyenDomElements.getElements();function n(){return String(window.globals.environment)}function r(){return"US"===e()}var e=function(){return String(window.globals.countryCode)};function a(e,n){var t=document.getElementById(o.referenceInput),r=document.getElementById(o.actionInput);return $.ajax({url:r.value,type:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},data:JSON.stringify({reference:t.value,result:e,dropInData:n.data})}).done(function(e){return e})}function i(){var e,n,t=document.querySelector(AdyenDomElements.getClasses().adyenPayButton);if(t&&!document.getElementById(AdyenDomElements.getElements().TCCheckbox)){r=AdyenSkin.getTranslations()[AdyenCommons.getAdyenLocale()]["TC.label"],e=document.querySelector(AdyenDomElements.getClasses().adyenTermsUrl).dataset.termsUrl,(n=document.createElement("div")).className="formControl",n.innerHTML=`
            <div class="${AdyenDomElements.getClasses().adyenTermsBox} checkbox">
                <input type="checkbox" name="termsAccepted" id="${AdyenDomElements.getElements().TCCheckbox}" class="checkbox__input ${AdyenDomElements.getClasses().adyenTermsCheckbox}">
                <label 
                    for="${AdyenDomElements.getElements().TCCheckbox}" 
                    class="${AdyenDomElements.getElements().TCLabel} checkbox__icon adyen-checkout__label__text--legal"
                >
                    ${_s(r,`<a href="${e}" target="_blank">`,"</a>")}
                </label>
            </div>
        `;var r=n;t.before(r),t.addEventListener("click",s,!0)}}function s(e){var n=document.querySelector("."+AdyenDomElements.getClasses().adyenTermsCheckbox),t=document.querySelector("."+AdyenDomElements.getClasses().adyenTermsBox),r=document.querySelector("."+AdyenDomElements.getElements().TCLabel),o=t.querySelector("."+AdyenDomElements.getElements().TCError);if(!n.checked){if(e.preventDefault(),e.stopImmediatePropagation(),r.classList.add(AdyenDomElements.getClasses().adyenTermsInputError),!o)t.insertAdjacentHTML("beforeend",AdyenError.templateError('Debes aceptar las condiciones legales.',AdyenDomElements.getClasses().notificationError,AdyenError.templateType.HINT))}else{n=o,e=r;if(n)n.remove();e.classList.remove(AdyenDomElements.getClasses().adyenTermsInputError)}}function d(e,n){if(n.isValid)e.setStatus("success"),setTimeout(function(){if("refresh"===n.successRedirect)window.location.reload();else window.location.href=n.successRedirect},1e3);else setTimeout(function(){AdyenError.setBoxChanges(n.errorMessage,t.notificationError),e.setStatus("ready")},1)}return{getAllowedSession:function(){var e=document.getElementById(o.referenceInput),n=document.getElementById(o.sessionUrlInput),t=document.getElementById(o.returnUrlInput);if(!e||!n||!t)throw new Error("Required input missing item-reference, item-session-url or item-return-url");n=n.value;if(""===n)throw new Error("Required input with session url value");return $.ajax({url:n,type:"GET",data:{reference:e.value,returnUrl:t.value},headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).done(function(e){return e}).fail(function(e){throw AdyenError.setGenericBannerServiceNotAvailable(e),new Error(e)})},getAdyenEnvironment:function(){if("PROD"!==n())return"test";switch(e()){case"IN":return"live-apse";case"AR":case"BR":case"CA":case"CE":case"CL":case"CO":case"MX":case"US":case"UY":return"live-us";default:return"live"}},getAdyenPublicKey:function(){var e=r();if("PROD"===n())return e?"live_TFX7BSRNOJDFBIKGRTG3YDGIRATJH2PU":"live_77Y6NAJ4HNAFRGDYI7SMODJSMI37WN46";else return e?"test_N56CKDNC5FABNK4F3TV76MF6GQN5CH3I":"test_MTP3PABOTJFLBGDK36ZG2U2PZU4RUMXV"},getAdyenLocale:function(){switch(String(window.globals.language)){case"es":return"es_ES";case"fr":return"fr_FR";case"it":return"it_IT";case"pt":return"pt_BR";default:return"en_US"}},_getCountryCode:e,_getEnvironment:n,isWWAccount:r,onSubmitRedirectResultDropIn:function(e,n){var t=n.components[0];if(t.setStatus("loading"),"Authorised"===e.resultCode||"Received"===e.resultCode)a(e,t).done(function(e){d(t,e)}).fail(function(){d(t,{isValid:!1,errorMessage:'El pago no se ha realizado, por favor inténtalo de nuevo o prueba con otra tarjeta'})});else d(t,{isValid:!1,errorMessage:'El pago no se ha realizado, por favor inténtalo de nuevo o prueba con otra tarjeta'})},onSubmitSessionDropIn:function(e,n){if(n.setStatus("loading"),AdyenError.clearBoxChanges(),"Authorised"===e.resultCode||"Received"===e.resultCode)a(e,n).done(function(e){d(n,e)}).fail(function(){d(n,{isValid:!1,errorMessage:'El pago no se ha realizado, por favor inténtalo de nuevo o prueba con otra tarjeta'})});else d(n,{isValid:!1,errorMessage:'El pago no se ha realizado, por favor inténtalo de nuevo o prueba con otra tarjeta'})},onError:function(e){console.info(e),AdyenError.clearBoxChanges(),AdyenError.setBoxChanges('El pago no se ha realizado, por favor inténtalo de nuevo o prueba con otra tarjeta',t.notificationError)},hideSpinner:function(){$(t.spinner).hide()},getAdyenPayPalPublicKey:function(){var e=r();if("PROD"===n())return e?"TODO":"T8QTCXCWURPCW";else return e?"EC-9EF777625J130560E":"J54GGH7M2RBEU"},getAdyenPayPalEnvironment:function(){if("PROD"!==n())return"test";else return"live"},getAdyenCurrency:function(){switch(e()){case"ES":case"IT":case"PT":case"FR":case"IE":return"EUR";case"GB":return"GBP";case"AR":return"ARS";case"BR":return"BRL";case"CA":return"CAD";case"CL":return"CLP";case"CO":return"COP";case"MX":return"MXN";case"US":return"USD";case"UY":return"UYU";case"PE":return"PEN";case"IN":return"INR"}},addTCCheckbox:function(){var e=document.querySelector(AdyenDomElements.getClasses().showAdyenForm);if(e)new MutationObserver(()=>{i()}).observe(e,{childList:!0,subtree:!0}),i()},isLegalCheckBoxEnabled:"US"!==e()&&"CA"!==e()}}(),AdyenSkin=function(){var r=AdyenDomElements.getClasses(),o=AdyenDomElements.getElements();return{createForm:function(){var e=document.getElementById(o.sessionIdInput),n=document.getElementById(o.redirectResultsInput);if(""!==e.value&&""!==n.value){var t=n.value,n=e.value,e=AdyenConfig.getConfig({id:n},AdyenCommons.onSubmitRedirectResultDropIn);AdyenCheckout(e).then(function(e){AdyenCommons.hideSpinner(),e.create("dropin",{onSelect:function(){AdyenError.clearBoxChanges()}}).mount(r.showAdyenForm),e.submitDetails({details:{redirectResult:t}})})}else AdyenCommons.getAllowedSession().done(function(e){e=AdyenConfig.getConfig(e,AdyenCommons.onSubmitSessionDropIn);AdyenCheckout(e).then(function(e){AdyenCommons.hideSpinner(),e.create("dropin",{onSelect:function(){AdyenError.clearBoxChanges()}}).mount(r.showAdyenForm)})}).fail(function(e){throw AdyenError.setGenericBannerServiceNotAvailable(e),new Error(e)});if(AdyenCommons.isLegalCheckBoxEnabled)AdyenCommons.addTCCheckbox()},getTranslations:function(){var e={};return e[AdyenCommons.getAdyenLocale()]={"creditCard.holderName.placeholder":'Nombre del titular',"creditCard.holderName.title":'Nombre del titular',"creditCard.holderName.invalid":'Introduce un nombre de titular válido',"creditCard.numberField.invalid":'Introduce un número de tarjeta válido',"creditCard.numberField.placeholder":'Número de tarjeta',"creditCard.numberField.title":'Número de tarjeta',"creditCard.expiryDateField.invalid":'Introduce una fecha de caducidad válida',"creditCard.expiryDateField.title":'Fecha de caducidad',"creditCard.cvcField.title":'CVC',"creditCard.cvcField.placeholder":'CVC',"creditCard.oneClickVerification.invalidInput.title":'Introduce un CVV válido',"TC.label":'Confirmo que he leído y acepto los %sTérminos de Uso%s Específicos del Servicio Premium para Parejas'},e}}}(),adyenSkinWWs={init:function(){if(!document.getElementById("app-is-admin"))AdyenSkin.createForm();else AdyenError.setGenericBannerServiceNotPrivileges()}};